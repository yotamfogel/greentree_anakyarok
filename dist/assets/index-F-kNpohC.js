(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Py(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lm={exports:{}},Cl={},cm={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),jy=Symbol.for("react.portal"),Dy=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),zy=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),Wy=Symbol.for("react.lazy"),cf=Symbol.iterator;function Vy(r){return r===null||typeof r!="object"?null:(r=cf&&r[cf]||r["@@iterator"],typeof r=="function"?r:null)}var um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dm=Object.assign,hm={};function vs(r,t,e){this.props=r,this.context=t,this.refs=hm,this.updater=e||um}vs.prototype.isReactComponent={};vs.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};vs.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function fm(){}fm.prototype=vs.prototype;function rd(r,t,e){this.props=r,this.context=t,this.refs=hm,this.updater=e||um}var nd=rd.prototype=new fm;nd.constructor=rd;dm(nd,vs.prototype);nd.isPureReactComponent=!0;var uf=Array.isArray,pm=Object.prototype.hasOwnProperty,id={current:null},mm={key:!0,ref:!0,__self:!0,__source:!0};function gm(r,t,e){var n,l={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)pm.call(t,n)&&!mm.hasOwnProperty(n)&&(l[n]=t[n]);var c=arguments.length-2;if(c===1)l.children=e;else if(1<c){for(var a=Array(c),i=0;i<c;i++)a[i]=arguments[i+2];l.children=a}if(r&&r.defaultProps)for(n in c=r.defaultProps,c)l[n]===void 0&&(l[n]=c[n]);return{$$typeof:Po,type:r,key:o,ref:s,props:l,_owner:id.current}}function qy(r,t){return{$$typeof:Po,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function sd(r){return typeof r=="object"&&r!==null&&r.$$typeof===Po}function Ky(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var df=/\/+/g;function oc(r,t){return typeof r=="object"&&r!==null&&r.key!=null?Ky(""+r.key):t.toString(36)}function wa(r,t,e,n,l){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case Po:case jy:s=!0}}if(s)return s=r,l=l(s),r=n===""?"."+oc(s,0):n,uf(l)?(e="",r!=null&&(e=r.replace(df,"$&/")+"/"),wa(l,t,e,"",function(i){return i})):l!=null&&(sd(l)&&(l=qy(l,e+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(df,"$&/")+"/")+r)),t.push(l)),1;if(s=0,n=n===""?".":n+":",uf(r))for(var c=0;c<r.length;c++){o=r[c];var a=n+oc(o,c);s+=wa(o,t,e,a,l)}else if(a=Vy(r),typeof a=="function")for(r=a.call(r),c=0;!(o=r.next()).done;)o=o.value,a=n+oc(o,c++),s+=wa(o,t,e,a,l);else if(o==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ko(r,t,e){if(r==null)return r;var n=[],l=0;return wa(r,n,"","",function(o){return t.call(e,o,l++)}),n}function Gy(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var _r={current:null},xa={transition:null},Yy={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:xa,ReactCurrentOwner:id};function ym(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Ko,forEach:function(r,t,e){Ko(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return Ko(r,function(){t++}),t},toArray:function(r){return Ko(r,function(t){return t})||[]},only:function(r){if(!sd(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};_t.Component=vs;_t.Fragment=Dy;_t.Profiler=Fy;_t.PureComponent=rd;_t.StrictMode=Ly;_t.Suspense=Hy;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy;_t.act=ym;_t.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=dm({},r.props),l=r.key,o=r.ref,s=r._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=id.current),t.key!==void 0&&(l=""+t.key),r.type&&r.type.defaultProps)var c=r.type.defaultProps;for(a in t)pm.call(t,a)&&!mm.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=e;else if(1<a){c=Array(a);for(var i=0;i<a;i++)c[i]=arguments[i+2];n.children=c}return{$$typeof:Po,type:r.type,key:l,ref:o,props:n,_owner:s}};_t.createContext=function(r){return r={$$typeof:zy,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:By,_context:r},r.Consumer=r};_t.createElement=gm;_t.createFactory=function(r){var t=gm.bind(null,r);return t.type=r,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(r){return{$$typeof:Uy,render:r}};_t.isValidElement=sd;_t.lazy=function(r){return{$$typeof:Wy,_payload:{_status:-1,_result:r},_init:Gy}};_t.memo=function(r,t){return{$$typeof:$y,type:r,compare:t===void 0?null:t}};_t.startTransition=function(r){var t=xa.transition;xa.transition={};try{r()}finally{xa.transition=t}};_t.unstable_act=ym;_t.useCallback=function(r,t){return _r.current.useCallback(r,t)};_t.useContext=function(r){return _r.current.useContext(r)};_t.useDebugValue=function(){};_t.useDeferredValue=function(r){return _r.current.useDeferredValue(r)};_t.useEffect=function(r,t){return _r.current.useEffect(r,t)};_t.useId=function(){return _r.current.useId()};_t.useImperativeHandle=function(r,t,e){return _r.current.useImperativeHandle(r,t,e)};_t.useInsertionEffect=function(r,t){return _r.current.useInsertionEffect(r,t)};_t.useLayoutEffect=function(r,t){return _r.current.useLayoutEffect(r,t)};_t.useMemo=function(r,t){return _r.current.useMemo(r,t)};_t.useReducer=function(r,t,e){return _r.current.useReducer(r,t,e)};_t.useRef=function(r){return _r.current.useRef(r)};_t.useState=function(r){return _r.current.useState(r)};_t.useSyncExternalStore=function(r,t,e){return _r.current.useSyncExternalStore(r,t,e)};_t.useTransition=function(){return _r.current.useTransition()};_t.version="18.3.1";cm.exports=_t;var oe=cm.exports;const Xy=Py(oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=oe,Jy=Symbol.for("react.element"),Zy=Symbol.for("react.fragment"),eb=Object.prototype.hasOwnProperty,tb=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rb={key:!0,ref:!0,__self:!0,__source:!0};function bm(r,t,e){var n,l={},o=null,s=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)eb.call(t,n)&&!rb.hasOwnProperty(n)&&(l[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:Jy,type:r,key:o,ref:s,props:l,_owner:tb.current}}Cl.Fragment=Zy;Cl.jsx=bm;Cl.jsxs=bm;lm.exports=Cl;var F=lm.exports,Wc={},vm={exports:{}},Ur={},wm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(w,_){var E=w.length;w.push(_);e:for(;0<E;){var R=E-1>>>1,O=w[R];if(0<l(O,_))w[R]=_,w[E]=O,E=R;else break e}}function e(w){return w.length===0?null:w[0]}function n(w){if(w.length===0)return null;var _=w[0],E=w.pop();if(E!==_){w[0]=E;e:for(var R=0,O=w.length,W=O>>>1;R<W;){var V=2*(R+1)-1,X=w[V],D=V+1,K=w[D];if(0>l(X,E))D<O&&0>l(K,X)?(w[R]=K,w[D]=E,R=D):(w[R]=X,w[V]=E,R=V);else if(D<O&&0>l(K,E))w[R]=K,w[D]=E,R=D;else break e}}return _}function l(w,_){var E=w.sortIndex-_.sortIndex;return E!==0?E:w.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();r.unstable_now=function(){return s.now()-c}}var a=[],i=[],u=1,f=null,d=3,h=!1,g=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(w){for(var _=e(i);_!==null;){if(_.callback===null)n(i);else if(_.startTime<=w)n(i),_.sortIndex=_.expirationTime,t(a,_);else break;_=e(i)}}function C(w){if(y=!1,S(w),!g)if(e(a)!==null)g=!0,v(I);else{var _=e(i);_!==null&&x(C,_.startTime-w)}}function I(w,_){g=!1,y&&(y=!1,b(j),j=-1),h=!0;var E=d;try{for(S(_),f=e(a);f!==null&&(!(f.expirationTime>_)||w&&!U());){var R=f.callback;if(typeof R=="function"){f.callback=null,d=f.priorityLevel;var O=R(f.expirationTime<=_);_=r.unstable_now(),typeof O=="function"?f.callback=O:f===e(a)&&n(a),S(_)}else n(a);f=e(a)}if(f!==null)var W=!0;else{var V=e(i);V!==null&&x(C,V.startTime-_),W=!1}return W}finally{f=null,d=E,h=!1}}var P=!1,L=null,j=-1,B=5,z=-1;function U(){return!(r.unstable_now()-z<B)}function H(){if(L!==null){var w=r.unstable_now();z=w;var _=!0;try{_=L(!0,w)}finally{_?T():(P=!1,L=null)}}else P=!1}var T;if(typeof m=="function")T=function(){m(H)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,k=A.port2;A.port1.onmessage=H,T=function(){k.postMessage(null)}}else T=function(){p(H,0)};function v(w){L=w,P||(P=!0,T())}function x(w,_){j=p(function(){w(r.unstable_now())},_)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(w){w.callback=null},r.unstable_continueExecution=function(){g||h||(g=!0,v(I))},r.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<w?Math.floor(1e3/w):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return e(a)},r.unstable_next=function(w){switch(d){case 1:case 2:case 3:var _=3;break;default:_=d}var E=d;d=_;try{return w()}finally{d=E}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(w,_){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var E=d;d=w;try{return _()}finally{d=E}},r.unstable_scheduleCallback=function(w,_,E){var R=r.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?R+E:R):E=R,w){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=E+O,w={id:u++,callback:_,priorityLevel:w,startTime:E,expirationTime:O,sortIndex:-1},E>R?(w.sortIndex=E,t(i,w),e(a)===null&&w===e(i)&&(y?(b(j),j=-1):y=!0,x(C,E-R))):(w.sortIndex=O,t(a,w),g||h||(g=!0,v(I))),w},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(w){var _=d;return function(){var E=d;d=_;try{return w.apply(this,arguments)}finally{d=E}}}})(xm);wm.exports=xm;var nb=wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=oe,zr=nb;function Ue(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,uo={};function ji(r,t){us(r,t),us(r+"Capture",t)}function us(r,t){for(uo[r]=t,r=0;r<t.length;r++)_m.add(t[r])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=Object.prototype.hasOwnProperty,sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf={},ff={};function ob(r){return Vc.call(ff,r)?!0:Vc.call(hf,r)?!1:sb.test(r)?ff[r]=!0:(hf[r]=!0,!1)}function ab(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function lb(r,t,e,n){if(t===null||typeof t>"u"||ab(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(r,t,e,n,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ur[r]=new Sr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];ur[t]=new Sr(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ur[r]=new Sr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ur[r]=new Sr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ur[r]=new Sr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ur[r]=new Sr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ur[r]=new Sr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ur[r]=new Sr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ur[r]=new Sr(r,5,!1,r.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ad(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(od,ad);ur[t]=new Sr(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(od,ad);ur[t]=new Sr(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(od,ad);ur[t]=new Sr(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ur[r]=new Sr(r,1,!1,r.toLowerCase(),null,!1,!1)});ur.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ur[r]=new Sr(r,1,!1,r.toLowerCase(),null,!0,!0)});function ld(r,t,e,n){var l=ur.hasOwnProperty(t)?ur[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lb(t,e,l,n)&&(e=null),n||l===null?ob(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):l.mustUseProperty?r[l.propertyName]=e===null?l.type===3?!1:"":e:(t=l.attributeName,n=l.attributeNamespace,e===null?r.removeAttribute(t):(l=l.type,e=l===3||l===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var Dn=ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Go=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),cd=Symbol.for("react.strict_mode"),qc=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),km=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),dd=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Cm=Symbol.for("react.offscreen"),pf=Symbol.iterator;function Is(r){return r===null||typeof r!="object"?null:(r=pf&&r[pf]||r["@@iterator"],typeof r=="function"?r:null)}var Kt=Object.assign,ac;function Us(r){if(ac===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ac=t&&t[1]||""}return`
`+ac+r}var lc=!1;function cc(r,t){if(!r||lc)return"";lc=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(i){var n=i}Reflect.construct(r,[],t)}else{try{t.call()}catch(i){n=i}r.call(t.prototype)}else{try{throw Error()}catch(i){n=i}r()}}catch(i){if(i&&n&&typeof i.stack=="string"){for(var l=i.stack.split(`
`),o=n.stack.split(`
`),s=l.length-1,c=o.length-1;1<=s&&0<=c&&l[s]!==o[c];)c--;for(;1<=s&&0<=c;s--,c--)if(l[s]!==o[c]){if(s!==1||c!==1)do if(s--,c--,0>c||l[s]!==o[c]){var a=`
`+l[s].replace(" at new "," at ");return r.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",r.displayName)),a}while(1<=s&&0<=c);break}}}finally{lc=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?Us(r):""}function cb(r){switch(r.tag){case 5:return Us(r.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return r=cc(r.type,!1),r;case 11:return r=cc(r.type.render,!1),r;case 1:return r=cc(r.type,!0),r;default:return""}}function Yc(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Wi:return"Fragment";case $i:return"Portal";case qc:return"Profiler";case cd:return"StrictMode";case Kc:return"Suspense";case Gc:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case km:return(r.displayName||"Context")+".Consumer";case Sm:return(r._context.displayName||"Context")+".Provider";case ud:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dd:return t=r.displayName||null,t!==null?t:Yc(r.type)||"Memo";case Hn:t=r._payload,r=r._init;try{return Yc(r(t))}catch{}}return null}function ub(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(t);case 8:return t===cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function li(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tm(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function db(r){var t=Tm(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var l=e.get,o=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function Yo(r){r._valueTracker||(r._valueTracker=db(r))}function Em(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=Tm(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function ja(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Xc(r,t){var e=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function mf(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=li(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Am(r,t){t=t.checked,t!=null&&ld(r,"checked",t,!1)}function Qc(r,t){Am(r,t);var e=li(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?Jc(r,t.type,e):t.hasOwnProperty("defaultValue")&&Jc(r,t.type,li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function gf(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function Jc(r,t,e){(t!=="number"||ja(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var Hs=Array.isArray;function ts(r,t,e,n){if(r=r.options,t){t={};for(var l=0;l<e.length;l++)t["$"+e[l]]=!0;for(e=0;e<r.length;e++)l=t.hasOwnProperty("$"+r[e].value),r[e].selected!==l&&(r[e].selected=l),l&&n&&(r[e].defaultSelected=!0)}else{for(e=""+li(e),t=null,l=0;l<r.length;l++){if(r[l].value===e){r[l].selected=!0,n&&(r[l].defaultSelected=!0);return}t!==null||r[l].disabled||(t=r[l])}t!==null&&(t.selected=!0)}}function Zc(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function yf(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Ue(92));if(Hs(e)){if(1<e.length)throw Error(Ue(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:li(e)}}function Im(r,t){var e=li(t.value),n=li(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function bf(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function Mm(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?Mm(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Xo,Rm=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,l){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,l)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function ho(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hb=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(r){hb.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Ys[t]=Ys[r]})});function Nm(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Ys.hasOwnProperty(r)&&Ys[r]?(""+t).trim():t+"px"}function Om(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,l=Nm(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,l):r[e]=l}}var fb=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(r,t){if(t){if(fb[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function ru(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function hd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var iu=null,rs=null,ns=null;function vf(r){if(r=Lo(r)){if(typeof iu!="function")throw Error(Ue(280));var t=r.stateNode;t&&(t=Ml(t),iu(r.stateNode,r.type,t))}}function Pm(r){rs?ns?ns.push(r):ns=[r]:rs=r}function jm(){if(rs){var r=rs,t=ns;if(ns=rs=null,vf(r),t)for(r=0;r<t.length;r++)vf(t[r])}}function Dm(r,t){return r(t)}function Lm(){}var uc=!1;function Fm(r,t,e){if(uc)return r(t,e);uc=!0;try{return Dm(r,t,e)}finally{uc=!1,(rs!==null||ns!==null)&&(Lm(),jm())}}function fo(r,t){var e=r.stateNode;if(e===null)return null;var n=Ml(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(Ue(231,t,typeof e));return e}var su=!1;if(Rn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){su=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{su=!1}function pb(r,t,e,n,l,o,s,c,a){var i=Array.prototype.slice.call(arguments,3);try{t.apply(e,i)}catch(u){this.onError(u)}}var Xs=!1,Da=null,La=!1,ou=null,mb={onError:function(r){Xs=!0,Da=r}};function gb(r,t,e,n,l,o,s,c,a){Xs=!1,Da=null,pb.apply(mb,arguments)}function yb(r,t,e,n,l,o,s,c,a){if(gb.apply(this,arguments),Xs){if(Xs){var i=Da;Xs=!1,Da=null}else throw Error(Ue(198));La||(La=!0,ou=i)}}function Di(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function Bm(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function wf(r){if(Di(r)!==r)throw Error(Ue(188))}function bb(r){var t=r.alternate;if(!t){if(t=Di(r),t===null)throw Error(Ue(188));return t!==r?null:r}for(var e=r,n=t;;){var l=e.return;if(l===null)break;var o=l.alternate;if(o===null){if(n=l.return,n!==null){e=n;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===e)return wf(l),r;if(o===n)return wf(l),t;o=o.sibling}throw Error(Ue(188))}if(e.return!==n.return)e=l,n=o;else{for(var s=!1,c=l.child;c;){if(c===e){s=!0,e=l,n=o;break}if(c===n){s=!0,n=l,e=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===e){s=!0,e=o,n=l;break}if(c===n){s=!0,n=o,e=l;break}c=c.sibling}if(!s)throw Error(Ue(189))}}if(e.alternate!==n)throw Error(Ue(190))}if(e.tag!==3)throw Error(Ue(188));return e.stateNode.current===e?r:t}function zm(r){return r=bb(r),r!==null?Um(r):null}function Um(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=Um(r);if(t!==null)return t;r=r.sibling}return null}var Hm=zr.unstable_scheduleCallback,xf=zr.unstable_cancelCallback,vb=zr.unstable_shouldYield,wb=zr.unstable_requestPaint,Xt=zr.unstable_now,xb=zr.unstable_getCurrentPriorityLevel,fd=zr.unstable_ImmediatePriority,$m=zr.unstable_UserBlockingPriority,Fa=zr.unstable_NormalPriority,_b=zr.unstable_LowPriority,Wm=zr.unstable_IdlePriority,Tl=null,wn=null;function Sb(r){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Tl,r,void 0,(r.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Tb,kb=Math.log,Cb=Math.LN2;function Tb(r){return r>>>=0,r===0?32:31-(kb(r)/Cb|0)|0}var Qo=64,Jo=4194304;function $s(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ba(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,l=r.suspendedLanes,o=r.pingedLanes,s=e&268435455;if(s!==0){var c=s&~l;c!==0?n=$s(c):(o&=s,o!==0&&(n=$s(o)))}else s=e&~l,s!==0?n=$s(s):o!==0&&(n=$s(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-rn(t),l=1<<e,n|=r[e],t&=~l;return n}function Eb(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ab(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,l=r.expirationTimes,o=r.pendingLanes;0<o;){var s=31-rn(o),c=1<<s,a=l[s];a===-1?(!(c&e)||c&n)&&(l[s]=Eb(c,t)):a<=t&&(r.expiredLanes|=c),o&=~c}}function au(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Vm(){var r=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),r}function dc(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function jo(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-rn(t),r[t]=e}function Ib(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var l=31-rn(e),o=1<<l;t[l]=0,n[l]=-1,r[l]=-1,e&=~o}}function pd(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-rn(e),l=1<<n;l&t|r[n]&t&&(r[n]|=t),e&=~l}}var Rt=0;function qm(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Km,md,Gm,Ym,Xm,lu=!1,Zo=[],Xn=null,Qn=null,Jn=null,po=new Map,mo=new Map,Wn=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(r,t){switch(r){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function Rs(r,t,e,n,l,o){return r===null||r.nativeEvent!==o?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Lo(t),t!==null&&md(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),r)}function Rb(r,t,e,n,l){switch(t){case"focusin":return Xn=Rs(Xn,r,t,e,n,l),!0;case"dragenter":return Qn=Rs(Qn,r,t,e,n,l),!0;case"mouseover":return Jn=Rs(Jn,r,t,e,n,l),!0;case"pointerover":var o=l.pointerId;return po.set(o,Rs(po.get(o)||null,r,t,e,n,l)),!0;case"gotpointercapture":return o=l.pointerId,mo.set(o,Rs(mo.get(o)||null,r,t,e,n,l)),!0}return!1}function Qm(r){var t=vi(r.target);if(t!==null){var e=Di(t);if(e!==null){if(t=e.tag,t===13){if(t=Bm(e),t!==null){r.blockedOn=t,Xm(r.priority,function(){Gm(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _a(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=cu(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);nu=n,e.target.dispatchEvent(n),nu=null}else return t=Lo(e),t!==null&&md(t),r.blockedOn=e,!1;t.shift()}return!0}function Sf(r,t,e){_a(r)&&e.delete(t)}function Nb(){lu=!1,Xn!==null&&_a(Xn)&&(Xn=null),Qn!==null&&_a(Qn)&&(Qn=null),Jn!==null&&_a(Jn)&&(Jn=null),po.forEach(Sf),mo.forEach(Sf)}function Ns(r,t){r.blockedOn===t&&(r.blockedOn=null,lu||(lu=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,Nb)))}function go(r){function t(l){return Ns(l,r)}if(0<Zo.length){Ns(Zo[0],r);for(var e=1;e<Zo.length;e++){var n=Zo[e];n.blockedOn===r&&(n.blockedOn=null)}}for(Xn!==null&&Ns(Xn,r),Qn!==null&&Ns(Qn,r),Jn!==null&&Ns(Jn,r),po.forEach(t),mo.forEach(t),e=0;e<Wn.length;e++)n=Wn[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<Wn.length&&(e=Wn[0],e.blockedOn===null);)Qm(e),e.blockedOn===null&&Wn.shift()}var is=Dn.ReactCurrentBatchConfig,za=!0;function Ob(r,t,e,n){var l=Rt,o=is.transition;is.transition=null;try{Rt=1,gd(r,t,e,n)}finally{Rt=l,is.transition=o}}function Pb(r,t,e,n){var l=Rt,o=is.transition;is.transition=null;try{Rt=4,gd(r,t,e,n)}finally{Rt=l,is.transition=o}}function gd(r,t,e,n){if(za){var l=cu(r,t,e,n);if(l===null)xc(r,t,n,Ua,e),_f(r,n);else if(Rb(l,r,t,e,n))n.stopPropagation();else if(_f(r,n),t&4&&-1<Mb.indexOf(r)){for(;l!==null;){var o=Lo(l);if(o!==null&&Km(o),o=cu(r,t,e,n),o===null&&xc(r,t,n,Ua,e),o===l)break;l=o}l!==null&&n.stopPropagation()}else xc(r,t,n,null,e)}}var Ua=null;function cu(r,t,e,n){if(Ua=null,r=hd(n),r=vi(r),r!==null)if(t=Di(r),t===null)r=null;else if(e=t.tag,e===13){if(r=Bm(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return Ua=r,null}function Jm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xb()){case fd:return 1;case $m:return 4;case Fa:case _b:return 16;case Wm:return 536870912;default:return 16}default:return 16}}var Kn=null,yd=null,Sa=null;function Zm(){if(Sa)return Sa;var r,t=yd,e=t.length,n,l="value"in Kn?Kn.value:Kn.textContent,o=l.length;for(r=0;r<e&&t[r]===l[r];r++);var s=e-r;for(n=1;n<=s&&t[e-n]===l[o-n];n++);return Sa=l.slice(r,1<n?1-n:void 0)}function ka(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function ea(){return!0}function kf(){return!1}function Hr(r){function t(e,n,l,o,s){this._reactName=e,this._targetInst=l,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var c in r)r.hasOwnProperty(c)&&(e=r[c],this[c]=e?e(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ea:kf,this.isPropagationStopped=kf,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bd=Hr(ws),Do=Kt({},ws,{view:0,detail:0}),jb=Hr(Do),hc,fc,Os,El=Kt({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Os&&(Os&&r.type==="mousemove"?(hc=r.screenX-Os.screenX,fc=r.screenY-Os.screenY):fc=hc=0,Os=r),hc)},movementY:function(r){return"movementY"in r?r.movementY:fc}}),Cf=Hr(El),Db=Kt({},El,{dataTransfer:0}),Lb=Hr(Db),Fb=Kt({},Do,{relatedTarget:0}),pc=Hr(Fb),Bb=Kt({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),zb=Hr(Bb),Ub=Kt({},ws,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hb=Hr(Ub),$b=Kt({},ws,{data:0}),Tf=Hr($b),Wb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kb(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=qb[r])?!!t[r]:!1}function vd(){return Kb}var Gb=Kt({},Do,{key:function(r){if(r.key){var t=Wb[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=ka(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(r){return r.type==="keypress"?ka(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ka(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yb=Hr(Gb),Xb=Kt({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Hr(Xb),Qb=Kt({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),Jb=Hr(Qb),Zb=Kt({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),e2=Hr(Zb),t2=Kt({},El,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),r2=Hr(t2),n2=[9,13,27,32],wd=Rn&&"CompositionEvent"in window,Qs=null;Rn&&"documentMode"in document&&(Qs=document.documentMode);var i2=Rn&&"TextEvent"in window&&!Qs,eg=Rn&&(!wd||Qs&&8<Qs&&11>=Qs),Af=" ",If=!1;function tg(r,t){switch(r){case"keyup":return n2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vi=!1;function s2(r,t){switch(r){case"compositionend":return rg(t);case"keypress":return t.which!==32?null:(If=!0,Af);case"textInput":return r=t.data,r===Af&&If?null:r;default:return null}}function o2(r,t){if(Vi)return r==="compositionend"||!wd&&tg(r,t)?(r=Zm(),Sa=yd=Kn=null,Vi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eg&&t.locale!=="ko"?null:t.data;default:return null}}var a2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!a2[r.type]:t==="textarea"}function ng(r,t,e,n){Pm(n),t=Ha(t,"onChange"),0<t.length&&(e=new bd("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Js=null,yo=null;function l2(r){pg(r,0)}function Al(r){var t=Gi(r);if(Em(t))return r}function c2(r,t){if(r==="change")return t}var ig=!1;if(Rn){var mc;if(Rn){var gc="oninput"in document;if(!gc){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),gc=typeof Rf.oninput=="function"}mc=gc}else mc=!1;ig=mc&&(!document.documentMode||9<document.documentMode)}function Nf(){Js&&(Js.detachEvent("onpropertychange",sg),yo=Js=null)}function sg(r){if(r.propertyName==="value"&&Al(yo)){var t=[];ng(t,yo,r,hd(r)),Fm(l2,t)}}function u2(r,t,e){r==="focusin"?(Nf(),Js=t,yo=e,Js.attachEvent("onpropertychange",sg)):r==="focusout"&&Nf()}function d2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Al(yo)}function h2(r,t){if(r==="click")return Al(t)}function f2(r,t){if(r==="input"||r==="change")return Al(t)}function p2(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var on=typeof Object.is=="function"?Object.is:p2;function bo(r,t){if(on(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var l=e[n];if(!Vc.call(t,l)||!on(r[l],t[l]))return!1}return!0}function Of(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Pf(r,t){var e=Of(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=Of(e)}}function og(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?og(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function ag(){for(var r=window,t=ja();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=ja(r.document)}return t}function xd(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function m2(r){var t=ag(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&og(e.ownerDocument.documentElement,e)){if(n!==null&&xd(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var l=e.textContent.length,o=Math.min(n.start,l);n=n.end===void 0?o:Math.min(n.end,l),!r.extend&&o>n&&(l=n,n=o,o=l),l=Pf(e,o);var s=Pf(e,n);l&&s&&(r.rangeCount!==1||r.anchorNode!==l.node||r.anchorOffset!==l.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),r.removeAllRanges(),o>n?(r.addRange(t),r.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var g2=Rn&&"documentMode"in document&&11>=document.documentMode,qi=null,uu=null,Zs=null,du=!1;function jf(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;du||qi==null||qi!==ja(n)||(n=qi,"selectionStart"in n&&xd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zs&&bo(Zs,n)||(Zs=n,n=Ha(uu,"onSelect"),0<n.length&&(t=new bd("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=qi)))}function ta(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var Ki={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},yc={},lg={};Rn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Il(r){if(yc[r])return yc[r];if(!Ki[r])return r;var t=Ki[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in lg)return yc[r]=t[e];return r}var cg=Il("animationend"),ug=Il("animationiteration"),dg=Il("animationstart"),hg=Il("transitionend"),fg=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,t){fg.set(r,t),ji(t,[r])}for(var bc=0;bc<Df.length;bc++){var vc=Df[bc],y2=vc.toLowerCase(),b2=vc[0].toUpperCase()+vc.slice(1);hi(y2,"on"+b2)}hi(cg,"onAnimationEnd");hi(ug,"onAnimationIteration");hi(dg,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(hg,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function Lf(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,yb(n,t,void 0,r),r.currentTarget=null}function pg(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],l=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var c=n[s],a=c.instance,i=c.currentTarget;if(c=c.listener,a!==o&&l.isPropagationStopped())break e;Lf(l,c,i),o=a}else for(s=0;s<n.length;s++){if(c=n[s],a=c.instance,i=c.currentTarget,c=c.listener,a!==o&&l.isPropagationStopped())break e;Lf(l,c,i),o=a}}}if(La)throw r=ou,La=!1,ou=null,r}function Bt(r,t){var e=t[gu];e===void 0&&(e=t[gu]=new Set);var n=r+"__bubble";e.has(n)||(mg(t,r,2,!1),e.add(n))}function wc(r,t,e){var n=0;t&&(n|=4),mg(e,r,n,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function vo(r){if(!r[ra]){r[ra]=!0,_m.forEach(function(e){e!=="selectionchange"&&(v2.has(e)||wc(e,!1,r),wc(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[ra]||(t[ra]=!0,wc("selectionchange",!1,t))}}function mg(r,t,e,n){switch(Jm(t)){case 1:var l=Ob;break;case 4:l=Pb;break;default:l=gd}e=l.bind(null,t,e,r),l=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?r.addEventListener(t,e,{capture:!0,passive:l}):r.addEventListener(t,e,!0):l!==void 0?r.addEventListener(t,e,{passive:l}):r.addEventListener(t,e,!1)}function xc(r,t,e,n,l){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var c=n.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;c!==null;){if(s=vi(c),s===null)return;if(a=s.tag,a===5||a===6){n=o=s;continue e}c=c.parentNode}}n=n.return}Fm(function(){var i=o,u=hd(e),f=[];e:{var d=fg.get(r);if(d!==void 0){var h=bd,g=r;switch(r){case"keypress":if(ka(e)===0)break e;case"keydown":case"keyup":h=Yb;break;case"focusin":g="focus",h=pc;break;case"focusout":g="blur",h=pc;break;case"beforeblur":case"afterblur":h=pc;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Jb;break;case cg:case ug:case dg:h=zb;break;case hg:h=e2;break;case"scroll":h=jb;break;case"wheel":h=r2;break;case"copy":case"cut":case"paste":h=Hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ef}var y=(t&4)!==0,p=!y&&r==="scroll",b=y?d!==null?d+"Capture":null:d;y=[];for(var m=i,S;m!==null;){S=m;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,b!==null&&(C=fo(m,b),C!=null&&y.push(wo(m,C,S)))),p)break;m=m.return}0<y.length&&(d=new h(d,g,null,e,u),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=r==="mouseover"||r==="pointerover",h=r==="mouseout"||r==="pointerout",d&&e!==nu&&(g=e.relatedTarget||e.fromElement)&&(vi(g)||g[Nn]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=e.relatedTarget||e.toElement,h=i,g=g?vi(g):null,g!==null&&(p=Di(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=i),h!==g)){if(y=Cf,C="onMouseLeave",b="onMouseEnter",m="mouse",(r==="pointerout"||r==="pointerover")&&(y=Ef,C="onPointerLeave",b="onPointerEnter",m="pointer"),p=h==null?d:Gi(h),S=g==null?d:Gi(g),d=new y(C,m+"leave",h,e,u),d.target=p,d.relatedTarget=S,C=null,vi(u)===i&&(y=new y(b,m+"enter",g,e,u),y.target=S,y.relatedTarget=p,C=y),p=C,h&&g)t:{for(y=h,b=g,m=0,S=y;S;S=Bi(S))m++;for(S=0,C=b;C;C=Bi(C))S++;for(;0<m-S;)y=Bi(y),m--;for(;0<S-m;)b=Bi(b),S--;for(;m--;){if(y===b||b!==null&&y===b.alternate)break t;y=Bi(y),b=Bi(b)}y=null}else y=null;h!==null&&Ff(f,d,h,y,!1),g!==null&&p!==null&&Ff(f,p,g,y,!0)}}e:{if(d=i?Gi(i):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=c2;else if(Mf(d))if(ig)I=f2;else{I=d2;var P=u2}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=h2);if(I&&(I=I(r,i))){ng(f,I,e,u);break e}P&&P(r,d,i),r==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Jc(d,"number",d.value)}switch(P=i?Gi(i):window,r){case"focusin":(Mf(P)||P.contentEditable==="true")&&(qi=P,uu=i,Zs=null);break;case"focusout":Zs=uu=qi=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,jf(f,e,u);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":jf(f,e,u)}var L;if(wd)e:{switch(r){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Vi?tg(r,e)&&(j="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(j="onCompositionStart");j&&(eg&&e.locale!=="ko"&&(Vi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Vi&&(L=Zm()):(Kn=u,yd="value"in Kn?Kn.value:Kn.textContent,Vi=!0)),P=Ha(i,j),0<P.length&&(j=new Tf(j,r,null,e,u),f.push({event:j,listeners:P}),L?j.data=L:(L=rg(e),L!==null&&(j.data=L)))),(L=i2?s2(r,e):o2(r,e))&&(i=Ha(i,"onBeforeInput"),0<i.length&&(u=new Tf("onBeforeInput","beforeinput",null,e,u),f.push({event:u,listeners:i}),u.data=L))}pg(f,t)})}function wo(r,t,e){return{instance:r,listener:t,currentTarget:e}}function Ha(r,t){for(var e=t+"Capture",n=[];r!==null;){var l=r,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=fo(r,e),o!=null&&n.unshift(wo(r,o,l)),o=fo(r,t),o!=null&&n.push(wo(r,o,l))),r=r.return}return n}function Bi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ff(r,t,e,n,l){for(var o=t._reactName,s=[];e!==null&&e!==n;){var c=e,a=c.alternate,i=c.stateNode;if(a!==null&&a===n)break;c.tag===5&&i!==null&&(c=i,l?(a=fo(e,o),a!=null&&s.unshift(wo(e,a,c))):l||(a=fo(e,o),a!=null&&s.push(wo(e,a,c)))),e=e.return}s.length!==0&&r.push({event:t,listeners:s})}var w2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function Bf(r){return(typeof r=="string"?r:""+r).replace(w2,`
`).replace(x2,"")}function na(r,t,e){if(t=Bf(t),Bf(r)!==t&&e)throw Error(Ue(425))}function $a(){}var hu=null,fu=null;function pu(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(r){return zf.resolve(null).then(r).catch(k2)}:mu;function k2(r){setTimeout(function(){throw r})}function _c(r,t){var e=t,n=0;do{var l=e.nextSibling;if(r.removeChild(e),l&&l.nodeType===8)if(e=l.data,e==="/$"){if(n===0){r.removeChild(l),go(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=l}while(e);go(t)}function Zn(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function Uf(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var xs=Math.random().toString(36).slice(2),yn="__reactFiber$"+xs,xo="__reactProps$"+xs,Nn="__reactContainer$"+xs,gu="__reactEvents$"+xs,C2="__reactListeners$"+xs,T2="__reactHandles$"+xs;function vi(r){var t=r[yn];if(t)return t;for(var e=r.parentNode;e;){if(t=e[Nn]||e[yn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=Uf(r);r!==null;){if(e=r[yn])return e;r=Uf(r)}return t}r=e,e=r.parentNode}return null}function Lo(r){return r=r[yn]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Gi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Ue(33))}function Ml(r){return r[xo]||null}var yu=[],Yi=-1;function fi(r){return{current:r}}function zt(r){0>Yi||(r.current=yu[Yi],yu[Yi]=null,Yi--)}function Lt(r,t){Yi++,yu[Yi]=r.current,r.current=t}var ci={},mr=fi(ci),Er=fi(!1),Ti=ci;function ds(r,t){var e=r.type.contextTypes;if(!e)return ci;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in e)l[o]=t[o];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=l),l}function Ar(r){return r=r.childContextTypes,r!=null}function Wa(){zt(Er),zt(mr)}function Hf(r,t,e){if(mr.current!==ci)throw Error(Ue(168));Lt(mr,t),Lt(Er,e)}function gg(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(Ue(108,ub(r)||"Unknown",l));return Kt({},e,n)}function Va(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ci,Ti=mr.current,Lt(mr,r),Lt(Er,Er.current),!0}function $f(r,t,e){var n=r.stateNode;if(!n)throw Error(Ue(169));e?(r=gg(r,t,Ti),n.__reactInternalMemoizedMergedChildContext=r,zt(Er),zt(mr),Lt(mr,r)):zt(Er),Lt(Er,e)}var Tn=null,Rl=!1,Sc=!1;function yg(r){Tn===null?Tn=[r]:Tn.push(r)}function E2(r){Rl=!0,yg(r)}function pi(){if(!Sc&&Tn!==null){Sc=!0;var r=0,t=Rt;try{var e=Tn;for(Rt=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}Tn=null,Rl=!1}catch(l){throw Tn!==null&&(Tn=Tn.slice(r+1)),Hm(fd,pi),l}finally{Rt=t,Sc=!1}}return null}var Xi=[],Qi=0,qa=null,Ka=0,$r=[],Wr=0,Ei=null,En=1,An="";function gi(r,t){Xi[Qi++]=Ka,Xi[Qi++]=qa,qa=r,Ka=t}function bg(r,t,e){$r[Wr++]=En,$r[Wr++]=An,$r[Wr++]=Ei,Ei=r;var n=En;r=An;var l=32-rn(n)-1;n&=~(1<<l),e+=1;var o=32-rn(t)+l;if(30<o){var s=l-l%5;o=(n&(1<<s)-1).toString(32),n>>=s,l-=s,En=1<<32-rn(t)+l|e<<l|n,An=o+r}else En=1<<o|e<<l|n,An=r}function _d(r){r.return!==null&&(gi(r,1),bg(r,1,0))}function Sd(r){for(;r===qa;)qa=Xi[--Qi],Xi[Qi]=null,Ka=Xi[--Qi],Xi[Qi]=null;for(;r===Ei;)Ei=$r[--Wr],$r[Wr]=null,An=$r[--Wr],$r[Wr]=null,En=$r[--Wr],$r[Wr]=null}var Lr=null,Dr=null,Ht=!1,en=null;function vg(r,t){var e=qr(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function Wf(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,Lr=r,Dr=Zn(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,Lr=r,Dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Ei!==null?{id:En,overflow:An}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=qr(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,Lr=r,Dr=null,!0):!1;default:return!1}}function bu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vu(r){if(Ht){var t=Dr;if(t){var e=t;if(!Wf(r,t)){if(bu(r))throw Error(Ue(418));t=Zn(e.nextSibling);var n=Lr;t&&Wf(r,t)?vg(n,e):(r.flags=r.flags&-4097|2,Ht=!1,Lr=r)}}else{if(bu(r))throw Error(Ue(418));r.flags=r.flags&-4097|2,Ht=!1,Lr=r}}}function Vf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Lr=r}function ia(r){if(r!==Lr)return!1;if(!Ht)return Vf(r),Ht=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!pu(r.type,r.memoizedProps)),t&&(t=Dr)){if(bu(r))throw wg(),Error(Ue(418));for(;t;)vg(r,t),t=Zn(t.nextSibling)}if(Vf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ue(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){Dr=Zn(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}Dr=null}}else Dr=Lr?Zn(r.stateNode.nextSibling):null;return!0}function wg(){for(var r=Dr;r;)r=Zn(r.nextSibling)}function hs(){Dr=Lr=null,Ht=!1}function kd(r){en===null?en=[r]:en.push(r)}var A2=Dn.ReactCurrentBatchConfig;function Ps(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Ue(309));var n=e.stateNode}if(!n)throw Error(Ue(147,r));var l=n,o=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var c=l.refs;s===null?delete c[o]:c[o]=s},t._stringRef=o,t)}if(typeof r!="string")throw Error(Ue(284));if(!e._owner)throw Error(Ue(290,r))}return r}function sa(r,t){throw r=Object.prototype.toString.call(t),Error(Ue(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function qf(r){var t=r._init;return t(r._payload)}function xg(r){function t(b,m){if(r){var S=b.deletions;S===null?(b.deletions=[m],b.flags|=16):S.push(m)}}function e(b,m){if(!r)return null;for(;m!==null;)t(b,m),m=m.sibling;return null}function n(b,m){for(b=new Map;m!==null;)m.key!==null?b.set(m.key,m):b.set(m.index,m),m=m.sibling;return b}function l(b,m){return b=ni(b,m),b.index=0,b.sibling=null,b}function o(b,m,S){return b.index=S,r?(S=b.alternate,S!==null?(S=S.index,S<m?(b.flags|=2,m):S):(b.flags|=2,m)):(b.flags|=1048576,m)}function s(b){return r&&b.alternate===null&&(b.flags|=2),b}function c(b,m,S,C){return m===null||m.tag!==6?(m=Mc(S,b.mode,C),m.return=b,m):(m=l(m,S),m.return=b,m)}function a(b,m,S,C){var I=S.type;return I===Wi?u(b,m,S.props.children,C,S.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Hn&&qf(I)===m.type)?(C=l(m,S.props),C.ref=Ps(b,m,S),C.return=b,C):(C=Ra(S.type,S.key,S.props,null,b.mode,C),C.ref=Ps(b,m,S),C.return=b,C)}function i(b,m,S,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==S.containerInfo||m.stateNode.implementation!==S.implementation?(m=Rc(S,b.mode,C),m.return=b,m):(m=l(m,S.children||[]),m.return=b,m)}function u(b,m,S,C,I){return m===null||m.tag!==7?(m=Ci(S,b.mode,C,I),m.return=b,m):(m=l(m,S),m.return=b,m)}function f(b,m,S){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Mc(""+m,b.mode,S),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Go:return S=Ra(m.type,m.key,m.props,null,b.mode,S),S.ref=Ps(b,null,m),S.return=b,S;case $i:return m=Rc(m,b.mode,S),m.return=b,m;case Hn:var C=m._init;return f(b,C(m._payload),S)}if(Hs(m)||Is(m))return m=Ci(m,b.mode,S,null),m.return=b,m;sa(b,m)}return null}function d(b,m,S,C){var I=m!==null?m.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:c(b,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Go:return S.key===I?a(b,m,S,C):null;case $i:return S.key===I?i(b,m,S,C):null;case Hn:return I=S._init,d(b,m,I(S._payload),C)}if(Hs(S)||Is(S))return I!==null?null:u(b,m,S,C,null);sa(b,S)}return null}function h(b,m,S,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(S)||null,c(m,b,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Go:return b=b.get(C.key===null?S:C.key)||null,a(m,b,C,I);case $i:return b=b.get(C.key===null?S:C.key)||null,i(m,b,C,I);case Hn:var P=C._init;return h(b,m,S,P(C._payload),I)}if(Hs(C)||Is(C))return b=b.get(S)||null,u(m,b,C,I,null);sa(m,C)}return null}function g(b,m,S,C){for(var I=null,P=null,L=m,j=m=0,B=null;L!==null&&j<S.length;j++){L.index>j?(B=L,L=null):B=L.sibling;var z=d(b,L,S[j],C);if(z===null){L===null&&(L=B);break}r&&L&&z.alternate===null&&t(b,L),m=o(z,m,j),P===null?I=z:P.sibling=z,P=z,L=B}if(j===S.length)return e(b,L),Ht&&gi(b,j),I;if(L===null){for(;j<S.length;j++)L=f(b,S[j],C),L!==null&&(m=o(L,m,j),P===null?I=L:P.sibling=L,P=L);return Ht&&gi(b,j),I}for(L=n(b,L);j<S.length;j++)B=h(L,b,j,S[j],C),B!==null&&(r&&B.alternate!==null&&L.delete(B.key===null?j:B.key),m=o(B,m,j),P===null?I=B:P.sibling=B,P=B);return r&&L.forEach(function(U){return t(b,U)}),Ht&&gi(b,j),I}function y(b,m,S,C){var I=Is(S);if(typeof I!="function")throw Error(Ue(150));if(S=I.call(S),S==null)throw Error(Ue(151));for(var P=I=null,L=m,j=m=0,B=null,z=S.next();L!==null&&!z.done;j++,z=S.next()){L.index>j?(B=L,L=null):B=L.sibling;var U=d(b,L,z.value,C);if(U===null){L===null&&(L=B);break}r&&L&&U.alternate===null&&t(b,L),m=o(U,m,j),P===null?I=U:P.sibling=U,P=U,L=B}if(z.done)return e(b,L),Ht&&gi(b,j),I;if(L===null){for(;!z.done;j++,z=S.next())z=f(b,z.value,C),z!==null&&(m=o(z,m,j),P===null?I=z:P.sibling=z,P=z);return Ht&&gi(b,j),I}for(L=n(b,L);!z.done;j++,z=S.next())z=h(L,b,j,z.value,C),z!==null&&(r&&z.alternate!==null&&L.delete(z.key===null?j:z.key),m=o(z,m,j),P===null?I=z:P.sibling=z,P=z);return r&&L.forEach(function(H){return t(b,H)}),Ht&&gi(b,j),I}function p(b,m,S,C){if(typeof S=="object"&&S!==null&&S.type===Wi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Go:e:{for(var I=S.key,P=m;P!==null;){if(P.key===I){if(I=S.type,I===Wi){if(P.tag===7){e(b,P.sibling),m=l(P,S.props.children),m.return=b,b=m;break e}}else if(P.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Hn&&qf(I)===P.type){e(b,P.sibling),m=l(P,S.props),m.ref=Ps(b,P,S),m.return=b,b=m;break e}e(b,P);break}else t(b,P);P=P.sibling}S.type===Wi?(m=Ci(S.props.children,b.mode,C,S.key),m.return=b,b=m):(C=Ra(S.type,S.key,S.props,null,b.mode,C),C.ref=Ps(b,m,S),C.return=b,b=C)}return s(b);case $i:e:{for(P=S.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===S.containerInfo&&m.stateNode.implementation===S.implementation){e(b,m.sibling),m=l(m,S.children||[]),m.return=b,b=m;break e}else{e(b,m);break}else t(b,m);m=m.sibling}m=Rc(S,b.mode,C),m.return=b,b=m}return s(b);case Hn:return P=S._init,p(b,m,P(S._payload),C)}if(Hs(S))return g(b,m,S,C);if(Is(S))return y(b,m,S,C);sa(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,m!==null&&m.tag===6?(e(b,m.sibling),m=l(m,S),m.return=b,b=m):(e(b,m),m=Mc(S,b.mode,C),m.return=b,b=m),s(b)):e(b,m)}return p}var fs=xg(!0),_g=xg(!1),Ga=fi(null),Ya=null,Ji=null,Cd=null;function Td(){Cd=Ji=Ya=null}function Ed(r){var t=Ga.current;zt(Ga),r._currentValue=t}function wu(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function ss(r,t){Ya=r,Cd=Ji=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(Tr=!0),r.firstContext=null)}function Gr(r){var t=r._currentValue;if(Cd!==r)if(r={context:r,memoizedValue:t,next:null},Ji===null){if(Ya===null)throw Error(Ue(308));Ji=r,Ya.dependencies={lanes:0,firstContext:r}}else Ji=Ji.next=r;return t}var wi=null;function Ad(r){wi===null?wi=[r]:wi.push(r)}function Sg(r,t,e,n){var l=t.interleaved;return l===null?(e.next=e,Ad(t)):(e.next=l.next,l.next=e),t.interleaved=e,On(r,n)}function On(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var $n=!1;function Id(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kg(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mn(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,On(r,e)}return l=n.interleaved,l===null?(t.next=t,Ad(n)):(t.next=l.next,l.next=t),n.interleaved=t,On(r,e)}function Ca(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,pd(r,e)}}function Kf(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var l=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?l=o=s:o=o.next=s,e=e.next}while(e!==null);o===null?l=o=t:o=o.next=t}else l=o=t;e={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function Xa(r,t,e,n){var l=r.updateQueue;$n=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var a=c,i=a.next;a.next=null,s===null?o=i:s.next=i,s=a;var u=r.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==s&&(c===null?u.firstBaseUpdate=i:c.next=i,u.lastBaseUpdate=a))}if(o!==null){var f=l.baseState;s=0,u=i=a=null,c=o;do{var d=c.lane,h=c.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=r,y=c;switch(d=t,h=e,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=Kt({},f,d);break e;case 2:$n=!0}}c.callback!==null&&c.lane!==0&&(r.flags|=64,d=l.effects,d===null?l.effects=[c]:d.push(c))}else h={eventTime:h,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(i=u=h,a=f):u=u.next=h,s|=d;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;d=c,c=d.next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}while(!0);if(u===null&&(a=f),l.baseState=a,l.firstBaseUpdate=i,l.lastBaseUpdate=u,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Ii|=s,r.lanes=s,r.memoizedState=f}}function Gf(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],l=n.callback;if(l!==null){if(n.callback=null,n=e,typeof l!="function")throw Error(Ue(191,l));l.call(n)}}}var Fo={},xn=fi(Fo),_o=fi(Fo),So=fi(Fo);function xi(r){if(r===Fo)throw Error(Ue(174));return r}function Md(r,t){switch(Lt(So,t),Lt(_o,r),Lt(xn,Fo),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eu(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=eu(t,r)}zt(xn),Lt(xn,t)}function ps(){zt(xn),zt(_o),zt(So)}function Cg(r){xi(So.current);var t=xi(xn.current),e=eu(t,r.type);t!==e&&(Lt(_o,r),Lt(xn,e))}function Rd(r){_o.current===r&&(zt(xn),zt(_o))}var Vt=fi(0);function Qa(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kc=[];function Nd(){for(var r=0;r<kc.length;r++)kc[r]._workInProgressVersionPrimary=null;kc.length=0}var Ta=Dn.ReactCurrentDispatcher,Cc=Dn.ReactCurrentBatchConfig,Ai=0,qt=null,Zt=null,ir=null,Ja=!1,eo=!1,ko=0,I2=0;function dr(){throw Error(Ue(321))}function Od(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!on(r[e],t[e]))return!1;return!0}function Pd(r,t,e,n,l,o){if(Ai=o,qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=r===null||r.memoizedState===null?O2:P2,r=e(n,l),eo){o=0;do{if(eo=!1,ko=0,25<=o)throw Error(Ue(301));o+=1,ir=Zt=null,t.updateQueue=null,Ta.current=j2,r=e(n,l)}while(eo)}if(Ta.current=Za,t=Zt!==null&&Zt.next!==null,Ai=0,ir=Zt=qt=null,Ja=!1,t)throw Error(Ue(300));return r}function jd(){var r=ko!==0;return ko=0,r}function mn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?qt.memoizedState=ir=r:ir=ir.next=r,ir}function Yr(){if(Zt===null){var r=qt.alternate;r=r!==null?r.memoizedState:null}else r=Zt.next;var t=ir===null?qt.memoizedState:ir.next;if(t!==null)ir=t,Zt=r;else{if(r===null)throw Error(Ue(310));Zt=r,r={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ir===null?qt.memoizedState=ir=r:ir=ir.next=r}return ir}function Co(r,t){return typeof t=="function"?t(r):t}function Tc(r){var t=Yr(),e=t.queue;if(e===null)throw Error(Ue(311));e.lastRenderedReducer=r;var n=Zt,l=n.baseQueue,o=e.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}n.baseQueue=l=o,e.pending=null}if(l!==null){o=l.next,n=n.baseState;var c=s=null,a=null,i=o;do{var u=i.lane;if((Ai&u)===u)a!==null&&(a=a.next={lane:0,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null}),n=i.hasEagerState?i.eagerState:r(n,i.action);else{var f={lane:u,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null};a===null?(c=a=f,s=n):a=a.next=f,qt.lanes|=u,Ii|=u}i=i.next}while(i!==null&&i!==o);a===null?s=n:a.next=c,on(n,t.memoizedState)||(Tr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=a,e.lastRenderedState=n}if(r=e.interleaved,r!==null){l=r;do o=l.lane,qt.lanes|=o,Ii|=o,l=l.next;while(l!==r)}else l===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Ec(r){var t=Yr(),e=t.queue;if(e===null)throw Error(Ue(311));e.lastRenderedReducer=r;var n=e.dispatch,l=e.pending,o=t.memoizedState;if(l!==null){e.pending=null;var s=l=l.next;do o=r(o,s.action),s=s.next;while(s!==l);on(o,t.memoizedState)||(Tr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,n]}function Tg(){}function Eg(r,t){var e=qt,n=Yr(),l=t(),o=!on(n.memoizedState,l);if(o&&(n.memoizedState=l,Tr=!0),n=n.queue,Dd(Mg.bind(null,e,n,r),[r]),n.getSnapshot!==t||o||ir!==null&&ir.memoizedState.tag&1){if(e.flags|=2048,To(9,Ig.bind(null,e,n,l,t),void 0,null),sr===null)throw Error(Ue(349));Ai&30||Ag(e,t,l)}return l}function Ag(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=qt.updateQueue,t===null?(t={lastEffect:null,stores:null},qt.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function Ig(r,t,e,n){t.value=e,t.getSnapshot=n,Rg(t)&&Ng(r)}function Mg(r,t,e){return e(function(){Rg(t)&&Ng(r)})}function Rg(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!on(r,e)}catch{return!0}}function Ng(r){var t=On(r,1);t!==null&&nn(t,r,1,-1)}function Yf(r){var t=mn();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:r},t.queue=r,r=r.dispatch=N2.bind(null,qt,r),[t.memoizedState,r]}function To(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=qt.updateQueue,t===null?(t={lastEffect:null,stores:null},qt.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function Og(){return Yr().memoizedState}function Ea(r,t,e,n){var l=mn();qt.flags|=r,l.memoizedState=To(1|t,e,void 0,n===void 0?null:n)}function Nl(r,t,e,n){var l=Yr();n=n===void 0?null:n;var o=void 0;if(Zt!==null){var s=Zt.memoizedState;if(o=s.destroy,n!==null&&Od(n,s.deps)){l.memoizedState=To(t,e,o,n);return}}qt.flags|=r,l.memoizedState=To(1|t,e,o,n)}function Xf(r,t){return Ea(8390656,8,r,t)}function Dd(r,t){return Nl(2048,8,r,t)}function Pg(r,t){return Nl(4,2,r,t)}function jg(r,t){return Nl(4,4,r,t)}function Dg(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function Lg(r,t,e){return e=e!=null?e.concat([r]):null,Nl(4,4,Dg.bind(null,t,r),e)}function Ld(){}function Fg(r,t){var e=Yr();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&Od(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function Bg(r,t){var e=Yr();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&Od(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function zg(r,t,e){return Ai&21?(on(e,t)||(e=Vm(),qt.lanes|=e,Ii|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,Tr=!0),r.memoizedState=e)}function M2(r,t){var e=Rt;Rt=e!==0&&4>e?e:4,r(!0);var n=Cc.transition;Cc.transition={};try{r(!1),t()}finally{Rt=e,Cc.transition=n}}function Ug(){return Yr().memoizedState}function R2(r,t,e){var n=ri(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},Hg(r))$g(t,e);else if(e=Sg(r,t,e,n),e!==null){var l=xr();nn(e,r,n,l),Wg(e,t,n)}}function N2(r,t,e){var n=ri(r),l={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(Hg(r))$g(t,l);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,c=o(s,e);if(l.hasEagerState=!0,l.eagerState=c,on(c,s)){var a=t.interleaved;a===null?(l.next=l,Ad(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}e=Sg(r,t,l,n),e!==null&&(l=xr(),nn(e,r,n,l),Wg(e,t,n))}}function Hg(r){var t=r.alternate;return r===qt||t!==null&&t===qt}function $g(r,t){eo=Ja=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function Wg(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,pd(r,e)}}var Za={readContext:Gr,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},O2={readContext:Gr,useCallback:function(r,t){return mn().memoizedState=[r,t===void 0?null:t],r},useContext:Gr,useEffect:Xf,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,Ea(4194308,4,Dg.bind(null,t,r),e)},useLayoutEffect:function(r,t){return Ea(4194308,4,r,t)},useInsertionEffect:function(r,t){return Ea(4,2,r,t)},useMemo:function(r,t){var e=mn();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=mn();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=R2.bind(null,qt,r),[n.memoizedState,r]},useRef:function(r){var t=mn();return r={current:r},t.memoizedState=r},useState:Yf,useDebugValue:Ld,useDeferredValue:function(r){return mn().memoizedState=r},useTransition:function(){var r=Yf(!1),t=r[0];return r=M2.bind(null,r[1]),mn().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=qt,l=mn();if(Ht){if(e===void 0)throw Error(Ue(407));e=e()}else{if(e=t(),sr===null)throw Error(Ue(349));Ai&30||Ag(n,t,e)}l.memoizedState=e;var o={value:e,getSnapshot:t};return l.queue=o,Xf(Mg.bind(null,n,o,r),[r]),n.flags|=2048,To(9,Ig.bind(null,n,o,e,t),void 0,null),e},useId:function(){var r=mn(),t=sr.identifierPrefix;if(Ht){var e=An,n=En;e=(n&~(1<<32-rn(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=ko++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=I2++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},P2={readContext:Gr,useCallback:Fg,useContext:Gr,useEffect:Dd,useImperativeHandle:Lg,useInsertionEffect:Pg,useLayoutEffect:jg,useMemo:Bg,useReducer:Tc,useRef:Og,useState:function(){return Tc(Co)},useDebugValue:Ld,useDeferredValue:function(r){var t=Yr();return zg(t,Zt.memoizedState,r)},useTransition:function(){var r=Tc(Co)[0],t=Yr().memoizedState;return[r,t]},useMutableSource:Tg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1},j2={readContext:Gr,useCallback:Fg,useContext:Gr,useEffect:Dd,useImperativeHandle:Lg,useInsertionEffect:Pg,useLayoutEffect:jg,useMemo:Bg,useReducer:Ec,useRef:Og,useState:function(){return Ec(Co)},useDebugValue:Ld,useDeferredValue:function(r){var t=Yr();return Zt===null?t.memoizedState=r:zg(t,Zt.memoizedState,r)},useTransition:function(){var r=Ec(Co)[0],t=Yr().memoizedState;return[r,t]},useMutableSource:Tg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1};function Qr(r,t){if(r&&r.defaultProps){t=Kt({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function xu(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:Kt({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var Ol={isMounted:function(r){return(r=r._reactInternals)?Di(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=xr(),l=ri(r),o=Mn(n,l);o.payload=t,e!=null&&(o.callback=e),t=ei(r,o,l),t!==null&&(nn(t,r,l,n),Ca(t,r,l))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=xr(),l=ri(r),o=Mn(n,l);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=ei(r,o,l),t!==null&&(nn(t,r,l,n),Ca(t,r,l))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=xr(),n=ri(r),l=Mn(e,n);l.tag=2,t!=null&&(l.callback=t),t=ei(r,l,n),t!==null&&(nn(t,r,n,e),Ca(t,r,n))}};function Qf(r,t,e,n,l,o,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!bo(e,n)||!bo(l,o):!0}function Vg(r,t,e){var n=!1,l=ci,o=t.contextType;return typeof o=="object"&&o!==null?o=Gr(o):(l=Ar(t)?Ti:mr.current,n=t.contextTypes,o=(n=n!=null)?ds(r,l):ci),t=new t(e,o),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=l,r.__reactInternalMemoizedMaskedChildContext=o),t}function Jf(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&Ol.enqueueReplaceState(t,t.state,null)}function _u(r,t,e,n){var l=r.stateNode;l.props=e,l.state=r.memoizedState,l.refs={},Id(r);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Gr(o):(o=Ar(t)?Ti:mr.current,l.context=ds(r,o)),l.state=r.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(xu(r,t,o,e),l.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ol.enqueueReplaceState(l,l.state,null),Xa(r,e,l,n),l.state=r.memoizedState),typeof l.componentDidMount=="function"&&(r.flags|=4194308)}function ms(r,t){try{var e="",n=t;do e+=cb(n),n=n.return;while(n);var l=e}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:r,source:t,stack:l,digest:null}}function Ac(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function Su(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var D2=typeof WeakMap=="function"?WeakMap:Map;function qg(r,t,e){e=Mn(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){tl||(tl=!0,Ou=n),Su(r,t)},e}function Kg(r,t,e){e=Mn(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;e.payload=function(){return n(l)},e.callback=function(){Su(r,t)}}var o=r.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Su(r,t),typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),e}function Zf(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new D2;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(e)||(l.add(e),r=X2.bind(null,r,t,e),t.then(r,r))}function ep(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function tp(r,t,e,n,l){return r.mode&1?(r.flags|=65536,r.lanes=l,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Mn(-1,1),t.tag=2,ei(e,t,1))),e.lanes|=1),r)}var L2=Dn.ReactCurrentOwner,Tr=!1;function br(r,t,e,n){t.child=r===null?_g(t,null,e,n):fs(t,r.child,e,n)}function rp(r,t,e,n,l){e=e.render;var o=t.ref;return ss(t,l),n=Pd(r,t,e,n,o,l),e=jd(),r!==null&&!Tr?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~l,Pn(r,t,l)):(Ht&&e&&_d(t),t.flags|=1,br(r,t,n,l),t.child)}function np(r,t,e,n,l){if(r===null){var o=e.type;return typeof o=="function"&&!Vd(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,Gg(r,t,o,n,l)):(r=Ra(e.type,null,n,t,t.mode,l),r.ref=t.ref,r.return=t,t.child=r)}if(o=r.child,!(r.lanes&l)){var s=o.memoizedProps;if(e=e.compare,e=e!==null?e:bo,e(s,n)&&r.ref===t.ref)return Pn(r,t,l)}return t.flags|=1,r=ni(o,n),r.ref=t.ref,r.return=t,t.child=r}function Gg(r,t,e,n,l){if(r!==null){var o=r.memoizedProps;if(bo(o,n)&&r.ref===t.ref)if(Tr=!1,t.pendingProps=n=o,(r.lanes&l)!==0)r.flags&131072&&(Tr=!0);else return t.lanes=r.lanes,Pn(r,t,l)}return ku(r,t,e,n,l)}function Yg(r,t,e){var n=t.pendingProps,l=n.children,o=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(es,jr),jr|=e;else{if(!(e&1073741824))return r=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Lt(es,jr),jr|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:e,Lt(es,jr),jr|=n}else o!==null?(n=o.baseLanes|e,t.memoizedState=null):n=e,Lt(es,jr),jr|=n;return br(r,t,l,e),t.child}function Xg(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function ku(r,t,e,n,l){var o=Ar(e)?Ti:mr.current;return o=ds(t,o),ss(t,l),e=Pd(r,t,e,n,o,l),n=jd(),r!==null&&!Tr?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~l,Pn(r,t,l)):(Ht&&n&&_d(t),t.flags|=1,br(r,t,e,l),t.child)}function ip(r,t,e,n,l){if(Ar(e)){var o=!0;Va(t)}else o=!1;if(ss(t,l),t.stateNode===null)Aa(r,t),Vg(t,e,n),_u(t,e,n,l),n=!0;else if(r===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var a=s.context,i=e.contextType;typeof i=="object"&&i!==null?i=Gr(i):(i=Ar(e)?Ti:mr.current,i=ds(t,i));var u=e.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==n||a!==i)&&Jf(t,s,n,i),$n=!1;var d=t.memoizedState;s.state=d,Xa(t,n,s,l),a=t.memoizedState,c!==n||d!==a||Er.current||$n?(typeof u=="function"&&(xu(t,e,u,n),a=t.memoizedState),(c=$n||Qf(t,e,c,n,d,a,i))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),s.props=n,s.state=a,s.context=i,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,kg(r,t),c=t.memoizedProps,i=t.type===t.elementType?c:Qr(t.type,c),s.props=i,f=t.pendingProps,d=s.context,a=e.contextType,typeof a=="object"&&a!==null?a=Gr(a):(a=Ar(e)?Ti:mr.current,a=ds(t,a));var h=e.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==f||d!==a)&&Jf(t,s,n,a),$n=!1,d=t.memoizedState,s.state=d,Xa(t,n,s,l);var g=t.memoizedState;c!==f||d!==g||Er.current||$n?(typeof h=="function"&&(xu(t,e,h,n),g=t.memoizedState),(i=$n||Qf(t,e,i,n,d,g,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=a,n=i):(typeof s.componentDidUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=1024),n=!1)}return Cu(r,t,e,n,o,l)}function Cu(r,t,e,n,l,o){Xg(r,t);var s=(t.flags&128)!==0;if(!n&&!s)return l&&$f(t,e,!1),Pn(r,t,o);n=t.stateNode,L2.current=t;var c=s&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&s?(t.child=fs(t,r.child,null,o),t.child=fs(t,null,c,o)):br(r,t,c,o),t.memoizedState=n.state,l&&$f(t,e,!0),t.child}function Qg(r){var t=r.stateNode;t.pendingContext?Hf(r,t.pendingContext,t.pendingContext!==t.context):t.context&&Hf(r,t.context,!1),Md(r,t.containerInfo)}function sp(r,t,e,n,l){return hs(),kd(l),t.flags|=256,br(r,t,e,n),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Eu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Jg(r,t,e){var n=t.pendingProps,l=Vt.current,o=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=r!==null&&r.memoizedState===null?!1:(l&2)!==0),c?(o=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(l|=1),Lt(Vt,l&1),r===null)return vu(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,r=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Dl(s,n,0,null),r=Ci(r,n,e,null),o.return=t,r.return=t,o.sibling=r,t.child=o,t.child.memoizedState=Eu(e),t.memoizedState=Tu,r):Fd(t,s));if(l=r.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return F2(r,t,s,n,c,l,e);if(o){o=n.fallback,s=t.mode,l=r.child,c=l.sibling;var a={mode:"hidden",children:n.children};return!(s&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=ni(l,a),n.subtreeFlags=l.subtreeFlags&14680064),c!==null?o=ni(c,o):(o=Ci(o,s,e,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=r.child.memoizedState,s=s===null?Eu(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=r.childLanes&~e,t.memoizedState=Tu,n}return o=r.child,r=o.sibling,n=ni(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function Fd(r,t){return t=Dl({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function oa(r,t,e,n){return n!==null&&kd(n),fs(t,r.child,null,e),r=Fd(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function F2(r,t,e,n,l,o,s){if(e)return t.flags&256?(t.flags&=-257,n=Ac(Error(Ue(422))),oa(r,t,s,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(o=n.fallback,l=t.mode,n=Dl({mode:"visible",children:n.children},l,0,null),o=Ci(o,l,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&fs(t,r.child,null,s),t.child.memoizedState=Eu(s),t.memoizedState=Tu,o);if(!(t.mode&1))return oa(r,t,s,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(Ue(419)),n=Ac(o,n,void 0),oa(r,t,s,n)}if(c=(s&r.childLanes)!==0,Tr||c){if(n=sr,n!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,On(r,l),nn(n,r,l,-1))}return Wd(),n=Ac(Error(Ue(421))),oa(r,t,s,n)}return l.data==="$?"?(t.flags|=128,t.child=r.child,t=Q2.bind(null,r),l._reactRetry=t,null):(r=o.treeContext,Dr=Zn(l.nextSibling),Lr=t,Ht=!0,en=null,r!==null&&($r[Wr++]=En,$r[Wr++]=An,$r[Wr++]=Ei,En=r.id,An=r.overflow,Ei=t),t=Fd(t,n.children),t.flags|=4096,t)}function op(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),wu(r.return,t,e)}function Ic(r,t,e,n,l){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=e,o.tailMode=l)}function Zg(r,t,e){var n=t.pendingProps,l=n.revealOrder,o=n.tail;if(br(r,t,n.children,e),n=Vt.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&op(r,e,t);else if(r.tag===19)op(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Lt(Vt,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(e=t.child,l=null;e!==null;)r=e.alternate,r!==null&&Qa(r)===null&&(l=e),e=e.sibling;e=l,e===null?(l=t.child,t.child=null):(l=e.sibling,e.sibling=null),Ic(t,!1,l,e,o);break;case"backwards":for(e=null,l=t.child,t.child=null;l!==null;){if(r=l.alternate,r!==null&&Qa(r)===null){t.child=l;break}r=l.sibling,l.sibling=e,e=l,l=r}Ic(t,!0,e,null,o);break;case"together":Ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Pn(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),Ii|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(Ue(153));if(t.child!==null){for(r=t.child,e=ni(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=ni(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function B2(r,t,e){switch(t.tag){case 3:Qg(t),hs();break;case 5:Cg(t);break;case 1:Ar(t.type)&&Va(t);break;case 4:Md(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;Lt(Ga,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Lt(Vt,Vt.current&1),t.flags|=128,null):e&t.child.childLanes?Jg(r,t,e):(Lt(Vt,Vt.current&1),r=Pn(r,t,e),r!==null?r.sibling:null);Lt(Vt,Vt.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return Zg(r,t,e);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Lt(Vt,Vt.current),n)break;return null;case 22:case 23:return t.lanes=0,Yg(r,t,e)}return Pn(r,t,e)}var e0,Au,t0,r0;e0=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Au=function(){};t0=function(r,t,e,n){var l=r.memoizedProps;if(l!==n){r=t.stateNode,xi(xn.current);var o=null;switch(e){case"input":l=Xc(r,l),n=Xc(r,n),o=[];break;case"select":l=Kt({},l,{value:void 0}),n=Kt({},n,{value:void 0}),o=[];break;case"textarea":l=Zc(r,l),n=Zc(r,n),o=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=$a)}tu(e,n);var s;e=null;for(i in l)if(!n.hasOwnProperty(i)&&l.hasOwnProperty(i)&&l[i]!=null)if(i==="style"){var c=l[i];for(s in c)c.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else i!=="dangerouslySetInnerHTML"&&i!=="children"&&i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uo.hasOwnProperty(i)?o||(o=[]):(o=o||[]).push(i,null));for(i in n){var a=n[i];if(c=l!=null?l[i]:void 0,n.hasOwnProperty(i)&&a!==c&&(a!=null||c!=null))if(i==="style")if(c){for(s in c)!c.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in a)a.hasOwnProperty(s)&&c[s]!==a[s]&&(e||(e={}),e[s]=a[s])}else e||(o||(o=[]),o.push(i,e)),e=a;else i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(o=o||[]).push(i,a)):i==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(i,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&(uo.hasOwnProperty(i)?(a!=null&&i==="onScroll"&&Bt("scroll",r),o||c===a||(o=[])):(o=o||[]).push(i,a))}e&&(o=o||[]).push("style",e);var i=o;(t.updateQueue=i)&&(t.flags|=4)}};r0=function(r,t,e,n){e!==n&&(t.flags|=4)};function js(r,t){if(!Ht)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function hr(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var l=r.child;l!==null;)e|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=r,l=l.sibling;else for(l=r.child;l!==null;)e|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=r,l=l.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function z2(r,t,e){var n=t.pendingProps;switch(Sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(t),null;case 1:return Ar(t.type)&&Wa(),hr(t),null;case 3:return n=t.stateNode,ps(),zt(Er),zt(mr),Nd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(ia(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(Du(en),en=null))),Au(r,t),hr(t),null;case 5:Rd(t);var l=xi(So.current);if(e=t.type,r!==null&&t.stateNode!=null)t0(r,t,e,n,l),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ue(166));return hr(t),null}if(r=xi(xn.current),ia(t)){n=t.stateNode,e=t.type;var o=t.memoizedProps;switch(n[yn]=t,n[xo]=o,r=(t.mode&1)!==0,e){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(l=0;l<Ws.length;l++)Bt(Ws[l],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":mf(n,o),Bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bt("invalid",n);break;case"textarea":yf(n,o),Bt("invalid",n)}tu(e,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&na(n.textContent,c,r),l=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&na(n.textContent,c,r),l=["children",""+c]):uo.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Bt("scroll",n)}switch(e){case"input":Yo(n),gf(n,o,!0);break;case"textarea":Yo(n),bf(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=$a)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Mm(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=s.createElement(e,{is:n.is}):(r=s.createElement(e),e==="select"&&(s=r,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):r=s.createElementNS(r,e),r[yn]=t,r[xo]=n,e0(r,t,!1,!1),t.stateNode=r;e:{switch(s=ru(e,n),e){case"dialog":Bt("cancel",r),Bt("close",r),l=n;break;case"iframe":case"object":case"embed":Bt("load",r),l=n;break;case"video":case"audio":for(l=0;l<Ws.length;l++)Bt(Ws[l],r);l=n;break;case"source":Bt("error",r),l=n;break;case"img":case"image":case"link":Bt("error",r),Bt("load",r),l=n;break;case"details":Bt("toggle",r),l=n;break;case"input":mf(r,n),l=Xc(r,n),Bt("invalid",r);break;case"option":l=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},l=Kt({},n,{value:void 0}),Bt("invalid",r);break;case"textarea":yf(r,n),l=Zc(r,n),Bt("invalid",r);break;default:l=n}tu(e,l),c=l;for(o in c)if(c.hasOwnProperty(o)){var a=c[o];o==="style"?Om(r,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Rm(r,a)):o==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&ho(r,a):typeof a=="number"&&ho(r,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Bt("scroll",r):a!=null&&ld(r,o,a,s))}switch(e){case"input":Yo(r),gf(r,n,!1);break;case"textarea":Yo(r),bf(r);break;case"option":n.value!=null&&r.setAttribute("value",""+li(n.value));break;case"select":r.multiple=!!n.multiple,o=n.value,o!=null?ts(r,!!n.multiple,o,!1):n.defaultValue!=null&&ts(r,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(r.onclick=$a)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hr(t),null;case 6:if(r&&t.stateNode!=null)r0(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ue(166));if(e=xi(So.current),xi(xn.current),ia(t)){if(n=t.stateNode,e=t.memoizedProps,n[yn]=t,(o=n.nodeValue!==e)&&(r=Lr,r!==null))switch(r.tag){case 3:na(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&na(n.nodeValue,e,(r.mode&1)!==0)}o&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[yn]=t,t.stateNode=n}return hr(t),null;case 13:if(zt(Vt),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ht&&Dr!==null&&t.mode&1&&!(t.flags&128))wg(),hs(),t.flags|=98560,o=!1;else if(o=ia(t),n!==null&&n.dehydrated!==null){if(r===null){if(!o)throw Error(Ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ue(317));o[yn]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hr(t),o=!1}else en!==null&&(Du(en),en=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||Vt.current&1?er===0&&(er=3):Wd())),t.updateQueue!==null&&(t.flags|=4),hr(t),null);case 4:return ps(),Au(r,t),r===null&&vo(t.stateNode.containerInfo),hr(t),null;case 10:return Ed(t.type._context),hr(t),null;case 17:return Ar(t.type)&&Wa(),hr(t),null;case 19:if(zt(Vt),o=t.memoizedState,o===null)return hr(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)js(o,!1);else{if(er!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(s=Qa(r),s!==null){for(t.flags|=128,js(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)o=e,r=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Lt(Vt,Vt.current&1|2),t.child}r=r.sibling}o.tail!==null&&Xt()>gs&&(t.flags|=128,n=!0,js(o,!1),t.lanes=4194304)}else{if(!n)if(r=Qa(s),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),js(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ht)return hr(t),null}else 2*Xt()-o.renderingStartTime>gs&&e!==1073741824&&(t.flags|=128,n=!0,js(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(e=o.last,e!==null?e.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,e=Vt.current,Lt(Vt,n?e&1|2:e&1),t):(hr(t),null);case 22:case 23:return $d(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jr&1073741824&&(hr(t),t.subtreeFlags&6&&(t.flags|=8192)):hr(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function U2(r,t){switch(Sd(t),t.tag){case 1:return Ar(t.type)&&Wa(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return ps(),zt(Er),zt(mr),Nd(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return Rd(t),null;case 13:if(zt(Vt),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));hs()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return zt(Vt),null;case 4:return ps(),null;case 10:return Ed(t.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var aa=!1,pr=!1,H2=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Zi(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Yt(r,t,n)}else e.current=null}function Iu(r,t,e){try{e()}catch(n){Yt(r,t,n)}}var ap=!1;function $2(r,t){if(hu=za,r=ag(),xd(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var l=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var s=0,c=-1,a=-1,i=0,u=0,f=r,d=null;t:for(;;){for(var h;f!==e||l!==0&&f.nodeType!==3||(c=s+l),f!==o||n!==0&&f.nodeType!==3||(a=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===r)break t;if(d===e&&++i===l&&(c=s),d===o&&++u===n&&(a=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}e=c===-1||a===-1?null:{start:c,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(fu={focusedElem:r,selectionRange:e},za=!1,nt=t;nt!==null;)if(t=nt,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,nt=r;else for(;nt!==null;){t=nt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,p=g.memoizedState,b=t.stateNode,m=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qr(t.type,y),p);b.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(C){Yt(t,t.return,C)}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}return g=ap,ap=!1,g}function to(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&r)===r){var o=l.destroy;l.destroy=void 0,o!==void 0&&Iu(t,e,o)}l=l.next}while(l!==n)}}function Pl(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function Mu(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function n0(r){var t=r.alternate;t!==null&&(r.alternate=null,n0(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[yn],delete t[xo],delete t[gu],delete t[C2],delete t[T2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function i0(r){return r.tag===5||r.tag===3||r.tag===4}function lp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||i0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ru(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=$a));else if(n!==4&&(r=r.child,r!==null))for(Ru(r,t,e),r=r.sibling;r!==null;)Ru(r,t,e),r=r.sibling}function Nu(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Nu(r,t,e),r=r.sibling;r!==null;)Nu(r,t,e),r=r.sibling}var ar=null,Jr=!1;function zn(r,t,e){for(e=e.child;e!==null;)s0(r,t,e),e=e.sibling}function s0(r,t,e){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Tl,e)}catch{}switch(e.tag){case 5:pr||Zi(e,t);case 6:var n=ar,l=Jr;ar=null,zn(r,t,e),ar=n,Jr=l,ar!==null&&(Jr?(r=ar,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):ar.removeChild(e.stateNode));break;case 18:ar!==null&&(Jr?(r=ar,e=e.stateNode,r.nodeType===8?_c(r.parentNode,e):r.nodeType===1&&_c(r,e),go(r)):_c(ar,e.stateNode));break;case 4:n=ar,l=Jr,ar=e.stateNode.containerInfo,Jr=!0,zn(r,t,e),ar=n,Jr=l;break;case 0:case 11:case 14:case 15:if(!pr&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Iu(e,t,s),l=l.next}while(l!==n)}zn(r,t,e);break;case 1:if(!pr&&(Zi(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(c){Yt(e,t,c)}zn(r,t,e);break;case 21:zn(r,t,e);break;case 22:e.mode&1?(pr=(n=pr)||e.memoizedState!==null,zn(r,t,e),pr=n):zn(r,t,e);break;default:zn(r,t,e)}}function cp(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new H2),t.forEach(function(n){var l=J2.bind(null,r,n);e.has(n)||(e.add(n),n.then(l,l))})}}function Xr(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var l=e[n];try{var o=r,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:ar=c.stateNode,Jr=!1;break e;case 3:ar=c.stateNode.containerInfo,Jr=!0;break e;case 4:ar=c.stateNode.containerInfo,Jr=!0;break e}c=c.return}if(ar===null)throw Error(Ue(160));s0(o,s,l),ar=null,Jr=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(i){Yt(l,t,i)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o0(t,r),t=t.sibling}function o0(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xr(t,r),dn(r),n&4){try{to(3,r,r.return),Pl(3,r)}catch(y){Yt(r,r.return,y)}try{to(5,r,r.return)}catch(y){Yt(r,r.return,y)}}break;case 1:Xr(t,r),dn(r),n&512&&e!==null&&Zi(e,e.return);break;case 5:if(Xr(t,r),dn(r),n&512&&e!==null&&Zi(e,e.return),r.flags&32){var l=r.stateNode;try{ho(l,"")}catch(y){Yt(r,r.return,y)}}if(n&4&&(l=r.stateNode,l!=null)){var o=r.memoizedProps,s=e!==null?e.memoizedProps:o,c=r.type,a=r.updateQueue;if(r.updateQueue=null,a!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Am(l,o),ru(c,s);var i=ru(c,o);for(s=0;s<a.length;s+=2){var u=a[s],f=a[s+1];u==="style"?Om(l,f):u==="dangerouslySetInnerHTML"?Rm(l,f):u==="children"?ho(l,f):ld(l,u,f,i)}switch(c){case"input":Qc(l,o);break;case"textarea":Im(l,o);break;case"select":var d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ts(l,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ts(l,!!o.multiple,o.defaultValue,!0):ts(l,!!o.multiple,o.multiple?[]:"",!1))}l[xo]=o}catch(y){Yt(r,r.return,y)}}break;case 6:if(Xr(t,r),dn(r),n&4){if(r.stateNode===null)throw Error(Ue(162));l=r.stateNode,o=r.memoizedProps;try{l.nodeValue=o}catch(y){Yt(r,r.return,y)}}break;case 3:if(Xr(t,r),dn(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(y){Yt(r,r.return,y)}break;case 4:Xr(t,r),dn(r);break;case 13:Xr(t,r),dn(r),l=r.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Ud=Xt())),n&4&&cp(r);break;case 22:if(u=e!==null&&e.memoizedState!==null,r.mode&1?(pr=(i=pr)||u,Xr(t,r),pr=i):Xr(t,r),dn(r),n&8192){if(i=r.memoizedState!==null,(r.stateNode.isHidden=i)&&!u&&r.mode&1)for(nt=r,u=r.child;u!==null;){for(f=nt=u;nt!==null;){switch(d=nt,h=d.child,d.tag){case 0:case 11:case 14:case 15:to(4,d,d.return);break;case 1:Zi(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,e=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Yt(n,e,y)}}break;case 5:Zi(d,d.return);break;case 22:if(d.memoizedState!==null){dp(f);continue}}h!==null?(h.return=d,nt=h):dp(f)}u=u.sibling}e:for(u=null,f=r;;){if(f.tag===5){if(u===null){u=f;try{l=f.stateNode,i?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=Nm("display",s))}catch(y){Yt(r,r.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=i?"":f.memoizedProps}catch(y){Yt(r,r.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,r),dn(r),n&4&&cp(r);break;case 21:break;default:Xr(t,r),dn(r)}}function dn(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(i0(e)){var n=e;break e}e=e.return}throw Error(Ue(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(ho(l,""),n.flags&=-33);var o=lp(r);Nu(r,o,l);break;case 3:case 4:var s=n.stateNode.containerInfo,c=lp(r);Ru(r,c,s);break;default:throw Error(Ue(161))}}catch(a){Yt(r,r.return,a)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function W2(r,t,e){nt=r,a0(r)}function a0(r,t,e){for(var n=(r.mode&1)!==0;nt!==null;){var l=nt,o=l.child;if(l.tag===22&&n){var s=l.memoizedState!==null||aa;if(!s){var c=l.alternate,a=c!==null&&c.memoizedState!==null||pr;c=aa;var i=pr;if(aa=s,(pr=a)&&!i)for(nt=l;nt!==null;)s=nt,a=s.child,s.tag===22&&s.memoizedState!==null?hp(l):a!==null?(a.return=s,nt=a):hp(l);for(;o!==null;)nt=o,a0(o),o=o.sibling;nt=l,aa=c,pr=i}up(r)}else l.subtreeFlags&8772&&o!==null?(o.return=l,nt=o):up(r)}}function up(r){for(;nt!==null;){var t=nt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pr||Pl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pr)if(e===null)n.componentDidMount();else{var l=t.elementType===t.type?e.memoizedProps:Qr(t.type,e.memoizedProps);n.componentDidUpdate(l,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Gf(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Gf(t,s,e)}break;case 5:var c=t.stateNode;if(e===null&&t.flags&4){e=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var i=t.alternate;if(i!==null){var u=i.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&go(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}pr||t.flags&512&&Mu(t)}catch(d){Yt(t,t.return,d)}}if(t===r){nt=null;break}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function dp(r){for(;nt!==null;){var t=nt;if(t===r){nt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,nt=e;break}nt=t.return}}function hp(r){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Pl(4,t)}catch(a){Yt(t,e,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(a){Yt(t,l,a)}}var o=t.return;try{Mu(t)}catch(a){Yt(t,o,a)}break;case 5:var s=t.return;try{Mu(t)}catch(a){Yt(t,s,a)}}}catch(a){Yt(t,t.return,a)}if(t===r){nt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,nt=c;break}nt=t.return}}var V2=Math.ceil,el=Dn.ReactCurrentDispatcher,Bd=Dn.ReactCurrentOwner,Kr=Dn.ReactCurrentBatchConfig,Ct=0,sr=null,Jt=null,cr=0,jr=0,es=fi(0),er=0,Eo=null,Ii=0,jl=0,zd=0,ro=null,kr=null,Ud=0,gs=1/0,kn=null,tl=!1,Ou=null,ti=null,la=!1,Gn=null,rl=0,no=0,Pu=null,Ia=-1,Ma=0;function xr(){return Ct&6?Xt():Ia!==-1?Ia:Ia=Xt()}function ri(r){return r.mode&1?Ct&2&&cr!==0?cr&-cr:A2.transition!==null?(Ma===0&&(Ma=Vm()),Ma):(r=Rt,r!==0||(r=window.event,r=r===void 0?16:Jm(r.type)),r):1}function nn(r,t,e,n){if(50<no)throw no=0,Pu=null,Error(Ue(185));jo(r,e,n),(!(Ct&2)||r!==sr)&&(r===sr&&(!(Ct&2)&&(jl|=e),er===4&&Vn(r,cr)),Ir(r,n),e===1&&Ct===0&&!(t.mode&1)&&(gs=Xt()+500,Rl&&pi()))}function Ir(r,t){var e=r.callbackNode;Ab(r,t);var n=Ba(r,r===sr?cr:0);if(n===0)e!==null&&xf(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&xf(e),t===1)r.tag===0?E2(fp.bind(null,r)):yg(fp.bind(null,r)),S2(function(){!(Ct&6)&&pi()}),e=null;else{switch(qm(n)){case 1:e=fd;break;case 4:e=$m;break;case 16:e=Fa;break;case 536870912:e=Wm;break;default:e=Fa}e=m0(e,l0.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function l0(r,t){if(Ia=-1,Ma=0,Ct&6)throw Error(Ue(327));var e=r.callbackNode;if(os()&&r.callbackNode!==e)return null;var n=Ba(r,r===sr?cr:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=nl(r,n);else{t=n;var l=Ct;Ct|=2;var o=u0();(sr!==r||cr!==t)&&(kn=null,gs=Xt()+500,ki(r,t));do try{G2();break}catch(c){c0(r,c)}while(!0);Td(),el.current=o,Ct=l,Jt!==null?t=0:(sr=null,cr=0,t=er)}if(t!==0){if(t===2&&(l=au(r),l!==0&&(n=l,t=ju(r,l))),t===1)throw e=Eo,ki(r,0),Vn(r,n),Ir(r,Xt()),e;if(t===6)Vn(r,n);else{if(l=r.current.alternate,!(n&30)&&!q2(l)&&(t=nl(r,n),t===2&&(o=au(r),o!==0&&(n=o,t=ju(r,o))),t===1))throw e=Eo,ki(r,0),Vn(r,n),Ir(r,Xt()),e;switch(r.finishedWork=l,r.finishedLanes=n,t){case 0:case 1:throw Error(Ue(345));case 2:yi(r,kr,kn);break;case 3:if(Vn(r,n),(n&130023424)===n&&(t=Ud+500-Xt(),10<t)){if(Ba(r,0)!==0)break;if(l=r.suspendedLanes,(l&n)!==n){xr(),r.pingedLanes|=r.suspendedLanes&l;break}r.timeoutHandle=mu(yi.bind(null,r,kr,kn),t);break}yi(r,kr,kn);break;case 4:if(Vn(r,n),(n&4194240)===n)break;for(t=r.eventTimes,l=-1;0<n;){var s=31-rn(n);o=1<<s,s=t[s],s>l&&(l=s),n&=~o}if(n=l,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V2(n/1960))-n,10<n){r.timeoutHandle=mu(yi.bind(null,r,kr,kn),n);break}yi(r,kr,kn);break;case 5:yi(r,kr,kn);break;default:throw Error(Ue(329))}}}return Ir(r,Xt()),r.callbackNode===e?l0.bind(null,r):null}function ju(r,t){var e=ro;return r.current.memoizedState.isDehydrated&&(ki(r,t).flags|=256),r=nl(r,t),r!==2&&(t=kr,kr=e,t!==null&&Du(t)),r}function Du(r){kr===null?kr=r:kr.push.apply(kr,r)}function q2(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var l=e[n],o=l.getSnapshot;l=l.value;try{if(!on(o(),l))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(r,t){for(t&=~zd,t&=~jl,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-rn(t),n=1<<e;r[e]=-1,t&=~n}}function fp(r){if(Ct&6)throw Error(Ue(327));os();var t=Ba(r,0);if(!(t&1))return Ir(r,Xt()),null;var e=nl(r,t);if(r.tag!==0&&e===2){var n=au(r);n!==0&&(t=n,e=ju(r,n))}if(e===1)throw e=Eo,ki(r,0),Vn(r,t),Ir(r,Xt()),e;if(e===6)throw Error(Ue(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,yi(r,kr,kn),Ir(r,Xt()),null}function Hd(r,t){var e=Ct;Ct|=1;try{return r(t)}finally{Ct=e,Ct===0&&(gs=Xt()+500,Rl&&pi())}}function Mi(r){Gn!==null&&Gn.tag===0&&!(Ct&6)&&os();var t=Ct;Ct|=1;var e=Kr.transition,n=Rt;try{if(Kr.transition=null,Rt=1,r)return r()}finally{Rt=n,Kr.transition=e,Ct=t,!(Ct&6)&&pi()}}function $d(){jr=es.current,zt(es)}function ki(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,_2(e)),Jt!==null)for(e=Jt.return;e!==null;){var n=e;switch(Sd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wa();break;case 3:ps(),zt(Er),zt(mr),Nd();break;case 5:Rd(n);break;case 4:ps();break;case 13:zt(Vt);break;case 19:zt(Vt);break;case 10:Ed(n.type._context);break;case 22:case 23:$d()}e=e.return}if(sr=r,Jt=r=ni(r.current,null),cr=jr=t,er=0,Eo=null,zd=jl=Ii=0,kr=ro=null,wi!==null){for(t=0;t<wi.length;t++)if(e=wi[t],n=e.interleaved,n!==null){e.interleaved=null;var l=n.next,o=e.pending;if(o!==null){var s=o.next;o.next=l,n.next=s}e.pending=n}wi=null}return r}function c0(r,t){do{var e=Jt;try{if(Td(),Ta.current=Za,Ja){for(var n=qt.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Ja=!1}if(Ai=0,ir=Zt=qt=null,eo=!1,ko=0,Bd.current=null,e===null||e.return===null){er=1,Eo=t,Jt=null;break}e:{var o=r,s=e.return,c=e,a=t;if(t=cr,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var i=a,u=c,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ep(s);if(h!==null){h.flags&=-257,tp(h,s,c,o,t),h.mode&1&&Zf(o,i,t),t=h,a=i;var g=t.updateQueue;if(g===null){var y=new Set;y.add(a),t.updateQueue=y}else g.add(a);break e}else{if(!(t&1)){Zf(o,i,t),Wd();break e}a=Error(Ue(426))}}else if(Ht&&c.mode&1){var p=ep(s);if(p!==null){!(p.flags&65536)&&(p.flags|=256),tp(p,s,c,o,t),kd(ms(a,c));break e}}o=a=ms(a,c),er!==4&&(er=2),ro===null?ro=[o]:ro.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=qg(o,a,t);Kf(o,b);break e;case 1:c=a;var m=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ti===null||!ti.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=Kg(o,c,t);Kf(o,C);break e}}o=o.return}while(o!==null)}h0(e)}catch(I){t=I,Jt===e&&e!==null&&(Jt=e=e.return);continue}break}while(!0)}function u0(){var r=el.current;return el.current=Za,r===null?Za:r}function Wd(){(er===0||er===3||er===2)&&(er=4),sr===null||!(Ii&268435455)&&!(jl&268435455)||Vn(sr,cr)}function nl(r,t){var e=Ct;Ct|=2;var n=u0();(sr!==r||cr!==t)&&(kn=null,ki(r,t));do try{K2();break}catch(l){c0(r,l)}while(!0);if(Td(),Ct=e,el.current=n,Jt!==null)throw Error(Ue(261));return sr=null,cr=0,er}function K2(){for(;Jt!==null;)d0(Jt)}function G2(){for(;Jt!==null&&!vb();)d0(Jt)}function d0(r){var t=p0(r.alternate,r,jr);r.memoizedProps=r.pendingProps,t===null?h0(r):Jt=t,Bd.current=null}function h0(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=U2(e,t),e!==null){e.flags&=32767,Jt=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{er=6,Jt=null;return}}else if(e=z2(e,t,jr),e!==null){Jt=e;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=r}while(t!==null);er===0&&(er=5)}function yi(r,t,e){var n=Rt,l=Kr.transition;try{Kr.transition=null,Rt=1,Y2(r,t,e,n)}finally{Kr.transition=l,Rt=n}return null}function Y2(r,t,e,n){do os();while(Gn!==null);if(Ct&6)throw Error(Ue(327));e=r.finishedWork;var l=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(Ue(177));r.callbackNode=null,r.callbackPriority=0;var o=e.lanes|e.childLanes;if(Ib(r,o),r===sr&&(Jt=sr=null,cr=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||la||(la=!0,m0(Fa,function(){return os(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=Kr.transition,Kr.transition=null;var s=Rt;Rt=1;var c=Ct;Ct|=4,Bd.current=null,$2(r,e),o0(e,r),m2(fu),za=!!hu,fu=hu=null,r.current=e,W2(e),wb(),Ct=c,Rt=s,Kr.transition=o}else r.current=e;if(la&&(la=!1,Gn=r,rl=l),o=r.pendingLanes,o===0&&(ti=null),Sb(e.stateNode),Ir(r,Xt()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)l=t[e],n(l.value,{componentStack:l.stack,digest:l.digest});if(tl)throw tl=!1,r=Ou,Ou=null,r;return rl&1&&r.tag!==0&&os(),o=r.pendingLanes,o&1?r===Pu?no++:(no=0,Pu=r):no=0,pi(),null}function os(){if(Gn!==null){var r=qm(rl),t=Kr.transition,e=Rt;try{if(Kr.transition=null,Rt=16>r?16:r,Gn===null)var n=!1;else{if(r=Gn,Gn=null,rl=0,Ct&6)throw Error(Ue(331));var l=Ct;for(Ct|=4,nt=r.current;nt!==null;){var o=nt,s=o.child;if(nt.flags&16){var c=o.deletions;if(c!==null){for(var a=0;a<c.length;a++){var i=c[a];for(nt=i;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:to(8,u,o)}var f=u.child;if(f!==null)f.return=u,nt=f;else for(;nt!==null;){u=nt;var d=u.sibling,h=u.return;if(n0(u),u===i){nt=null;break}if(d!==null){d.return=h,nt=d;break}nt=h}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var p=y.sibling;y.sibling=null,y=p}while(y!==null)}}nt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,nt=s;else e:for(;nt!==null;){if(o=nt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:to(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,nt=b;break e}nt=o.return}}var m=r.current;for(nt=m;nt!==null;){s=nt;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,nt=S;else e:for(s=m;nt!==null;){if(c=nt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pl(9,c)}}catch(I){Yt(c,c.return,I)}if(c===s){nt=null;break e}var C=c.sibling;if(C!==null){C.return=c.return,nt=C;break e}nt=c.return}}if(Ct=l,pi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Tl,r)}catch{}n=!0}return n}finally{Rt=e,Kr.transition=t}}return!1}function pp(r,t,e){t=ms(e,t),t=qg(r,t,1),r=ei(r,t,1),t=xr(),r!==null&&(jo(r,1,t),Ir(r,t))}function Yt(r,t,e){if(r.tag===3)pp(r,r,e);else for(;t!==null;){if(t.tag===3){pp(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){r=ms(e,r),r=Kg(t,r,1),t=ei(t,r,1),r=xr(),t!==null&&(jo(t,1,r),Ir(t,r));break}}t=t.return}}function X2(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=xr(),r.pingedLanes|=r.suspendedLanes&e,sr===r&&(cr&e)===e&&(er===4||er===3&&(cr&130023424)===cr&&500>Xt()-Ud?ki(r,0):zd|=e),Ir(r,t)}function f0(r,t){t===0&&(r.mode&1?(t=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):t=1);var e=xr();r=On(r,t),r!==null&&(jo(r,t,e),Ir(r,e))}function Q2(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),f0(r,e)}function J2(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,l=r.memoizedState;l!==null&&(e=l.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Ue(314))}n!==null&&n.delete(t),f0(r,e)}var p0;p0=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||Er.current)Tr=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return Tr=!1,B2(r,t,e);Tr=!!(r.flags&131072)}else Tr=!1,Ht&&t.flags&1048576&&bg(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Aa(r,t),r=t.pendingProps;var l=ds(t,mr.current);ss(t,e),l=Pd(null,t,n,r,l,e);var o=jd();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(n)?(o=!0,Va(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Id(t),l.updater=Ol,t.stateNode=l,l._reactInternals=t,_u(t,n,r,e),t=Cu(null,t,n,!0,o,e)):(t.tag=0,Ht&&o&&_d(t),br(null,t,l,e),t=t.child),t;case 16:n=t.elementType;e:{switch(Aa(r,t),r=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=ev(n),r=Qr(n,r),l){case 0:t=ku(null,t,n,r,e);break e;case 1:t=ip(null,t,n,r,e);break e;case 11:t=rp(null,t,n,r,e);break e;case 14:t=np(null,t,n,Qr(n.type,r),e);break e}throw Error(Ue(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Qr(n,l),ku(r,t,n,l,e);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Qr(n,l),ip(r,t,n,l,e);case 3:e:{if(Qg(t),r===null)throw Error(Ue(387));n=t.pendingProps,o=t.memoizedState,l=o.element,kg(r,t),Xa(t,n,null,e);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=ms(Error(Ue(423)),t),t=sp(r,t,n,e,l);break e}else if(n!==l){l=ms(Error(Ue(424)),t),t=sp(r,t,n,e,l);break e}else for(Dr=Zn(t.stateNode.containerInfo.firstChild),Lr=t,Ht=!0,en=null,e=_g(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(hs(),n===l){t=Pn(r,t,e);break e}br(r,t,n,e)}t=t.child}return t;case 5:return Cg(t),r===null&&vu(t),n=t.type,l=t.pendingProps,o=r!==null?r.memoizedProps:null,s=l.children,pu(n,l)?s=null:o!==null&&pu(n,o)&&(t.flags|=32),Xg(r,t),br(r,t,s,e),t.child;case 6:return r===null&&vu(t),null;case 13:return Jg(r,t,e);case 4:return Md(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=fs(t,null,n,e):br(r,t,n,e),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Qr(n,l),rp(r,t,n,l,e);case 7:return br(r,t,t.pendingProps,e),t.child;case 8:return br(r,t,t.pendingProps.children,e),t.child;case 12:return br(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,Lt(Ga,n._currentValue),n._currentValue=s,o!==null)if(on(o.value,s)){if(o.children===l.children&&!Er.current){t=Pn(r,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var a=c.firstContext;a!==null;){if(a.context===n){if(o.tag===1){a=Mn(-1,e&-e),a.tag=2;var i=o.updateQueue;if(i!==null){i=i.shared;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}}o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),wu(o.return,e,t),c.lanes|=e;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ue(341));s.lanes|=e,c=s.alternate,c!==null&&(c.lanes|=e),wu(s,e,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}br(r,t,l.children,e),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,ss(t,e),l=Gr(l),n=n(l),t.flags|=1,br(r,t,n,e),t.child;case 14:return n=t.type,l=Qr(n,t.pendingProps),l=Qr(n.type,l),np(r,t,n,l,e);case 15:return Gg(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Qr(n,l),Aa(r,t),t.tag=1,Ar(n)?(r=!0,Va(t)):r=!1,ss(t,e),Vg(t,n,l),_u(t,n,l,e),Cu(null,t,n,!0,r,e);case 19:return Zg(r,t,e);case 22:return Yg(r,t,e)}throw Error(Ue(156,t.tag))};function m0(r,t){return Hm(r,t)}function Z2(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(r,t,e,n){return new Z2(r,t,e,n)}function Vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ev(r){if(typeof r=="function")return Vd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ud)return 11;if(r===dd)return 14}return 2}function ni(r,t){var e=r.alternate;return e===null?(e=qr(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function Ra(r,t,e,n,l,o){var s=2;if(n=r,typeof r=="function")Vd(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case Wi:return Ci(e.children,l,o,t);case cd:s=8,l|=8;break;case qc:return r=qr(12,e,t,l|2),r.elementType=qc,r.lanes=o,r;case Kc:return r=qr(13,e,t,l),r.elementType=Kc,r.lanes=o,r;case Gc:return r=qr(19,e,t,l),r.elementType=Gc,r.lanes=o,r;case Cm:return Dl(e,l,o,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Sm:s=10;break e;case km:s=9;break e;case ud:s=11;break e;case dd:s=14;break e;case Hn:s=16,n=null;break e}throw Error(Ue(130,r==null?r:typeof r,""))}return t=qr(s,e,t,l),t.elementType=r,t.type=n,t.lanes=o,t}function Ci(r,t,e,n){return r=qr(7,r,n,t),r.lanes=e,r}function Dl(r,t,e,n){return r=qr(22,r,n,t),r.elementType=Cm,r.lanes=e,r.stateNode={isHidden:!1},r}function Mc(r,t,e){return r=qr(6,r,null,t),r.lanes=e,r}function Rc(r,t,e){return t=qr(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function tv(r,t,e,n,l){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function qd(r,t,e,n,l,o,s,c,a){return r=new tv(r,t,e,c,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qr(3,null,null,t),r.current=o,o.stateNode=r,o.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(o),r}function rv(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function g0(r){if(!r)return ci;r=r._reactInternals;e:{if(Di(r)!==r||r.tag!==1)throw Error(Ue(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(r.tag===1){var e=r.type;if(Ar(e))return gg(r,e,t)}return t}function y0(r,t,e,n,l,o,s,c,a){return r=qd(e,n,!0,r,l,o,s,c,a),r.context=g0(null),e=r.current,n=xr(),l=ri(e),o=Mn(n,l),o.callback=t??null,ei(e,o,l),r.current.lanes=l,jo(r,l,n),Ir(r,n),r}function Ll(r,t,e,n){var l=t.current,o=xr(),s=ri(l);return e=g0(e),t.context===null?t.context=e:t.pendingContext=e,t=Mn(o,s),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=ei(l,t,s),r!==null&&(nn(r,l,s,o),Ca(r,l,s)),s}function il(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function mp(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function Kd(r,t){mp(r,t),(r=r.alternate)&&mp(r,t)}function nv(){return null}var b0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gd(r){this._internalRoot=r}Fl.prototype.render=Gd.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(Ue(409));Ll(r,t,null,null)};Fl.prototype.unmount=Gd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;Mi(function(){Ll(null,r,null,null)}),t[Nn]=null}};function Fl(r){this._internalRoot=r}Fl.prototype.unstable_scheduleHydration=function(r){if(r){var t=Ym();r={blockedOn:null,target:r,priority:t};for(var e=0;e<Wn.length&&t!==0&&t<Wn[e].priority;e++);Wn.splice(e,0,r),e===0&&Qm(r)}};function Yd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gp(){}function iv(r,t,e,n,l){if(l){if(typeof n=="function"){var o=n;n=function(){var i=il(s);o.call(i)}}var s=y0(t,n,r,0,null,!1,!1,"",gp);return r._reactRootContainer=s,r[Nn]=s.current,vo(r.nodeType===8?r.parentNode:r),Mi(),s}for(;l=r.lastChild;)r.removeChild(l);if(typeof n=="function"){var c=n;n=function(){var i=il(a);c.call(i)}}var a=qd(r,0,!1,null,null,!1,!1,"",gp);return r._reactRootContainer=a,r[Nn]=a.current,vo(r.nodeType===8?r.parentNode:r),Mi(function(){Ll(t,a,e,n)}),a}function zl(r,t,e,n,l){var o=e._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var c=l;l=function(){var a=il(s);c.call(a)}}Ll(t,s,r,l)}else s=iv(e,t,r,l,n);return il(s)}Km=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=$s(t.pendingLanes);e!==0&&(pd(t,e|1),Ir(t,Xt()),!(Ct&6)&&(gs=Xt()+500,pi()))}break;case 13:Mi(function(){var n=On(r,1);if(n!==null){var l=xr();nn(n,r,1,l)}}),Kd(r,1)}};md=function(r){if(r.tag===13){var t=On(r,134217728);if(t!==null){var e=xr();nn(t,r,134217728,e)}Kd(r,134217728)}};Gm=function(r){if(r.tag===13){var t=ri(r),e=On(r,t);if(e!==null){var n=xr();nn(e,r,t,n)}Kd(r,t)}};Ym=function(){return Rt};Xm=function(r,t){var e=Rt;try{return Rt=r,t()}finally{Rt=e}};iu=function(r,t,e){switch(t){case"input":if(Qc(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var l=Ml(n);if(!l)throw Error(Ue(90));Em(n),Qc(n,l)}}}break;case"textarea":Im(r,e);break;case"select":t=e.value,t!=null&&ts(r,!!e.multiple,t,!1)}};Dm=Hd;Lm=Mi;var sv={usingClientEntryPoint:!1,Events:[Lo,Gi,Ml,Pm,jm,Hd]},Ds={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ov={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=zm(r),r===null?null:r.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Tl=ca.inject(ov),wn=ca}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;Ur.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(t))throw Error(Ue(200));return rv(r,t,null,e)};Ur.createRoot=function(r,t){if(!Yd(r))throw Error(Ue(299));var e=!1,n="",l=b0;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=qd(r,1,!1,null,null,e,!1,n,l),r[Nn]=t.current,vo(r.nodeType===8?r.parentNode:r),new Gd(t)};Ur.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(Ue(188)):(r=Object.keys(r).join(","),Error(Ue(268,r)));return r=zm(t),r=r===null?null:r.stateNode,r};Ur.flushSync=function(r){return Mi(r)};Ur.hydrate=function(r,t,e){if(!Bl(t))throw Error(Ue(200));return zl(null,r,t,!0,e)};Ur.hydrateRoot=function(r,t,e){if(!Yd(r))throw Error(Ue(405));var n=e!=null&&e.hydratedSources||null,l=!1,o="",s=b0;if(e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),t=y0(t,null,r,1,e??null,l,!1,o,s),r[Nn]=t.current,vo(r),n)for(r=0;r<n.length;r++)e=n[r],l=e._getVersion,l=l(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,l]:t.mutableSourceEagerHydrationData.push(e,l);return new Fl(t)};Ur.render=function(r,t,e){if(!Bl(t))throw Error(Ue(200));return zl(null,r,t,!1,e)};Ur.unmountComponentAtNode=function(r){if(!Bl(r))throw Error(Ue(40));return r._reactRootContainer?(Mi(function(){zl(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1};Ur.unstable_batchedUpdates=Hd;Ur.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!Bl(e))throw Error(Ue(200));if(r==null||r._reactInternals===void 0)throw Error(Ue(38));return zl(r,t,e,!1,n)};Ur.version="18.3.1-next-f1338f8080-20240426";function v0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v0)}catch(r){console.error(r)}}v0(),vm.exports=Ur;var av=vm.exports,yp=av;Wc.createRoot=yp.createRoot,Wc.hydrateRoot=yp.hydrateRoot;let bp=0;function w0(){return bp+=1,String(bp)}function Xd(r){if(r===null)return"null";const t=typeof r;return Array.isArray(r)?"array":t==="object"?"object":t==="string"?"string":t==="number"?Number.isInteger(r)?"integer":"number":t==="boolean"?"boolean":"unknown"}function lv(r,t){try{switch(t){case"string":{const e=String(r),n=e.length>64?e.slice(0,61)+"…":e;return{description:`String of length ${e.length}.`,preview:'"'+n+'"'}}case"number":return{description:"Floating-point numeric value."};case"integer":return{description:"Numeric value."};case"boolean":return{description:"Boolean value."};case"null":return{description:"Null value."};case"array":{const e=Array.isArray(r)?r:[],n=e.length,l=n>0?Xd(e[0]):"unknown",o=e.slice(0,5).map(s=>cv(s));return{description:`Array with ${n} item${n===1?"":"s"}${l!=="unknown"?` (e.g., ${l})`:""}.`,preview:`[${o.join(", ")}${n>5?", …":""}]`}}case"object":{const e=r&&typeof r=="object"?r:{};if("preview"in e||"excelMeta"in e){const o=typeof e.preview=="string"?e.preview:void 0,s=e.excelMeta;return{description:void 0,preview:o,excelMeta:s}}const n=Object.keys(e),l=n.slice(0,5);return{description:`Object with ${n.length} key${n.length===1?"":"s"}.`,preview:`{ ${l.join(", ")}${n.length>5?", …":""} }`}}default:return{}}}catch{return{}}}function cv(r){const t=Xd(r);return t==="string"?'"'+String(r).replace(/\s+/g," ").slice(0,24)+(String(r).length>24?"…":"")+'"':t==="number"||t==="boolean"||t==="null"?String(r):t==="array"?"[…]":t==="object"?"{…}":String(r)}function Lu(r,t,e=[]){const n=Xd(t),{description:l,preview:o,excelMeta:s}=lv(t,n),c={id:(e.length?e.join("."):"root")+":"+w0(),name:r,type:n,description:l,valuePreview:o,excelMeta:s};if(n==="object"){const a=t;if(a&&(Object.prototype.hasOwnProperty.call(a,"preview")||Object.prototype.hasOwnProperty.call(a,"excelMeta")))return c.type="string",c;const i=Object.keys(a).sort();c.children=i.map(u=>Lu(u,a[u],[...e,u]))}else if(n==="array"){const a=t;c.children=a.map((i,u)=>Lu(`[${u}]`,i,[...e,String(u)]))}return c}function uv(r){if(!r||typeof r!="object")return!1;const t=r;return"$schema"in t||"properties"in t&&typeof t.properties=="object"||"type"in t&&(t.type==="object"||t.type==="array")}function dv(r){const t=Array.isArray(r.type)?r.type[0]:r.type;return t?t==="integer"?"integer":t==="number"?"number":t==="string"?"string":t==="boolean"?"boolean":t==="null"?"null":t==="array"?"array":"object":"object"}function hv(r){const t=[];return r.enum&&t.push(`enum: ${r.enum.map(e=>JSON.stringify(e)).join(", ")}`),r.const!==void 0&&t.push(`const: ${JSON.stringify(r.const)}`),r.pattern&&t.push(`pattern: ${r.pattern}`),typeof r.minLength=="number"&&t.push(`minLength: ${r.minLength}`),typeof r.maxLength=="number"&&t.push(`maxLength: ${r.maxLength}`),r.format&&t.push(`format: ${r.format}`),typeof r.minimum=="number"&&t.push(`minimum: ${r.minimum}`),typeof r.maximum=="number"&&t.push(`maximum: ${r.maximum}`),typeof r.exclusiveMinimum=="number"&&t.push(`exclusiveMinimum: ${r.exclusiveMinimum}`),typeof r.exclusiveMaximum=="number"&&t.push(`exclusiveMaximum: ${r.exclusiveMaximum}`),typeof r.multipleOf=="number"&&t.push(`multipleOf: ${r.multipleOf}`),t.length?t:void 0}function Vs(r,t,e=[],n=!0){const l=dv(t),o={id:(e.length?e.join("."):"root")+":"+w0(),name:r,type:l,description:t.description,rules:hv(t)},s=Array.isArray(t.allOf)&&t.allOf.length>0?t.allOf.map((c,a)=>{var f;const i=c.title||`[allOf ${a+1}]`,u=((f=c.title)==null?void 0:f.replace(/\s+/g,"_"))||`allOf_${a+1}`;return Vs(i,c,[...e,u],n)}):[];if(l==="object"){const c=t.properties??{},a=Object.keys(c).sort(),i=new Set(t.required??[]),u=a.map(f=>{const d=c[f],h=i.has(f),g=Vs(f,d,[...e,f],h&&n);return g.requiredState=h?n?"required":"conditional":"optional",g});o.children=[...u,...s]}else if(l==="array"){const c=t.items;Array.isArray(c)?o.children=c.map((a,i)=>Vs(`[${i}]`,a,[...e,String(i)],n)):c&&(o.children=[Vs("[item]",c,[...e,"item"],n)]),s.length&&(o.children=(o.children??[]).concat(s))}else s.length&&(o.children=s);return o}function vp(r){if(uv(r)){const t=r,e=t.title||"root";return Vs(e,t,[],!0)}return Lu("root",r)}function qs({node:r,depth:t,isRoot:e=!1,defaultOpenChildren:n=!1,forcePreferredSide:l}){var T;const[o,s]=oe.useState(n||t===0),[c,a]=oe.useState(!1),[i,u]=oe.useState(l??"right"),[f,d]=oe.useState(!1),h=oe.useRef(null),g=oe.useRef(0),y=(((T=r.children)==null?void 0:T.length)??0)>0,p={paddingLeft:0},b=oe.useMemo(()=>{const A=1.8*Math.pow(.85,t);return Math.max(.5,A)},[t]),m=oe.useMemo(()=>{if(!y||!r.children)return!1;const A=r.children.filter(k=>k.requiredState==="required");return A.length===0?!1:A.every(k=>k.excelMeta&&Object.keys(k.excelMeta).length>0)},[y,r.children]),S=oe.useMemo(()=>{const A={"--scale":String(b),"--indicator-border":"rgba(255,255,255,0.20)","--indicator-bg":y?"linear-gradient(180deg, rgba(124,192,255,0.22), rgba(124,192,255,0.10))":"linear-gradient(180deg, rgba(255,140,26,0.22), rgba(255,140,26,0.10))","--indicator-shadow":"inset 0 1px 0 rgba(255,255,255,0.14), 0 10px 24px rgba(0,0,0,0.35)"};if(r.excelMeta&&Object.keys(r.excelMeta).length>0||m){const v={...A,borderColor:"rgba(76,175,80,0.45)",background:"linear-gradient(180deg, rgba(76,175,80,0.12), rgba(76,175,80,0.06))",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.14), 0 12px 28px rgba(76,175,80,0.24)","--indicator-border":"rgba(76,175,80,0.45)","--indicator-bg":"linear-gradient(180deg, rgba(76,175,80,0.20), rgba(76,175,80,0.10))","--indicator-shadow":"inset 0 1px 0 rgba(255,255,255,0.14), 0 12px 28px rgba(76,175,80,0.24)"};return f&&(v.borderColor="rgba(76,175,80,0.85)",v.boxShadow="inset 0 1px 0 rgba(255,255,255,0.14), 0 0 0 2px rgba(76,175,80,0.85), 0 0 28px rgba(76,175,80,0.46)"),f&&y&&(v.cursor='url("./cursors/circle.cur"), copy'),v}if(r.requiredState==="required"){const v={...A,borderColor:"rgba(255,80,80,0.45)",background:"linear-gradient(180deg, rgba(255,80,80,0.12), rgba(255,80,80,0.06))",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.14), 0 12px 28px rgba(255,80,80,0.24)","--indicator-border":"rgba(255,80,80,0.45)","--indicator-bg":"linear-gradient(180deg, rgba(255,80,80,0.20), rgba(255,80,80,0.10))","--indicator-shadow":"inset 0 1px 0 rgba(255,255,255,0.14), 0 12px 28px rgba(255,80,80,0.24)"};return f&&(v.borderColor="rgba(255,80,80,0.85)",v.boxShadow="inset 0 1px 0 rgba(255,255,255,0.14), 0 0 0 2px rgba(255,80,80,0.85), 0 0 28px rgba(255,80,80,0.46)"),f&&y&&(v.cursor='url("./cursors/circle.cur"), copy'),v}return f&&y&&(A.cursor='url("./cursors/circle.cur"), copy'),A},[r.requiredState,b,y,f,r.excelMeta,m]),C=oe.useMemo(()=>{const A=r.children??[],k=[];for(let v=0;v<A.length;v++)k.push({left:A[v],right:void 0});return k},[r.children]),I=oe.useRef([]),P=oe.useRef(null),L=A=>{var k;try{if(window.__excelDragging===!0)return!0;const v=(k=A.dataTransfer)==null?void 0:k.types;if(v){const x=Array.from(v);if(x.includes("application/vnd.excel-field")||x.includes("application/json"))return!0}}catch(v){console.debug("Excel drag detection failed",v)}return!1};oe.useEffect(()=>{o&&h.current&&(window.clearTimeout(h.current),h.current=null)},[o]);const j=A=>{const{detail:k}=A;k!=null&&k.forceSide&&(u(k.forceSide),H(),U(6))},B=A=>{A&&A.addEventListener("search:layout-update",j)},z=()=>{var D;let A=null;const k=(D=P.current)==null?void 0:D.querySelector(":scope > .tree-node"),v=k==null?void 0:k.querySelector(".node-tile");if(v){const K=v.getBoundingClientRect();A=K.left+K.width/2}const x=document.querySelector('svg[data-role="connectors"]'),w=[];x&&x.querySelectorAll('path[data-orientation="trunk"]').forEach(K=>{const N=parseFloat(K.getAttribute("data-x")||"NaN"),M=parseFloat(K.getAttribute("data-y1")||"NaN"),$=parseFloat(K.getAttribute("data-y2")||"NaN"),Y=K.getAttribute("data-parent-id")||void 0;!Number.isNaN(N)&&!Number.isNaN(M)&&!Number.isNaN($)&&w.push({x:N,y1:M,y2:$,parentId:Y})});const _=18,E=120;let R=0,O=Number.POSITIVE_INFINITY,W=Number.NEGATIVE_INFINITY;if(I.current.forEach(K=>{if(!K)return;const N=K.getBoundingClientRect();O=Math.min(O,N.top),W=Math.max(W,N.bottom)}),O<W){const K=(O+W)/2;w.forEach(({x:N,y1:M,y2:$,parentId:Y})=>{if(Y&&Y===r.id||K<M||K>$)return;const ee=Math.min(E,Math.min(120,window.innerWidth*.08)),Q=N-_,Z=N+_,le=(A??0)+R-ee,ae=(A??0)+R+ee;if(!(ae<Q||le>Z))if(A!=null&&N>=A){const ne=Math.max(0,Z-le);R-=ne}else{const ne=Math.max(0,ae-Q);R+=ne}})}const V=Math.min(200,window.innerWidth*.12);R=Math.max(-V,Math.min(V,R));const X=l??i;X==="left"&&(R=Math.min(0,R)),X==="right"&&(R=Math.max(0,R)),I.current.forEach(K=>{if(!K)return;const N=Math.min(E,Math.min(120,window.innerWidth*.08));K.style.setProperty("--child-spread",`${N.toFixed(2)}px`),K.style.setProperty("--branch-offset",`${R.toFixed(2)}px`)})},U=(A=8)=>{let k=0;const v=()=>{z(),k+=1,k<A&&requestAnimationFrame(v)};requestAnimationFrame(v)},H=()=>{var W;if(l){u(l);return}const A=P.current,k=A==null?void 0:A.dataset.forceSide;if(k){u(k),delete A.dataset.forceSide;return}const v=(W=P.current)==null?void 0:W.querySelector(":scope > .tree-node"),x=v==null?void 0:v.querySelector(".node-tile");if(!x)return;const w=x.getBoundingClientRect(),_=w.left+w.width/2,E=w.top+w.height/2,R=document.querySelector('svg[data-role="connectors"]');let O=null;if(R&&R.querySelectorAll('path[data-orientation="trunk"]').forEach(V=>{if(V.getAttribute("data-parent-id")===r.id)return;const D=parseFloat(V.getAttribute("data-x")||"NaN"),K=parseFloat(V.getAttribute("data-y1")||"NaN"),N=parseFloat(V.getAttribute("data-y2")||"NaN");Number.isNaN(D)||Number.isNaN(K)||Number.isNaN(N)||E<K||E>N||(O==null||Math.abs(D-_)<Math.abs(O-_))&&(O=D)}),O!=null)u(_<O?"left":"right");else{const D=384+(window.innerWidth-384)/2;u(_<D?"left":"right")}};return F.jsxs("li",{ref:P,className:`tree-li ${e?"root":""}`,role:e?"treeitem":"none","aria-expanded":y?o:void 0,children:[F.jsxs("div",{className:"tree-node","data-depth":t,children:[F.jsx("div",{className:"node-row",style:p,children:F.jsxs("div",{ref:B,className:`node-tile ${c?"active":""}`,role:"button",tabIndex:0,onDragEnter:A=>{if(L(A)){g.current+=1,d(!0),y&&!o&&!h.current&&(h.current=window.setTimeout(()=>{s(!0),H(),U(6)},500));return}},onDragOver:A=>{if(L(A)){y?(A.preventDefault(),A.dataTransfer.dropEffect="copy",!o&&!h.current&&(h.current=window.setTimeout(()=>{s(!0),H(),U(6)},500))):(A.preventDefault(),A.dataTransfer.dropEffect="copy"),d(!0);return}A.preventDefault()},onDrop:A=>{try{const k=A.dataTransfer.getData("application/json");if(!k)return;const v=JSON.parse(k);if((v==null?void 0:v.kind)==="excelField")if(!y)window.dispatchEvent(new CustomEvent("excel:drop-on-node",{detail:{targetNode:r,field:v.field}}));else{const x=`${r.name} אינו שדה בתקן אלא היררכיה, אפשר להכניס שדות מהאקסל רק לשדות בתקן בעלי סממן ⓘ מעל הקובייה.`;window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:x,type:"error",durationMs:5e3}}))}}catch{}d(!1),g.current=0,h.current&&(window.clearTimeout(h.current),h.current=null)},onDragLeave:()=>{g.current=Math.max(0,g.current-1),g.current===0&&(d(!1),h.current&&(window.clearTimeout(h.current),h.current=null))},onClick:()=>{var A;if(y){const k=((A=P.current)==null?void 0:A.dataset.forceSide)!==void 0;s(v=>{const x=k?!0:!v;return x&&(H(),U(6),k&&P.current&&delete P.current.dataset.forceSide),x})}else a(k=>!k)},onContextMenu:A=>{A.preventDefault(),a(k=>!k)},onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&a(k=>!k)},style:S,"data-node-id":r.id,"data-dragover":f?"1":"0","data-mapped":r.excelMeta&&Object.keys(r.excelMeta).length>0?"1":"0","data-all-mandatory-mapped":m?"1":"0","data-required":r.requiredState||void 0,children:[F.jsx("div",{className:"node-indicator",role:"button",tabIndex:0,"aria-label":y?o?"Collapse":"Expand":"No children",onClick:A=>{var k;if(A.stopPropagation(),y){const v=((k=P.current)==null?void 0:k.dataset.forceSide)!==void 0;s(x=>{const w=v?!0:!x;return w&&(H(),U(6),v&&P.current&&delete P.current.dataset.forceSide),w})}else a(v=>!v)},onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&(A.stopPropagation(),A.preventDefault(),A.currentTarget.click())},"data-openable":y?"1":"0","data-dir":y?i==="left"?"left":"right":"none","data-open":o?"1":"0"}),F.jsx("div",{className:"node-name",children:r.name}),F.jsx("div",{className:`node-type under t-${r.type}`,children:r.type})]})}),F.jsx("div",{className:`desc-panel ${c?"open":""}`,"data-node-id":`${r.id}-desc`,children:F.jsxs("div",{className:"desc-content",children:[F.jsx("div",{className:"desc-title",children:"Description"}),F.jsx("div",{className:"desc-text",children:r.description||"No description available."}),r.rules&&r.rules.length>0&&F.jsxs("div",{className:"desc-preview",children:[F.jsx("span",{className:"label",children:"Rules:"}),F.jsx("div",{style:{display:"grid",gap:4},children:r.rules.map((A,k)=>F.jsx("code",{children:A},k))})]}),r.valuePreview&&F.jsxs("div",{className:"desc-preview",children:[F.jsx("span",{className:"label",children:"Preview"}),F.jsx("code",{children:r.valuePreview})]})]})})]}),y&&!e&&F.jsx("div",{className:`binary-children ${o?"open":""}`,"data-parent-id":r.id,style:{overflow:o?"visible":void 0,transform:`translateX(${(l??i)==="left"?"-140px":"140px"})`},children:C.map((A,k)=>F.jsxs("div",{className:"branch-row",ref:v=>I.current[k]=v,style:{zIndex:10+k},children:[A.left?F.jsx("div",{className:"branch-cell left",children:F.jsx(qs,{node:A.left,depth:t+1,forcePreferredSide:i})},A.left.id):F.jsx("div",{className:"branch-cell placeholder"}),A.right?F.jsx("div",{className:"branch-cell right",children:F.jsx(qs,{node:A.right,depth:t+1,forcePreferredSide:i})},A.right.id):F.jsx("div",{className:"branch-cell placeholder"})]},k))}),y&&e&&F.jsxs("div",{className:"root-split",children:[F.jsx("div",{className:"root-col left",children:F.jsx("div",{className:`binary-children ${o?"open":""}`,"data-parent-id":r.id,style:{overflow:o?"visible":void 0},children:(r.children??[]).filter((A,k)=>k%2===0).map((A,k)=>F.jsxs("div",{className:"branch-row",ref:v=>I.current[I.current.length]=v,style:{zIndex:10+k},children:[F.jsx("div",{className:"branch-cell left",children:F.jsx(qs,{node:A,depth:t+1,forcePreferredSide:"left"})}),F.jsx("div",{className:"branch-cell placeholder"})]},`L-${A.id}-${k}`))})}),F.jsx("div",{className:"root-col right",children:F.jsx("div",{className:`binary-children ${o?"open":""}`,"data-parent-id":r.id,style:{overflow:o?"visible":void 0},children:(r.children??[]).filter((A,k)=>k%2===1).map((A,k)=>F.jsxs("div",{className:"branch-row",ref:v=>I.current[I.current.length]=v,style:{zIndex:10+k},children:[F.jsx("div",{className:"branch-cell placeholder"}),F.jsx("div",{className:"branch-cell right",children:F.jsx(qs,{node:A,depth:t+1,forcePreferredSide:"right"})})]},`R-${A.id}-${k}`))})})]})]})}function fv({root:r}){const t=r.children&&r.children.length>0;return F.jsxs("div",{className:"tree-view",children:[F.jsx("div",{className:"tree-canvas",children:F.jsx("ul",{className:"tree-root",role:"tree",children:F.jsx(qs,{node:r,depth:0,isRoot:!0,defaultOpenChildren:!0})})}),t?null:F.jsx("div",{className:"placeholder",children:"No nested fields"})]})}function pv({containerRef:r}){const[t,e]=oe.useState(new Map),n=oe.useRef(null),l=oe.useRef(null),o=oe.useRef(0),s=()=>{if(!r.current)return;const a=new Map,i=r.current;i.querySelectorAll(".node-tile[data-node-id]").forEach(f=>{const d=f.getAttribute("data-node-id");if(!d)return;const h=f.getBoundingClientRect(),g=i.getBoundingClientRect(),p=window.getComputedStyle(i).transform;let b=1,m=1;if(p&&p!=="none"){const A=p.match(/matrix\(([^)]+)\)/);if(A){const[k,v,x,w]=A[1].split(",").map(_=>parseFloat(_.trim()));b=Math.sqrt(k*k+v*v)||1,m=Math.sqrt(x*x+w*w)||1}}const S=f.closest(".tree-node"),C=S==null?void 0:S.closest(".branch-cell"),I=C==null?void 0:C.closest(".branch-row"),P=I==null?void 0:I.closest(".binary-children"),L=P==null?void 0:P.closest(".tree-li"),j=L==null?void 0:L.querySelector(".node-tile[data-node-id]"),B=j==null?void 0:j.getAttribute("data-node-id");let z=!0,U=f;for(;U&&U!==i;){if(U.classList&&U.classList.contains("binary-children")&&!U.classList.contains("open")){z=!1;break}U=U.parentElement}const H=(h.left-g.left)/b+h.width/2/b,T=(h.top-g.top)/m+h.height/m;a.set(d,{id:d,parentId:B??void 0,x:H,y:T,width:h.width/b,height:h.height/m,isVisible:z})}),e(a)};oe.useEffect(()=>{const a=(y=400)=>{const p=performance.now()+y;if(o.current=Math.max(o.current,p),l.current==null){const b=()=>{l.current=null,s(),performance.now()<o.current&&(l.current=requestAnimationFrame(b))};l.current=requestAnimationFrame(b)}};s(),a(300);const i=new MutationObserver(()=>a(500));r.current&&i.observe(r.current,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]});const u=new ResizeObserver(()=>a(200));r.current&&u.observe(r.current);const f=()=>{a(120)};window.addEventListener("scroll",f),window.addEventListener("resize",f);const d=()=>a(400),h=r.current;h==null||h.addEventListener("transitionrun",d,!0),h==null||h.addEventListener("transitionend",d,!0),h==null||h.addEventListener("animationstart",d,!0),h==null||h.addEventListener("animationend",d,!0);const g=new MutationObserver(()=>a(200));return r.current&&g.observe(r.current,{attributes:!0,attributeFilter:["style"]}),()=>{i.disconnect(),u.disconnect(),g.disconnect(),window.removeEventListener("scroll",f),window.removeEventListener("resize",f);const y=h;y&&(y.removeEventListener("transitionrun",d,!0),y.removeEventListener("transitionend",d,!0),y.removeEventListener("animationstart",d,!0),y.removeEventListener("animationend",d,!0)),l.current!=null&&cancelAnimationFrame(l.current),l.current=null,o.current=0}},[r]);const c=()=>{const a=[],i=new Map;return t.forEach(u=>{if(!u.parentId||!u.isVisible)return;const f=t.get(u.parentId);if(!f||!f.isVisible||Number.isNaN(f.x)||Number.isNaN(f.y)||Number.isNaN(u.x)||Number.isNaN(u.y)||Number.isNaN(u.height)||Number.isNaN(u.width))return;const d=i.get(u.parentId)??[];d.push(u),i.set(u.parentId,d)}),i.forEach((u,f)=>{const d=t.get(f);if(!d)return;const h=new Map;u.forEach(y=>{const p=y.y-y.height/2,b=String(Math.round(p)),m=h.get(b);m?(m.items.push(y),m.y=(m.y*(m.items.length-1)+p)/m.items.length):h.set(b,{y:p,items:[y]})});const g=Array.from(h.values()).sort((y,p)=>y.y-p.y);if(g.length>0){const y=d.x,p=d.y,b=g[g.length-1].y;a.push(F.jsx("path",{d:`M ${y.toFixed(2)} ${p.toFixed(2)} L ${y.toFixed(2)} ${b.toFixed(2)}`,stroke:"rgba(124,192,255,0.8)",strokeWidth:2,strokeDasharray:"6 6",fill:"none",strokeLinecap:"butt",strokeLinejoin:"round","data-orientation":"trunk","data-parent-id":d.id,"data-x":y.toFixed(2),"data-y1":p.toFixed(2),"data-y2":b.toFixed(2)},`trunk-${d.id}`)),g.forEach(({y:m,items:S})=>{S.forEach(C=>{const I=C.x,L=I<y?I+C.width/2:I-C.width/2;a.push(F.jsx("path",{d:`M ${y.toFixed(2)} ${m.toFixed(2)} L ${L.toFixed(2)} ${m.toFixed(2)}`,stroke:"rgba(124,192,255,0.8)",strokeWidth:2,strokeDasharray:"6 6",fill:"none",strokeLinecap:"butt",strokeLinejoin:"round","data-orientation":"branch","data-y":m.toFixed(2)},`branch-${d.id}-${C.id}`))})})}}),a};return r.current?F.jsx("svg",{ref:n,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:100,overflow:"visible"},"data-role":"connectors",children:c()}):null}function ua(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x0={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,l,o){function s(i,u){if(!l[i]){if(!n[i]){var f=typeof ua=="function"&&ua;if(!u&&f)return f(i,!0);if(c)return c(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var h=l[i]={exports:{}};n[i][0].call(h.exports,function(g){return s(n[i][1][g]||g)},h,h.exports,e,n,l,o)}return l[i].exports}for(var c=typeof ua=="function"&&ua,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,n,l){const o=e("fs"),s=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),a=e("dayjs/plugin/utc"),i=e("dayjs").extend(c).extend(a),u=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await f(h))throw new Error("File not found: "+h);const y=o.createReadStream(h),p=await this.read(y,g);return y.close(),p}read(h,g){return g=g||{},new Promise((y,p)=>{const b=this.workbook.addWorksheet(g.sheetName),m=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],S=g.map||function(I){if(I==="")return null;const P=Number(I);if(!Number.isNaN(P)&&P!==1/0)return P;const L=m.reduce((B,z)=>{if(B)return B;const U=i(I,z,!0);return U.isValid()?U:null},null);if(L)return new Date(L.valueOf());const j=d[I];return j!==void 0?j:I},C=s.parse(g.parserOptions).on("data",I=>{b.addRow(I.map(S))}).on("end",()=>{C.emit("worksheet",b)});C.on("worksheet",y).on("error",p),h.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((y,p)=>{g=g||{};const b=this.workbook.getWorksheet(g.sheetName||g.sheetId),m=s.format(g.formatterOptions);h.on("finish",()=>{y()}),m.on("error",p),m.pipe(h);const{dateFormat:S,dateUTC:C}=g,I=g.map||(j=>{if(j){if(j.text||j.hyperlink)return j.hyperlink||j.text||"";if(j.formula||j.result)return j.result||"";if(j instanceof Date)return S?C?i.utc(j).format(S):i(j).format(S):C?i.utc(j).format():i(j).format();if(j.error)return j.error;if(typeof j=="object")return JSON.stringify(j)}return j}),P=g.includeEmptyRows===void 0||g.includeEmptyRows;let L=1;b&&b.eachRow((j,B)=>{if(P)for(;L++<B-1;)m.write([]);const{values:z}=j;z.shift(),m.write(z.map(I)),L=B}),m.end()})}writeFile(h,g){const y={encoding:(g=g||{}).encoding||"utf8"},p=o.createWriteStream(h,y);return this.write(p,g)}async writeBuffer(h){const g=new u;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,l){const o=e("../utils/col-cache");class s{constructor(a,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=a,i)if(typeof i=="string"){const f=o.decodeAddress(i);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else i.nativeCol!==void 0?(this.nativeCol=i.nativeCol||0,this.nativeColOff=i.nativeColOff||0,this.nativeRow=i.nativeRow||0,this.nativeRowOff=i.nativeRowOff||0):i.col!==void 0?(this.col=i.col+u,this.row=i.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(a){return a instanceof s||a==null?a:new s(a)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(a){this.nativeCol=Math.floor(a),this.nativeColOff=Math.floor((a-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(a){this.nativeRow=Math.floor(a),this.nativeRowOff=Math.floor((a-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(a){this.nativeCol=a.nativeCol,this.nativeColOff=a.nativeColOff,this.nativeRow=a.nativeRow,this.nativeRowOff=a.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(e,n,l){const o=e("../utils/col-cache"),s=e("../utils/under-dash"),c=e("./enums"),{slideFormula:a}=e("../utils/shared-formula"),i=e("./note");class u{constructor(h,g,y){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,o.validateAddress(y),this._address=y,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,y){const p=h&&h.numFmt||g&&g.numFmt;p&&(y.numFmt=p);const b=h&&h.font||g&&g.font;b&&(y.font=b);const m=h&&h.alignment||g&&g.alignment;m&&(y.alignment=m);const S=h&&h.border||g&&g.border;S&&(y.border=S);const C=h&&h.fill||g&&g.fill;C&&(y.fill=C);const I=h&&h.protection||g&&g.protection;return I&&(y.protection=I),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(h,g){this._value.release(),this._value=f.create(u.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===u.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new i(h)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=f.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=i.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}u.Types=c.ValueType;const f={getType:d=>d==null?u.Types.Null:d instanceof String||typeof d=="string"?u.Types.String:typeof d=="number"?u.Types.Number:typeof d=="boolean"?u.Types.Boolean:d instanceof Date?u.Types.Date:d.text&&d.hyperlink?u.Types.Hyperlink:d.formula||d.sharedFormula?u.Types.Formula:d.richText?u.Types.RichText:d.sharedString?u.Types.SharedString:d.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(d){this.model={address:d.address,type:u.Types.Null}}get value(){return null}set value(d){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:u.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){const h={},g=y=>{const p=d[y];p&&(h[y]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(f.getType(d)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return u.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?c.ValueType.Null:d instanceof String||typeof d=="string"?c.ValueType.String:typeof d=="number"?c.ValueType.Number:d instanceof Date?c.ValueType.Date:d.text&&d.hyperlink?c.ValueType.Hyperlink:d.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&a(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof u?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,g){const y=this.types[d];if(!y)throw new Error("Could not create Value of type "+d);return new y(h,g)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,l){const o=e("../utils/under-dash"),s=e("./enums"),c=e("../utils/col-cache");class a{constructor(u,f,d){this._worksheet=u,this._number=f,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,d)=>{this._worksheet.getCell(d+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&o.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const d=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(h,g)=>{f(h.getCell(d),g)})}get values(){const u=[];return this.eachCell((f,d)=>{f&&f.type!==s.ValueType.Null&&(u[d]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((h,g)=>{this._worksheet.getCell(g+d,f).value=h})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(d=>{d[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let d=null;return u&&u.forEach((h,g)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},f.push(d))}),f.length?f:void 0}static fromModel(u,f){const d=[];let h=1,g=0;for(f=(f=f||[]).sort(function(y,p){return y.min-p.min});g<f.length;){const y=f[g++];for(;h<y.min;)d.push(new a(u,h++));for(;h<=y.max;)d.push(new a(u,h++,y))}return d.length?d:null}}n.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,l){n.exports=class{constructor(o){this.model=o||{}}add(o,s){return this.model[o]=s}find(o){return this.model[o]}remove(o){this.model[o]=void 0}}},{}],6:[function(e,n,l){const o=e("../utils/under-dash"),s=e("../utils/col-cache"),c=e("../utils/cell-matrix"),a=e("./range"),i=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new c)}add(u,f){const d=s.decodeEx(u);this.addEx(d,f)}addEx(u,f){const d=this.getMatrix(f);if(u.top)for(let h=u.left;h<=u.right;h++)for(let g=u.top;g<=u.bottom;g++){const y={sheetName:u.sheetName,address:s.n2l(h)+g,row:g,col:h};d.addCellEx(y)}else d.addCellEx(u)}remove(u,f){const d=s.decodeEx(u);this.removeEx(d,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){o.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){o.each(this.matrixMap,(f,d)=>{f.forEach(h=>{u(d,h)})})}getNames(u){return this.getNamesEx(s.decodeEx(u))}getNamesEx(u){return o.map(this.matrixMap,(f,d)=>f.findCellEx(u)&&d).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:d}=f,h=new a(f.row,f.col,f.row,f.col,d);let g,y;function p(m,S){const C=u.findCellAt(d,m,f.col);return!(!C||!C.mark)&&(h[S]=m,C.mark=!1,!0)}for(y=f.row-1;p(y,"top");y--);for(y=f.row+1;p(y,"bottom");y++);function b(m,S){const C=[];for(y=h.top;y<=h.bottom;y++){const I=u.findCellAt(d,y,m);if(!I||!I.mark)return!1;C.push(I)}h[S]=m;for(let I=0;I<C.length;I++)C[I].mark=!1;return!0}for(g=f.col-1;b(g,"left");g--);for(g=f.col+1;b(g,"right");g++);return h}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(d=>{d.mark=!0}),{name:u,ranges:f.map(d=>d.mark&&this._explore(f,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(d,h,g)=>{d&&(d.row===h&&d.col===g||(d.row=h,d.col=g,d.address=s.n2l(g)+h))})}spliceRows(u,f,d,h){o.each(this.matrixMap,g=>{g.spliceRows(u,f,d,h),this.normaliseMatrix(g,u)})}spliceColumns(u,f,d,h){o.each(this.matrixMap,g=>{g.spliceColumns(u,f,d,h),this.normaliseMatrix(g,u)})}get model(){return o.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(d=>{const h=f[d.name]=new c;d.ranges.forEach(g=>{i.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,l){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,l){const o=e("../utils/col-cache"),s=e("./anchor");n.exports=class{constructor(c,a){this.worksheet=c,this.model=a}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:a,imageId:i,range:u,hyperlinks:f}=c;if(this.type=a,this.imageId=i,a==="image")if(typeof u=="string"){const d=o.decode(u);this.range={tl:new s(this.worksheet,{col:d.left,row:d.top},-1),br:new s(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,u.tl,0),br:u.br&&new s(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,l){const o=e("../utils/under-dash");class s{constructor(a){this.note=a}get model(){let a=null;switch(typeof this.note){case"string":a={type:"note",note:{texts:[{text:this.note}]}};break;default:a={type:"note",note:this.note}}return o.deepMerge({},s.DEFAULT_CONFIGS,a)}set model(a){const{note:i}=a,{texts:u}=i;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=i}static fromModel(a){const i=new s;return i.model=a,i}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(e,n,l){const o=e("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(a,i,u,f,d){if(arguments.length<4){const h=o.decodeAddress(a),g=o.decodeAddress(i);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:u},this.setTLBR(h.row,h.col,g.row,g.col,d)}else this.model={top:Math.min(a,u),left:Math.min(i,f),bottom:Math.max(a,u),right:Math.max(i,f),sheetName:d}}decode(a){switch(a.length){case 5:this.setTLBR(a[0],a[1],a[2],a[3],a[4]);break;case 4:this.setTLBR(a[0],a[1],a[2],a[3]);break;case 3:this.setTLBR(a[0],a[1],a[2]);break;case 2:this.setTLBR(a[0],a[1]);break;case 1:{const i=a[0];if(i instanceof s)this.model={top:i.model.top,left:i.model.left,bottom:i.model.bottom,right:i.model.right,sheetName:i.sheetName};else if(i instanceof Array)this.decode(i);else if(i.top&&i.left&&i.bottom&&i.right)this.model={top:i.top,left:i.left,bottom:i.bottom,right:i.right,sheetName:i.sheetName};else{const u=o.decodeEx(i);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+a.length)}}get top(){return this.model.top||1}set top(a){this.model.top=a}get left(){return this.model.left||1}set left(a){this.model.left=a}get bottom(){return this.model.bottom||1}set bottom(a){this.model.bottom=a}get right(){return this.model.right||1}set right(a){this.model.right=a}get sheetName(){return this.model.sheetName}set sheetName(a){this.model.sheetName=a}get _serialisedSheetName(){const{sheetName:a}=this.model;return a?/^[a-zA-Z0-9]*$/.test(a)?a+"!":`'${a}'!`:""}expand(a,i,u,f){(!this.model.top||a<this.top)&&(this.top=a),(!this.model.left||i<this.left)&&(this.left=i),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(a){if(a){const{dimensions:i,number:u}=a;i&&this.expand(u,i.min,u,i.max)}}expandToAddress(a){const i=o.decodeEx(a);this.expand(i.row,i.col,i.row,i.col)}get tl(){return o.n2l(this.left)+this.top}get $t$l(){return`$${o.n2l(this.left)}$${this.top}`}get br(){return o.n2l(this.right)+this.bottom}get $b$r(){return`$${o.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&!(a.bottom<this.top)&&!(a.top>this.bottom)&&!(a.right<this.left)&&!(a.left>this.right)}contains(a){const i=o.decodeEx(a);return this.containsEx(i)}containsEx(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&a.row>=this.top&&a.row<=this.bottom&&a.col>=this.left&&a.col<=this.right}forEachAddress(a){for(let i=this.left;i<=this.right;i++)for(let u=this.top;u<=this.bottom;u++)a(o.encodeAddress(u,i),u,i)}}n.exports=s},{"../utils/col-cache":19}],11:[function(e,n,l){const o=e("../utils/under-dash"),s=e("./enums"),c=e("../utils/col-cache"),a=e("./cell");n.exports=class{constructor(i,u){this._worksheet=i,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(i){return this._cells[i-1]}getCellEx(i){let u=this._cells[i.col-1];if(!u){const f=this._worksheet.getColumn(i.col);u=new a(this,f,i.address),this._cells[i.col-1]=u}return u}getCell(i){if(typeof i=="string"){const u=this._worksheet.getColumnKey(i);i=u?u.number:c.l2n(i)}return this._cells[i-1]||this.getCellEx({address:c.encodeAddress(this._number,i),row:this._number,col:i})}splice(i,u){const f=i+u;for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];const y=h.length-u,p=this._cells.length;let b,m,S;if(y<0)for(b=i+h.length;b<=p;b++)S=this._cells[b-1],m=this._cells[b-y-1],m?(S=this.getCell(b),S.value=m.value,S.style=m.style,S._comment=m._comment):S&&(S.value=null,S.style={},S._comment=void 0);else if(y>0)for(b=p;b>=f;b--)m=this._cells[b-1],m?(S=this.getCell(b+y),S.value=m.value,S.style=m.style,S._comment=m._comment):this._cells[b+y-1]=void 0;for(b=0;b<h.length;b++)S=this.getCell(i+b),S.value=h[b],S.style={},S._comment=void 0}eachCell(i,u){if(u||(u=i,i=null),i&&i.includeEmpty){const f=this._cells.length;for(let d=1;d<=f;d++)u(this.getCell(d),d)}else this._cells.forEach((f,d)=>{f&&f.type!==s.ValueType.Null&&u(f,d+1)})}addPageBreak(i,u){const f=this._worksheet,d=Math.max(0,i-1)||0,h=Math.max(0,u-1)||16838,g={id:this._number,max:h,man:1};d&&(g.min=d),f.rowBreaks.push(g)}get values(){const i=[];return this._cells.forEach(u=>{u&&u.type!==s.ValueType.Null&&(i[u.col]=u.value)}),i}set values(i){if(this._cells=[],i)if(i instanceof Array){let u=0;i.hasOwnProperty("0")&&(u=1),i.forEach((f,d)=>{f!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d+u),row:this._number,col:d+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{i[f]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=i[f])})}get hasValues(){return o.some(this._cells,i=>i&&i.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let i=0;return this.eachCell(()=>{i++}),i}get dimensions(){let i=0,u=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!i||i>f.col)&&(i=f.col),u<f.col&&(u=f.col))}),i>0?{min:i,max:u}:null}_applyStyle(i,u){return this.style[i]=u,this._cells.forEach(f=>{f&&(f[i]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(i){this._applyStyle("numFmt",i)}get font(){return this.style.font}set font(i){this._applyStyle("font",i)}get alignment(){return this.style.alignment}set alignment(i){this._applyStyle("alignment",i)}get protection(){return this.style.protection}set protection(i){this._applyStyle("protection",i)}get border(){return this.style.border}set border(i){this._applyStyle("border",i)}get fill(){return this.style.fill}set fill(i){this._applyStyle("fill",i)}get hidden(){return!!this._hidden}set hidden(i){this._hidden=i}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(i){this._outlineLevel=i}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const i=[];let u=0,f=0;return this._cells.forEach(d=>{if(d){const h=d.model;h&&((!u||u>d.col)&&(u=d.col),f<d.col&&(f=d.col),i.push(h))}}),this.height||i.length?{cells:i,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(i){if(i.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],i.cells.forEach(f=>{switch(f.type){case a.Types.Merge:break;default:{let d;if(f.address)d=c.decodeAddress(f.address);else if(u){const{row:h}=u,g=u.col+1;d={row:h,col:g,address:c.encodeAddress(h,g),$col$row:`$${c.n2l(g)}$${h}`}}u=d,this.getCellEx(d).model=f;break}}}),i.height?this.height=i.height:delete this.height,this.hidden=i.hidden,this.outlineLevel=i.outlineLevel||0,this.style=i.style&&JSON.parse(JSON.stringify(i.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,l){const o=e("../utils/col-cache");class s{constructor(a,i,u){this.table=a,this.column=i,this.index=u}_set(a,i){this.table.cacheState(),this.column[a]=i}get name(){return this.column.name}set name(a){this._set("name",a)}get filterButton(){return this.column.filterButton}set filterButton(a){this.column.filterButton=a}get style(){return this.column.style}set style(a){this.column.style=a}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(a){this._set("totalsRowLabel",a)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(a){this._set("totalsRowFunction",a)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(a){this._set("totalsRowResult",a)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(a){this._set("totalsRowFormula",a)}}n.exports=class{constructor(c,a){this.worksheet=c,a&&(this.table=a,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,a=(y,p,b)=>{y[p]===void 0&&(y[p]=b)};a(c,"headerRow",!0),a(c,"totalsRow",!1),a(c,"style",{}),a(c.style,"theme","TableStyleMedium2"),a(c.style,"showFirstColumn",!1),a(c.style,"showLastColumn",!1),a(c.style,"showRowStripes",!1),a(c.style,"showColumnStripes",!1);const i=(y,p)=>{if(!y)throw new Error(p)};i(c.ref,"Table must have ref"),i(c.columns,"Table must have column definitions"),i(c.rows,"Table must have row definitions"),c.tl=o.decodeAddress(c.ref);const{row:u,col:f}=c.tl;i(u>0,"Table must be on valid row"),i(f>0,"Table must be on valid col");const{width:d,filterHeight:h,tableHeight:g}=this;c.autoFilterRef=o.encode(u,f,u+h-1,f+d-1),c.tableRef=o.encode(u,f,u+g-1,f+d-1),c.columns.forEach((y,p)=>{i(y.name,`Column ${p} must have a name`),p===0?a(y,"totalsRowLabel","Total"):(a(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const c=(h,g)=>{g&&Object.keys(g).forEach(y=>{h[y]=g[y]})},{worksheet:a,table:i}=this,{row:u,col:f}=i.tl;let d=0;if(i.headerRow){const h=a.getRow(u+d++);i.columns.forEach((g,y)=>{const{style:p,name:b}=g,m=h.getCell(f+y);m.value=b,c(m,p)})}if(i.rows.forEach(h=>{const g=a.getRow(u+d++);h.forEach((y,p)=>{const b=g.getCell(f+p);b.value=y,c(b,i.columns[p].style)})}),i.totalsRow){const h=a.getRow(u+d++);i.columns.forEach((g,y)=>{const p=h.getCell(f+y);if(y===0)p.value=g.totalsRowLabel;else{const b=this.getFormula(g);p.value=b?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(p,g.style)})}}load(c){const{table:a}=this,{row:i,col:u}=a.tl;let f=0;if(a.headerRow){const d=c.getRow(i+f++);a.columns.forEach((h,g)=>{d.getCell(u+g).value=h.name})}if(a.rows.forEach(d=>{const h=c.getRow(i+f++);d.forEach((g,y)=>{h.getCell(u+y).value=g})}),a.totalsRow){const d=c.getRow(i+f++);a.columns.forEach((h,g)=>{const y=d.getCell(u+g);g===0?y.value=h.totalsRowLabel:this.getFormula(h)&&(y.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=o.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let a=0;a<this._cache.tableHeight;a++){const i=this.worksheet.getRow(c.row+a);for(let u=0;u<this._cache.width;u++)i.getCell(c.col+u).value=null}else{for(let a=this.tableHeight;a<this._cache.tableHeight;a++){const i=this.worksheet.getRow(c.row+a);for(let u=0;u<this._cache.width;u++)i.getCell(c.col+u).value=null}for(let a=0;a<this.tableHeight;a++){const i=this.worksheet.getRow(c.row+a);for(let u=this.width;u<this._cache.width;u++)i.getCell(c.col+u).value=null}}this.store()}addRow(c,a){this.cacheState(),a===void 0?this.table.rows.push(c):this.table.rows.splice(a,0,c)}removeRows(c){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,a)}getColumn(c){const a=this.table.columns[c];return new s(this,a,c)}addColumn(c,a,i){this.cacheState(),i===void 0?(this.table.columns.push(c),this.table.rows.forEach((u,f)=>{u.push(a[f])})):(this.table.columns.splice(i,0,c),this.table.rows.forEach((u,f)=>{u.splice(i,0,a[f])}))}removeColumns(c){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,a),this.table.rows.forEach(i=>{i.splice(c,a)})}_assign(c,a,i){this.cacheState(),c[a]=i}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,n,l){const o=e("./worksheet"),s=e("./defined-names"),c=e("../xlsx/xlsx"),a=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new a(this)),this._csv}get nextId(){for(let i=1;i<this._worksheets.length;i++)if(!this._worksheets[i])return i;return this._worksheets.length||1}addWorksheet(i,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const d=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),h=Object.assign({},u,{id:f,name:i,orderNo:d+1,workbook:this}),g=new o(h);return this._worksheets[f]=g,g}removeWorksheetEx(i){delete this._worksheets[i.id]}removeWorksheet(i){const u=this.getWorksheet(i);u&&u.destroy()}getWorksheet(i){return i===void 0?this._worksheets.find(Boolean):typeof i=="number"?this._worksheets[i]:typeof i=="string"?this._worksheets.find(u=>u&&u.name===i):void 0}get worksheets(){return this._worksheets.slice(1).sort((i,u)=>i.orderNo-u.orderNo).filter(Boolean)}eachSheet(i){this.worksheets.forEach(u=>{i(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(i){const u=this.media.length;return this.media.push(Object.assign({},i,{type:"image"})),u}getImage(i){return this.media[i]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(i=>i.model),sheets:this.worksheets.map(i=>i.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(i){this.creator=i.creator,this.lastModifiedBy=i.lastModifiedBy,this.lastPrinted=i.lastPrinted,this.created=i.created,this.modified=i.modified,this.company=i.company,this.manager=i.manager,this.title=i.title,this.subject=i.subject,this.keywords=i.keywords,this.category=i.category,this.description=i.description,this.language=i.language,this.revision=i.revision,this.contentStatus=i.contentStatus,this.properties=i.properties,this.calcProperties=i.calcProperties,this._worksheets=[],i.worksheets.forEach(u=>{const{id:f,name:d,state:h}=u,g=i.sheets&&i.sheets.findIndex(y=>y.id===f);(this._worksheets[f]=new o({id:f,name:d,orderNo:g,state:h,workbook:this})).model=u}),this._definedNames.model=i.definedNames,this.views=i.views,this._themes=i.themes,this.media=i.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,l){const o=e("../utils/under-dash"),s=e("../utils/col-cache"),c=e("./range"),a=e("./row"),i=e("./column"),u=e("./enums"),f=e("./image"),d=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new h,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(b=>b&&b.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new c;return this._rows.forEach(b=>{if(b){const m=b.dimensions;m&&p.expand(b.number,m.min,b.number,m.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((S,C)=>{const I=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(S,I)},0);let b=1;const m=this._columns=[];p.forEach(S=>{const C=new i(this,b++,!1);m.push(C),C.defn=S})}getColumnKey(p){return this._keys[p]}setColumnKey(p,b){this._keys[p]=b}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){o.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const b=this._keys[p];if(b)return b;p=s.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let b=this._columns.length+1;for(;b<=p;)this._columns.push(new i(this,b++))}return this._columns[p-1]}spliceColumns(p,b){const m=this._rows.length;for(var S=arguments.length,C=new Array(S>2?S-2:0),I=2;I<S;I++)C[I-2]=arguments[I];if(C.length>0)for(let B=0;B<m;B++){const z=[p,b];C.forEach(H=>{z.push(H[B]||null)});const U=this.getRow(B+1);U.splice.apply(U,z)}else this._rows.forEach(B=>{B&&B.splice(p,b)});const P=C.length-b,L=p+b,j=this._columns.length;if(P<0)for(let B=p+C.length;B<=j;B++)this.getColumn(B).defn=this.getColumn(B-P).defn;else if(P>0)for(let B=j;B>=L;B--)this.getColumn(B+P).defn=this.getColumn(B).defn;for(let B=p;B<p+C.length;B++)this.getColumn(B).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,b,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(b=>{p=Math.max(p,b.cellCount)}),p}get actualColumnCount(){const p=[];let b=0;return this.eachRow(m=>{m.eachCell(S=>{let{col:C}=S;p[C]||(p[C]=!0,b++)})}),b}_commitRow(){}get _lastRowNumber(){const p=this._rows;let b=p.length;for(;b>0&&p[b-1]===void 0;)b--;return b}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,b){return this._rows.slice(p-1,p-1+b)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let b=this._rows[p-1];return b||(b=this._rows[p-1]=new a(this,p)),b}getRows(p,b){if(b<1)return;const m=[];for(let S=p;S<p+b;S++)m.push(this.getRow(S));return m}addRow(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,S=this.getRow(m);return S.values=p,this._setStyleOption(m,b[0]==="i"?b:"n"),S}addRows(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return p.forEach(S=>{m.push(this.addRow(S,b))}),m}insertRow(p,b){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,b),this._setStyleOption(p,m),this.getRow(p)}insertRows(p,b){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...b),m!=="n")for(let S=0;S<b.length;S++)m[0]==="o"&&this.findRow(b.length+p+S)!==void 0?this._copyStyle(b.length+p+S,p+S,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+S,m[1]==="+");return this.getRows(p,b.length)}_setStyleOption(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";b[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,b[1]==="+")}_copyStyle(p,b){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const S=this.getRow(p),C=this.getRow(b);C.style=y(S.style),S.eachCell({includeEmpty:m},(I,P)=>{C.getCell(P).style=y(I.style)}),C.height=S.height}duplicateRow(p,b){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const S=this._rows[p-1],C=new Array(b).fill(S.values);this.spliceRows(p+1,m?0:b,...C);for(let I=0;I<b;I++){const P=this._rows[p+I];P.style=S.style,P.height=S.height,S.eachCell({includeEmpty:!0},(L,j)=>{P.getCell(j).style=L.style})}}spliceRows(p,b){const m=p+b;for(var S=arguments.length,C=new Array(S>2?S-2:0),I=2;I<S;I++)C[I-2]=arguments[I];const P=C.length,L=P-b,j=this._rows.length;let B,z;if(L<0)for(p===j&&(this._rows[j-1]=void 0),B=m;B<=j;B++)if(z=this._rows[B-1],z){const U=this.getRow(B+L);U.values=z.values,U.style=z.style,U.height=z.height,z.eachCell({includeEmpty:!0},(H,T)=>{U.getCell(T).style=H.style}),this._rows[B-1]=void 0}else this._rows[B+L-1]=void 0;else if(L>0)for(B=j;B>=m;B--)if(z=this._rows[B-1],z){const U=this.getRow(B+L);U.values=z.values,U.style=z.style,U.height=z.height,z.eachCell({includeEmpty:!0},(H,T)=>{if(U.getCell(T).style=H.style,H._value.constructor.name==="MergeValue"){const A=this.getRow(H._row._number+P).getCell(T),k=H._value._master,v=this.getRow(k._row._number+P).getCell(k._column._number);A.merge(v)}})}else this._rows[B+L-1]=void 0;for(B=0;B<P;B++){const U=this.getRow(p+B);U.style={},U.values=C[B]}this.workbook.definedNames.spliceRows(this.name,p,b,P)}eachRow(p,b){if(b||(b=p,p=void 0),p&&p.includeEmpty){const m=this._rows.length;for(let S=1;S<=m;S++)b(this.getRow(S),S)}else this._rows.forEach(m=>{m&&m.hasValues&&b(m,m.number)})}getSheetValues(){const p=[];return this._rows.forEach(b=>{b&&(p[b.number]=b.values)}),p}findCell(p,b){const m=s.getAddress(p,b),S=this._rows[m.row-1];return S?S.findCell(m.col):void 0}getCell(p,b){const m=s.getAddress(p,b);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var p=arguments.length,b=new Array(p),m=0;m<p;m++)b[m]=arguments[m];const S=new c(b);this._mergeCellsInternal(S)}mergeCellsWithoutStyle(){for(var p=arguments.length,b=new Array(p),m=0;m<p;m++)b[m]=arguments[m];const S=new c(b);this._mergeCellsInternal(S,!0)}_mergeCellsInternal(p,b){o.each(this._merges,S=>{if(S.intersects(p))throw new Error("Cannot merge already merged cells")});const m=this.getCell(p.top,p.left);for(let S=p.top;S<=p.bottom;S++)for(let C=p.left;C<=p.right;C++)(S>p.top||C>p.left)&&this.getCell(S,C).merge(m,b);this._merges[m.address]=p}_unMergeMaster(p){const b=this._merges[p.address];if(b){for(let m=b.top;m<=b.bottom;m++)for(let S=b.left;S<=b.right;S++)this.getCell(m,S).unmerge();delete this._merges[p.address]}}get hasMerges(){return o.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,b=new Array(p),m=0;m<p;m++)b[m]=arguments[m];const S=new c(b);for(let C=S.top;C<=S.bottom;C++)for(let I=S.left;I<=S.right;I++){const P=this.findCell(C,I);P&&(P.type===u.ValueType.Merge?this._unMergeMaster(P.master):this._merges[P.address]&&this._unMergeMaster(P))}}fillFormula(p,b,m){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=s.decode(p),{top:I,left:P,bottom:L,right:j}=C,B=j-P+1,z=s.encodeAddress(I,P),U=S==="shared";let H;H=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(A,k)=>m[A-I][k-P]:(A,k)=>m[(A-I)*B+(k-P)]:()=>{};let T=!0;for(let A=I;A<=L;A++)for(let k=P;k<=j;k++)T?(this.getCell(A,k).value={shareType:S,formula:b,ref:p,result:H(A,k)},T=!1):this.getCell(A,k).value=U?{sharedFormula:z,result:H(A,k)}:H(A,k)}addImage(p,b){const m={type:"image",imageId:p,range:b};this._media.push(new f(this,m))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const b={type:"background",imageId:p};this._media.push(new f(this,b))}getBackgroundImageId(){const p=this._media.find(b=>b.type==="background");return p&&p.imageId}protect(p,b){return new Promise(m=>{this.sheetProtection={sheet:!0},b&&"spinCount"in b&&(b.spinCount=Number.isFinite(b.spinCount)?Math.round(Math.max(0,b.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=b&&"spinCount"in b?b.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),b&&(this.sheetProtection=Object.assign(this.sheetProtection,b),!p&&"spinCount"in b&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(p){const b=new d(this,p);return this.tables[p.name]=b,b}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(S=>S.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(S=>S.model),conditionalFormattings:this.conditionalFormattings};p.cols=i.toModel(this.columns);const b=p.rows=[],m=p.dimensions=new c;return this._rows.forEach(S=>{const C=S&&S.model;C&&(m.expand(C.number,C.min,C.number,C.max),b.push(C))}),p.merges=[],o.each(this._merges,S=>{p.merges.push(S.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(b=>{const m=new a(this,b.number);this._rows[m.number-1]=m,m.model=b})}_parseMergeCells(p){o.each(p.mergeCells,b=>{this.mergeCellsWithoutStyle(b)})}set model(p){this.name=p.name,this._columns=i.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new h(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(b=>new f(this,b)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((b,m)=>{const S=new d;return S.model=m,b[m.name]=S,b},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,l){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const o={Workbook:e("./doc/workbook")},s=e("./doc/enums");Object.keys(s).forEach(c=>{o[c]=s[c]}),n.exports=o},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,l){const o=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");l.bufferToString=function(s){return typeof s=="string"?s:o?o.decode(s):s.toString()}},{}],17:[function(e,n,l){const o=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=e("buffer");l.stringToBuffer=function(c){return typeof c!="string"?c:o?s.from(o.encode(c).buffer):s.from(c)}},{buffer:220}],18:[function(e,n,l){const o=e("./under-dash"),s=e("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(s.decodeEx(c))}getCell(c){return this.findCellEx(s.decodeEx(c),!0)}findCell(c){return this.findCellEx(s.decodeEx(c),!1)}findCellAt(c,a,i){const u=this.sheets[c],f=u&&u[a];return f&&f[i]}addCellEx(c){if(c.top)for(let a=c.top;a<=c.bottom;a++)for(let i=c.left;i<=c.right;i++)this.getCellAt(c.sheetName,a,i);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,a){const i=this.findSheet(c,a),u=this.findSheetRow(i,c,a);return this.findRowCell(u,c,a)}getCellAt(c,a,i){const u=this.sheets[c]||(this.sheets[c]=[]),f=u[a]||(u[a]=[]);return f[i]||(f[i]={sheetName:c,address:s.n2l(i)+a,row:a,col:i})}removeCellEx(c){const a=this.findSheet(c);if(!a)return;const i=this.findSheetRow(a,c);i&&delete i[c.col]}forEachInSheet(c,a){const i=this.sheets[c];i&&i.forEach((u,f)=>{u&&u.forEach((d,h)=>{d&&a(d,f,h)})})}forEach(c){o.each(this.sheets,(a,i)=>{this.forEachInSheet(i,c)})}map(c){const a=[];return this.forEach(i=>{a.push(c(i))}),a}findSheet(c,a){const i=c.sheetName;return this.sheets[i]?this.sheets[i]:a?this.sheets[i]=[]:void 0}findSheetRow(c,a,i){const{row:u}=a;return c&&c[u]?c[u]:i?c[u]=[]:void 0}findRowCell(c,a,i){const{col:u}=a;return c&&c[u]?c[u]:i?c[u]=this.template?Object.assign(a,JSON.parse(JSON.stringify(this.template))):a:void 0}spliceRows(c,a,i,u){const f=this.sheets[c];if(f){const d=[];for(let h=0;h<u;h++)d.push([]);f.splice(a,i,...d)}}spliceColumns(c,a,i,u){const f=this.sheets[c];if(f){const d=[];for(let h=0;h<u;h++)d.push(null);o.each(f,h=>{h.splice(a,i,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,l){const o=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let a,i,u,f,d,h=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;h<=26;)a=this._dictionary[h-1],this._n2l[h]=a,this._l2n[a]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(h=27;h<=702;)i=h-27,u=i%26,f=Math.floor(i/26),a=this._dictionary[f]+this._dictionary[u],this._n2l[h]=a,this._l2n[a]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(h=703;h<=16384;)i=h-703,u=i%26,f=Math.floor(i/26)%26,d=Math.floor(i/676),a=this._dictionary[d]+this._dictionary[f]+this._dictionary[u],this._n2l[h]=a,this._l2n[a]=h,h++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!o.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const a=c.length<5&&this._hash[c];if(a)return a;let i=!1,u="",f=0,d=!1,h="",g=0;for(let p,b=0;b<c.length;b++)if(p=c.charCodeAt(b),!d&&p>=65&&p<=90)i=!0,u+=c[b],f=26*f+p-64;else if(p>=48&&p<=57)d=!0,h+=c[b],g=10*g+p-48;else if(d&&i&&p!==36)break;if(i){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;d||(g=void 0);const y={address:c=u+h,col:f,row:g,$col$row:`$${u}$${h}`};return f<=100&&g<=100&&(this._hash[c]=y,this._hash[y.$col$row]=y),y},getAddress(c,a){if(a){const i=this.n2l(a)+c;return this.decodeAddress(i)}return this.decodeAddress(c)},decode(c){const a=c.split(":");if(a.length===2){const i=this.decodeAddress(a[0]),u=this.decodeAddress(a[1]),f={top:Math.min(i.row,u.row),left:Math.min(i.col,u.col),bottom:Math.max(i.row,u.row),right:Math.max(i.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(c)},decodeEx(c){const a=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),i=a[1]||a[2],u=a[3],f=u.split(":");if(f.length>1){let h=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const y=Math.min(h.row,g.row),p=Math.min(h.col,g.col),b=Math.max(h.row,g.row),m=Math.max(h.col,g.col);return h=this.n2l(p)+y,g=this.n2l(m)+b,{top:y,left:p,bottom:b,right:m,sheetName:i,tl:{address:h,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:i},br:{address:g,col:m,row:b,$col$row:`$${this.n2l(m)}$${b}`,sheetName:i},dimensions:`${h}:${g}`}}if(u.startsWith("#"))return i?{sheetName:i,error:u}:{error:u};const d=this.decodeAddress(u);return i?{sheetName:i,...d}:d},encodeAddress:(c,a)=>s.n2l(a)+c,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,a){const[i,u,,f,d]=c,[h,g]=a;return h>=i&&h<=f&&g>=u&&g<=d}};n.exports=s},{}],20:[function(e,n,l){const o=(c,a)=>({...c,...a.reduce((i,u)=>(c[u]&&(i[u]={...c[u]}),i),{})}),s=function(c,a,i){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[i]&&(a[i]=o(c[i],u))};l.copyStyle=c=>{if(!c)return c;if(a=c,Object.keys(a).length===0)return{};var a;const i={...c};return s(c,i,"font",["color"]),s(c,i,"alignment"),s(c,i,"protection"),c.border&&(s(c,i,"border"),s(c.border,i.border,"top",["color"]),s(c.border,i.border,"left",["color"]),s(c.border,i.border,"bottom",["color"]),s(c.border,i.border,"right",["color"]),s(c.border,i.border,"diagonal",["color"])),c.fill&&(s(c,i,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(i.fill.stops=c.fill.stops.map(u=>o(u,["color"])))),i}},{}],21:[function(e,n,l){(function(o){(function(){const s=e("crypto"),c={hash(a){const i=s.createHash(a);for(var u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return i.update(o.concat(f)),i.digest()},convertPasswordToHash(a,i,u,f){if(i=i.toLowerCase(),s.getHashes().indexOf(i)<0)throw new Error(`Hash algorithm '${i}' not supported!`);const d=o.from(a,"utf16le");let h=this.hash(i,o.from(u,"base64"),d);for(let g=0;g<f;g++){const y=o.alloc(4);y.writeUInt32LE(g,0),h=this.hash(i,h,y)}return h.toString("base64")},randomBytes:a=>s.randomBytes(a)};n.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,l){const{SaxesParser:o}=e("saxes"),{PassThrough:s}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");n.exports=async function*(a){a.pipe&&!a[Symbol.asyncIterator]&&(a=a.pipe(new s));const i=new o;let u;i.on("error",d=>{u=d});let f=[];i.on("opentag",d=>f.push({eventType:"opentag",value:d})),i.on("text",d=>f.push({eventType:"text",value:d})),i.on("closetag",d=>f.push({eventType:"closetag",value:d}));for await(const d of a){if(i.write(c(d)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,l){const o=e("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(a,i,u){const f=o.decode(i),d=o.decode(u);return a.replace(s,(h,g,y,p,b)=>{if(b)return h;const m=c.exec(p);if(m){const S=m[1],C=m[2].toUpperCase(),I=m[3],P=m[4];if(C.length>3||C.length===3&&C>"XFD")return h;let L=o.l2n(C),j=parseInt(P,10);return S||(L+=d.col-f.col),I||(j+=d.row-f.row),(g||"")+(S||"")+o.n2l(L)+(I||"")+j}return h})}}},{"./col-cache":19}],24:[function(e,n,l){(function(o,s){(function(){const c=e("readable-stream"),a=e("./utils"),i=e("./string-buf");class u{constructor(p,b){this._data=p,this._encoding=b}get length(){return this.toBuffer().length}copy(p,b,m,S){return this.toBuffer().copy(p,b,m,S)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,m,S){return this._data._buf.copy(p,b,m,S)}toBuffer(){return this._data.toBuffer()}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,m,S){this._data.copy(p,b,m,S)}toBuffer(){return this._data}}class h{constructor(p){this.size=p,this.buffer=s.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let b;return p===0?null:p===void 0||p>=this.length?(b=this.toBuffer(),this.iRead=this.iWrite,b):(b=s.alloc(p),this.buffer.copy(b,0,this.iRead,p),this.iRead+=p,b)}write(p,b,m){const S=Math.min(m,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,b,b+S),this.iWrite+=S,S}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};a.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const y=new h(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map(function(p){return new Promise(b=>{p.write(y.toBuffer(),()=>{b()})})}))},_writeToBuffers(y){let p=0;const b=y.length;for(;p<b;)p+=this._getWritableBuffer().write(y,p,b-p)},async write(y,p,b){let m;if(p instanceof Function&&(b=p,p="utf8"),b=b||a.nop,y instanceof i)m=new f(y);else if(y instanceof s)m=new d(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new u(y,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),o.nextTick(b)):(await this._pipe(m),b());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,p,b){const m=S=>{S?b(S):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};y?this.write(y,p,m):m()},read(y){let p;if(y){for(p=[];y&&this.buffers.length&&!this.buffers[0].eod;){const b=this.buffers[0],m=b.read(y);y-=m.length,p.push(m),b.eod&&b.full&&this.buffers.shift()}return s.concat(p)}return p=this.buffers.map(b=>b.toBuffer()).filter(Boolean),this.buffers=[],s.concat(p)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(p=>p!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,l){(function(o){(function(){n.exports=class{constructor(s){this._buf=o.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=o.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let c=2*this._buf.length;for(;c<s;)c*=2;const a=o.alloc(c);this._buf.copy(a,0),this._buf=a}addText(s){this._buffer=void 0;let c=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+s.length),c=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=c}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,l){const{toString:o}=Object.prototype,s=/["&<>]/,c={each:function(a,i){a&&(Array.isArray(a)?a.forEach(i):Object.keys(a).forEach(u=>{i(a[u],u)}))},some:function(a,i){return!!a&&(Array.isArray(a)?a.some(i):Object.keys(a).some(u=>i(a[u],u)))},every:function(a,i){return!a||(Array.isArray(a)?a.every(i):Object.keys(a).every(u=>i(a[u],u)))},map:function(a,i){return a?Array.isArray(a)?a.map(i):Object.keys(a).map(u=>i(a[u],u)):[]},keyBy:(a,i)=>a.reduce((u,f)=>(u[f[i]]=f,u),{}),isEqual:function(a,i){const u=typeof a,f=typeof i,d=Array.isArray(a),h=Array.isArray(i);let g;if(u!==f)return!1;switch(typeof a){case"object":if(d||h)return!(!d||!h)&&a.length===i.length&&a.every((y,p)=>{const b=i[p];return c.isEqual(y,b)});if(a===null||i===null)return a===i;if(g=Object.keys(a),Object.keys(i).length!==g.length)return!1;for(const y of g)if(!i.hasOwnProperty(y))return!1;return c.every(a,(y,p)=>{const b=i[p];return c.isEqual(y,b)});default:return a===i}},escapeHtml(a){const i=s.exec(a);if(!i)return a;let u="",f="",d=0,h=i.index;for(;h<a.length;h++){switch(a.charAt(h)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}d!==h&&(u+=a.substring(d,h)),d=h+1,u+=f}return d!==h?u+a.substring(d,h):u},strcmp:(a,i)=>a<i?-1:a>i?1:0,isUndefined:a=>o.call(a)==="[object Undefined]",isObject:a=>o.call(a)==="[object Object]",deepMerge(){const a=arguments[0]||{},{length:i}=arguments;let u,f,d;function h(g,y){u=a[y],d=Array.isArray(g),c.isObject(g)||d?(d?(d=!1,f=u&&Array.isArray(u)?u:[]):f=u&&c.isObject(u)?u:{},a[y]=c.deepMerge(f,g)):c.isUndefined(g)||(a[y]=g)}for(let g=0;g<i;g++)c.each(arguments[g],h);return a}};n.exports=c},{}],27:[function(e,n,l){(function(o,s){(function(){const c=e("fs"),a=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,i={nop(){},promiseImmediate:u=>new Promise(f=>{o.setImmediate?s(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,d,h){u.super_=f,h||(h=d,d=null),d&&Object.keys(d).forEach(y=>{Object.defineProperty(u,y,Object.getOwnPropertyDescriptor(d,y))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(h,y)}),u.prototype=Object.create(f.prototype,g)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const d=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(d)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=i.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=a.exec(u);if(!f)return u;let d="",h="",g=0,y=f.index;for(;y<u.length;y++){const p=u.charCodeAt(y);switch(p){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){h="";break}continue}g!==y&&(d+=u.substring(g,y)),g=y+1,h&&(d+=h)}return g!==y?d+u.substring(g,y):d},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{c.access(u,c.constants.F_OK,d=>{f(!d)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=i}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,l){const o=e("./under-dash"),s=e("./utils");function c(u,f,d){u.push(` ${f}="${s.xmlEncode(d.toString())}"`)}function a(u,f){if(f){const d=[];o.each(f,(h,g)=>{h!==void 0&&c(d,g,h)}),u.push(d.join(""))}}class i{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const d=this._xml;d.push("<?xml"),a(d,f),d.push(`?>
`)}openNode(f,d){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),a(g,d),this.leaf=!0,this.open=!0}addAttribute(f,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&c(this._xml,f,d)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,f)}writeText(f){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(f),d.push(">")),this.open=!1,this.leaf=!1}leafNode(f,d,h){this.openNode(f,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}i.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=i},{"./under-dash":26,"./utils":27}],29:[function(e,n,l){(function(o){(function(){const s=e("events"),c=e("jszip"),a=e("./stream-buf"),{stringToBuffer:i}=e("./browser-buffer-encode");class u extends s.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new c,this.stream=new a}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(o.browser&&typeof d=="string"&&(d=i(d)),this.zip.file(h.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,l){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,l){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,l){const o=e("../../utils/parse-sax"),s=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(i){}parseText(i){}parseClose(i){}reconcile(i,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(i=>{i instanceof c?i.reset():i.xform&&i.xform.reset()})}mergeModel(i){this.model=Object.assign(this.model||{},i)}async parse(i){for await(const u of i)for(const{eventType:f,value:d}of u)if(f==="opentag")this.parseOpen(d);else if(f==="text")this.parseText(d);else if(f==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(i){return this.parse(o(i))}get xml(){return this.toXml(this.model)}toXml(i){const u=new s;return this.render(u,i),u.xml}static toAttribute(i,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(i===void 0){if(f)return u}else if(f||i!==u)return i.toString()}static toStringAttribute(i,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(i,u,f)}static toStringValue(i,u){return i===void 0?u:i}static toBoolAttribute(i,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(i===void 0){if(f)return u}else if(f||i!==u)return i?"1":"0"}static toBoolValue(i,u){return i===void 0?u:i==="1"}static toIntAttribute(i,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(i,u,f)}static toIntValue(i,u){return i===void 0?u:parseInt(i,10)}static toFloatAttribute(i,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(i,u,f)}static toFloatValue(i,u){return i===void 0?u:parseFloat(i)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,l){const o=e("../base-xform"),s=e("../../../utils/col-cache");function c(i){try{return s.decodeEx(i),!0}catch{return!1}}function a(i){const u=[];let f=!1,d="";return i.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(f?d+=h+",":c(h)&&u.push(h));const y=g%2==0;!f&&y&&c(h)?u.push(h):f&&!y?(f=!1,c(d+h)&&u.push(d+h),d=""):(f=!0,d+=h+",")}),u}n.exports=class extends o{render(i,u){i.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),i.writeText(u.ranges.join(",")),i.closeNode()}parseOpen(i){switch(i.name){case"definedName":return this._parsedName=i.attributes.name,this._parsedLocalSheetId=i.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(i){this._parsedText.push(i)}parseClose(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,l){const o=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{render(c,a){c.leafNode("sheet",{sheetId:a.id,name:a.name,state:a.state,"r:id":a.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:o.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{render(s,c){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{render(s,c){s.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{render(s,c){const a={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(a.visibility=c.visibility),s.leafNode("workbookView",a)}parseOpen(s){if(s.name==="workbookView"){const c=this.model={},a=function(u,f,d){const h=f!==void 0?c[u]=f:d;h!==void 0&&(c[u]=h)},i=function(u,f,d){const h=f!==void 0?c[u]=parseInt(f,10):d;h!==void 0&&(c[u]=h)};return i("x",s.attributes.xWindow,0),i("y",s.attributes.yWindow,0),i("width",s.attributes.windowWidth,25e3),i("height",s.attributes.windowHeight,1e4),a("visibility",s.attributes.visibility,"visible"),i("activeTab",s.attributes.activeTab,void 0),i("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),a=e("../base-xform"),i=e("../static-xform"),u=e("../list-xform"),f=e("./defined-name-xform"),d=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class p extends a{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new h}),sheets:new u({tag:"sheets",count:!1,childXform:new d}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new y}}prepare(m){m.sheets=m.worksheets;const S=[];let C=0;m.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(P=>{const L=P.split(":"),j={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${L[0]}:$${L[1]}`],localSheetId:C};S.push(j)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){const P=[];if(I.pageSetup.printTitlesColumn){const j=I.pageSetup.printTitlesColumn.split(":");P.push(`'${I.name}'!$${j[0]}:$${j[1]}`)}if(I.pageSetup.printTitlesRow){const j=I.pageSetup.printTitlesRow.split(":");P.push(`'${I.name}'!$${j[0]}:$${j[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:P,localSheetId:C};S.push(L)}C++}),S.length&&(m.definedNames=m.definedNames.concat(S)),(m.media||[]).forEach((I,P)=>{I.name=I.type+(P+1)})}render(m,S){m.openXml(c.StdDocAttributes),m.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,S.properties),this.map.bookViews.render(m,S.views),this.map.sheets.render(m,S.sheets),this.map.definedNames.render(m,S.definedNames),this.map.calcPr.render(m,S.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const S=(m.workbookRels||[]).reduce((j,B)=>(j[B.Id]=B,j),{}),C=[];let I,P=0;(m.sheets||[]).forEach(j=>{const B=S[j.rId];B&&(I=m.worksheetHash["xl/"+B.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=j.name,I.id=j.id,I.state=j.state,C[P++]=I))});const L=[];o.each(m.definedNames,j=>{if(j.name==="_xlnm.Print_Area"){if(I=C[j.localSheetId],I){I.pageSetup||(I.pageSetup={});const B=s.decodeEx(j.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${B.dimensions}`:B.dimensions}}else if(j.name==="_xlnm.Print_Titles"){if(I=C[j.localSheetId],I){I.pageSetup||(I.pageSetup={});const B=j.ranges.join(","),z=/\$/g,U=/\$\d+:\$\d+/,H=B.match(U);if(H&&H.length){const k=H[0];I.pageSetup.printTitlesRow=k.replace(z,"")}const T=/\$[A-Z]+:\$[A-Z]+/,A=B.match(T);if(A&&A.length){const k=A[0];I.pageSetup.printTitlesColumn=k.replace(z,"")}}}else L.push(j)}),m.definedNames=L,m.media.forEach((j,B)=>{j.index=B})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new i({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,l){const o=e("../strings/rich-text-xform"),s=e("../../../utils/utils"),c=e("../base-xform"),a=n.exports=function(i){this.model=i};s.inherits(a,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new o),this._richTextXform},render(i,u){u=u||this.model,i.openNode("comment",{ref:u.ref,authorId:0}),i.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(i,f)}),i.closeNode(),i.closeNode()},parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"comment":return this.model={type:"note",note:{texts:[]},...i.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(i),!0;default:return!1}},parseText(i){this.parser&&this.parser.parseText(i)},parseClose(i){switch(i){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../../../utils/utils"),c=e("../base-xform"),a=e("./comment-xform"),i=n.exports=function(){this.map={comment:new a}};s.inherits(i,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(o.StdDocAttributes),u.openNode("comments",i.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(d=>{this.map.comment.render(u,d)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,c,a){(c===a[2]||this.tag==="x:SizeWithCells"&&c===a[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"x:Anchor"}getAnchorRect(s){const c=Math.floor(s.left),a=Math.floor(68*(s.left-c)),i=Math.floor(s.top),u=Math.floor(18*(s.top-i)),f=Math.floor(s.right),d=Math.floor(68*(s.right-f)),h=Math.floor(s.bottom);return[c,a,i,u,f,d,h,Math.floor(18*(s.bottom-h))]}getDefaultRect(s){const c=s.col,a=Math.max(s.row-2,0);return[c,6,a,14,c+2,2,a+4,16]}render(s,c){const a=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);s.leafNode("x:Anchor",null,a.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,l){const o=e("../base-xform"),s=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),a=e("./style/vml-position-xform"),i=["twoCells","oneCells","absolute"];n.exports=class extends o{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:d,editAs:h}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,h,i),this.map["x:SizeWithCells"].render(u,h,i),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,d.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,d.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=i[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),c=e("./vml-shape-xform");class a extends s{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(u,f){u.openXml(o.StdDocAttributes),u.openNode(this.tag,a.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((d,h)=>{this.map["v:shape"].render(u,d,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,f):this.map["xdr:oneCellAnchor"].reconcile(d,f)})}}a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,l){const o=e("../base-xform"),s=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class a extends o{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new c}}get tag(){return"v:shape"}render(u,f,d){u.openNode("v:shape",a.V_SHAPE_ATTRIBUTES(f,d)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}a.V_SHAPE_ATTRIBUTES=(i,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":i.note.margins&&i.note.margins.insetmode}),n.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"v:textbox"}conversionUnit(s,c,a){return`${parseFloat(s)*c.toFixed(2)}${a}`}reverseConversionUnit(s){return(s||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(s,c){const a={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:i}=c.note&&c.note.margins;Array.isArray(i)&&(i=i.map(u=>this.conversionUnit(u,10,"mm")).join(",")),i&&(a.inset=i)}s.openNode("v:textbox",a),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,l){const o=e("./base-xform");n.exports=class extends o{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,c){this.model[s]=c.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{render(s,c){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,c.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{render(s,c){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(a=>{s.leafNode("vt:lpstr",void 0,a.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),c=e("../simple/string-xform"),a=e("./app-heading-pairs-xform"),i=e("./app-titles-of-parts-xform");class u extends s{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new i}}render(d,h){d.openXml(o.StdDocAttributes),d.openNode("Properties",u.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform");class c extends s{render(i,u){i.openXml(o.StdDocAttributes),i.openNode("Types",c.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(d=>{if(d.type==="image"){const h=d.extension;f[h]||(f[h]=!0,i.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),i.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),i.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),i.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(d=>{const h=`/xl/worksheets/sheet${d.id}.xml`;i.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),i.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),i.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&i.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(d=>{i.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(d=>{i.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(i.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(d=>{let{commentName:h}=d;i.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),i.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),i.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),i.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),c=e("../simple/date-xform"),a=e("../simple/string-xform"),i=e("../simple/integer-xform");class u extends s{constructor(){super(),this.map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new i({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(d,h){d.openXml(o.StdDocAttributes),d.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{render(s,c){s.leafNode("Relationship",c)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),c=e("./relationship-xform");class a extends s{constructor(){super(),this.map={Relationship:new c}}render(u,f){f=f||this._values,u.openXml(o.StdDocAttributes),u.openNode("Relationships",a.RELATIONSHIPS_ATTRIBUTES),f.forEach(d=>{this.map.Relationship.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,c){if(s&&s.rId){const a=c.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(a){const i=a[1],u=c.mediaIndex[i];return c.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,l){const o=e("../base-xform"),s=e("./blip-xform");n.exports=class extends o{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(c,a){c.openNode(this.tag),this.map["a:blip"].render(c,a),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"a:blip"}render(s,c){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,l){const o=e("../base-xform"),s=e("./hlink-click-xform"),c=e("./ext-lst-xform");n.exports=class extends o{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(a,i){a.openNode(this.tag,{id:i.index,name:"Picture "+i.index}),this.map["a:hlinkClick"].render(a,i),this.map["a:extLst"].render(a,i),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,l){const o=e("../base-xform"),s=e("../simple/integer-xform");n.exports=class extends o{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(c,a){c.openNode(this.tag),this.map["xdr:col"].render(c,a.nativeCol),this.map["xdr:colOff"].render(c,a.nativeColOff),this.map["xdr:row"].render(c,a.nativeRow),this.map["xdr:rowOff"].render(c,a.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,l){const o=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),c=e("../base-xform"),a=e("./two-cell-anchor-xform"),i=e("./one-cell-anchor-xform");class u extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new i}}prepare(d){d.anchors.forEach((h,g)=>{h.anchorType=function(y){return(typeof y.range=="string"?o.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(s.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,c){s.openNode(this.tag);const a=Math.floor(9525*c.width),i=Math.floor(9525*c.height);s.addAttribute("cx",a),s.addAttribute("cy",i),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"a:hlinkClick"}render(s,c){c.hyperlinks&&c.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,l){const o=e("../base-xform"),s=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");n.exports=class extends o{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(a,i){a.openNode(this.tag),this.map["xdr:cNvPr"].render(a,i),this.map["xdr:cNvPicPr"].render(a,i),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,l){const o=e("./base-cell-anchor-xform"),s=e("../static-xform"),c=e("./cell-position-xform"),a=e("./ext-xform"),i=e("./pic-xform");n.exports=class extends o{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new i,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,l){const o=e("../base-xform"),s=e("../static-xform"),c=e("./blip-fill-xform"),a=e("./nv-pic-pr-xform"),i=e("./sp-pr");n.exports=class extends o{constructor(){super(),this.map={"xdr:nvPicPr":new a,"xdr:blipFill":new c,"xdr:spPr":new s(i)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,l){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,l){const o=e("./base-cell-anchor-xform"),s=e("../static-xform"),c=e("./cell-position-xform"),a=e("./pic-xform");n.exports=class extends o{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(i,u){this.map["xdr:pic"].prepare(i.picture,u)}render(i,u){i.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(i,u.range.tl),this.map["xdr:to"].render(i,u.range.br),this.map["xdr:pic"].render(i,u.picture),this.map["xdr:clientData"].render(i,{}),i.closeNode()}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(i,u){i.medium=this.reconcilePicture(i.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,l){const o=e("./base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,c){const{childXform:a}=this;s&&s.forEach((i,u)=>{c.index=u,a.prepare(i,c)})}render(s,c){if(this.always||c&&c.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,c&&c.length||0);const{childXform:a}=this;(c||[]).forEach((i,u)=>{a.render(s,i,u)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,c){if(s){const{childXform:a}=this;s.forEach(i=>{a.reconcile(i,c)})}}}},{"./base-xform":32}],72:[function(e,n,l){const o=e("../../../utils/col-cache"),s=e("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(c,a){if(a)if(typeof a=="string")c.leafNode("autoFilter",{ref:a});else{const i=function(d){return typeof d=="string"?d:o.getAddress(d.row,d.column).address},u=i(a.from),f=i(a.to);u&&f&&c.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,l){const o=e("../../../utils/utils"),s=e("../base-xform"),c=e("../../../doc/range"),a=e("../../../doc/enums"),i=e("../strings/rich-text-xform");function u(f){if(f==null)return a.ValueType.Null;if(f instanceof String||typeof f=="string")return a.ValueType.String;if(typeof f=="number")return a.ValueType.Number;if(typeof f=="boolean")return a.ValueType.Boolean;if(f instanceof Date)return a.ValueType.Date;if(f.text&&f.hyperlink)return a.ValueType.Hyperlink;if(f.formula)return a.ValueType.Formula;if(f.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new i}get tag(){return"c"}prepare(f,d){const h=d.styles.addStyleModel(f.style||{},function(g){switch(g.type){case a.ValueType.Formula:return u(g.result);default:return g.type}}(f));switch(h&&(f.styleId=h),f.comment&&d.comments.push({...f.comment,ref:f.address}),f.type){case a.ValueType.String:case a.ValueType.RichText:d.sharedStrings&&(f.ssId=d.sharedStrings.add(f.value));break;case a.ValueType.Date:d.date1904&&(f.date1904=!0);break;case a.ValueType.Hyperlink:d.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=d.sharedStrings.add(f.text)),d.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case a.ValueType.Merge:d.merges.add(f);break;case a.ValueType.Formula:if(d.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=d.siFormulae++),f.formula)d.formulae[f.address]=f;else if(f.sharedFormula){const g=d.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new c(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(u(d.result)){case a.ValueType.Null:f.leafNode("f",h,d.formula);break;case a.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case a.ValueType.Number:f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case a.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result?1:0);break;case a.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result.error);break;case a.ValueType.Date:f.leafNode("f",h,d.formula),f.leafNode("v",null,o.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,d){if(d.type!==a.ValueType.Null||d.styleId){switch(f.openNode("c"),f.addAttribute("r",d.address),d.styleId&&f.addAttribute("s",d.styleId),d.type){case a.ValueType.Null:break;case a.ValueType.Number:f.leafNode("v",null,d.value);break;case a.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,d.value?"1":"0");break;case a.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,d.value.error);break;case a.ValueType.String:case a.ValueType.RichText:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(f,h)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,d.value));break;case a.ValueType.Date:f.leafNode("v",null,o.dateToExcel(d.value,d.date1904));break;case a.ValueType.Hyperlink:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,d.text));break;case a.ValueType.Formula:this.renderFormula(f,d);break;case a.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=a.ValueType.Formula,d.value&&(this.t==="str"?d.result=o.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=a.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=a.ValueType.String,d.value=o.xmlDecode(d.value);break;case"inlineStr":d.type=a.ValueType.String;break;case"b":d.type=a.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=a.ValueType.Error,d.value={error:d.value};break;default:d.type=a.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=a.ValueType.Null:d.type=a.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,d){const h=f.styleId&&d.styles&&d.styles.getStyleModel(f.styleId);switch(h&&(f.style=h),f.styleId!==void 0&&(f.styleId=void 0),f.type){case a.ValueType.String:typeof f.value=="number"&&d.sharedStrings&&(f.value=d.sharedStrings.getString(f.value)),f.value.richText&&(f.type=a.ValueType.RichText);break;case a.ValueType.Number:h&&o.isDateFmt(h.numFmt)&&(f.type=a.ValueType.Date,f.value=o.excelToDate(f.value,d.date1904));break;case a.ValueType.Formula:f.result!==void 0&&h&&o.isDateFmt(h.numFmt)&&(f.result=o.excelToDate(f.result,d.date1904)),f.shareType==="shared"&&(f.ref?d.formulae[f.si]=f.address:(f.sharedFormula=d.formulae[f.si],delete f.shareType),delete f.si)}const g=d.hyperlinkMap[f.address];g&&(f.type===a.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=a.ValueType.Hyperlink,f.hyperlink=g);const y=d.commentsMap&&d.commentsMap[f.address];y&&(f.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{get tag(){return"x14:cfIcon"}render(s,c){s.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(s){let{attributes:c}=s;this.model={iconSet:c.iconSet,iconId:o.toIntValue(c.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,l){const{v4:o}=e("uuid"),s=e("../../base-xform"),c=e("../../composite-xform"),a=e("./databar-ext-xform"),i=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new a,"x14:iconSet":this.iconSetXform=new i}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?a.isExt(h):!(h.type!=="iconSet"||!h.custom&&!u[h.iconSet])}prepare(h){f.isExt(h)&&(h.x14Id=`{${o()}}`.toUpperCase())}render(h,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${o()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:s.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,l){const o=e("../../composite-xform"),s=e("./f-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(c,a){c.openNode(this.tag,{type:a.type}),a.value!==void 0&&this.fExtXform.render(c,a.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,a){switch(c){case"xm:f":this.model.value=a.model?parseFloat(a.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,l){const o=e("../../composite-xform"),s=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(a,i){a.rules.forEach(u=>{this.cfRule.prepare(u,i)})}render(a,i){i.rules.some(c.isExt)&&(a.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),i.rules.filter(c.isExt).forEach(u=>this.cfRule.render(a,u)),this.sqRef.render(a,i.ref),a.closeNode())}createNewModel(){return{rules:[]}}onParserClose(a,i){switch(a){case"xm:sqref":this.model.ref=i.model;break;case"x14:cfRule":this.model.rules.push(i.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,l){const o=e("../../composite-xform"),s=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(a){return a.hasExtContent===void 0&&(a.hasExtContent=a.some(i=>i.rules.some(s.isExt))),a.hasExtContent}prepare(a,i){a.forEach(u=>{this.cfXform.prepare(u,i)})}render(a,i){this.hasContent(i)&&(a.openNode(this.tag),i.forEach(u=>this.cfXform.render(a,u)),a.closeNode())}createNewModel(){return[]}onParserClose(a,i){this.model.push(i.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,l){const o=e("../../base-xform"),s=e("../../composite-xform"),c=e("../../style/color-xform"),a=e("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(i){return!i.gradient}get tag(){return"x14:dataBar"}render(i,u){i.openNode(this.tag,{minLength:o.toIntAttribute(u.minLength,0,!0),maxLength:o.toIntAttribute(u.maxLength,100,!0),border:o.toBoolAttribute(u.border,!1),gradient:o.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:o.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toAttribute(u.axisPosition,"auto"),direction:o.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(i,f)}),this.borderColorXform.render(i,u.borderColor),this.negativeBorderColorXform.render(i,u.negativeBorderColor),this.negativeFillColorXform.render(i,u.negativeFillColor),this.axisColorXform.render(i,u.axisColor),i.closeNode()}createNewModel(i){let{attributes:u}=i;return{cfvo:[],minLength:o.toIntValue(u.minLength,0),maxLength:o.toIntValue(u.maxLength,100),border:o.toBoolValue(u.border,!1),gradient:o.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:o.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toStringValue(u.axisPosition,"auto"),direction:o.toStringValue(u.direction,"leftToRight")}}onParserClose(i,u){const[,f]=i.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{get tag(){return"xm:f"}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,l){const o=e("../../base-xform"),s=e("../../composite-xform"),c=e("./cfvo-ext-xform"),a=e("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new a}}get tag(){return"x14:iconSet"}render(i,u){i.openNode(this.tag,{iconSet:o.toStringAttribute(u.iconSet),reverse:o.toBoolAttribute(u.reverse,!1),showValue:o.toBoolAttribute(u.showValue,!0),custom:o.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(i,f)}),u.icons&&u.icons.forEach((f,d)=>{f.iconId=d,this.cfIconXform.render(i,f)}),i.closeNode()}createNewModel(i){let{attributes:u}=i;return{cfvo:[],iconSet:o.toStringValue(u.iconSet,"3TrafficLights"),reverse:o.toBoolValue(u.reverse,!1),showValue:o.toBoolValue(u.showValue,!0)}}onParserClose(i,u){const[,f]=i.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{get tag(){return"xm:sqref"}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,l){const o=e("../../base-xform"),s=e("../../composite-xform"),c=e("../../../../doc/range"),a=e("./databar-xform"),i=e("./ext-lst-ref-xform"),u=e("./formula-xform"),f=e("./color-scale-xform"),d=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:b,operator:m}=p;switch(b){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:b};default:return{type:b,operator:m}}};class y extends s{constructor(){super(),this.map={dataBar:this.databarXform=new a,extLst:this.extLstRefXform=new i,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(b){return b.type!=="iconSet"||!b.custom&&!h[b.iconSet]}render(b,m){switch(m.type){case"expression":this.renderExpression(b,m);break;case"cellIs":this.renderCellIs(b,m);break;case"top10":this.renderTop10(b,m);break;case"aboveAverage":this.renderAboveAverage(b,m);break;case"dataBar":this.renderDataBar(b,m);break;case"colorScale":this.renderColorScale(b,m);break;case"iconSet":this.renderIconSet(b,m);break;case"containsText":this.renderText(b,m);break;case"timePeriod":this.renderTimePeriod(b,m)}}renderExpression(b,m){b.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(b,m.formulae[0]),b.closeNode()}renderCellIs(b,m){b.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(S=>{this.formulaXform.render(b,S)}),b.closeNode()}renderTop10(b,m){b.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:o.toBoolAttribute(m.percent,!1),bottom:o.toBoolAttribute(m.bottom,!1),rank:o.toIntValue(m.rank,10,!0)})}renderAboveAverage(b,m){b.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:o.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(b,m){b.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(b,m),this.extLstRefXform.render(b,m),b.closeNode()}renderColorScale(b,m){b.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(b,m),b.closeNode()}renderIconSet(b,m){y.isPrimitive(m)&&(b.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(b,m),b.closeNode())}renderText(b,m){b.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:o.toStringAttribute(m.operator,"containsText")});const S=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const I=new c(C.ref),{tl:P}=I;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${P})))`;case"containsBlanks":return`LEN(TRIM(${P}))=0`;case"notContainsBlanks":return`LEN(TRIM(${P}))>0`;case"containsErrors":return`ISERROR(${P})`;case"notContainsErrors":return`NOT(ISERROR(${P}))`;default:return}})(m);S&&this.formulaXform.render(b,S),b.closeNode()}renderTimePeriod(b,m){b.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const S=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const I=new c(C.ref),{tl:P}=I;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${P},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${P},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${P},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${P},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${P},1)=TODAY()-1`;case"today":return`FLOOR(${P},1)=TODAY()`;case"tomorrow":return`FLOOR(${P},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${P},1)<=6,FLOOR(${P},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0-1)),YEAR(${P})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${P})=MONTH(TODAY()),YEAR(${P})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0+1)),YEAR(${P})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);S&&this.formulaXform.render(b,S),b.closeNode()}createNewModel(b){let{attributes:m}=b;return{...g(m),dxfId:o.toIntValue(m.dxfId),priority:o.toIntValue(m.priority),timePeriod:m.timePeriod,percent:o.toBoolValue(m.percent),bottom:o.toBoolValue(m.bottom),rank:o.toIntValue(m.rank),aboveAverage:o.toBoolValue(m.aboveAverage)}}onParserClose(b,m){switch(b){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{get tag(){return"cfvo"}render(s,c){s.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(s){this.model={type:s.attributes.type,value:o.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,l){const o=e("../../composite-xform"),s=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new s}}get tag(){return"colorScale"}render(a,i){a.openNode(this.tag),i.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),i.color.forEach(u=>{this.colorXform.render(a,u)}),a.closeNode()}createNewModel(a){return{cfvo:[],color:[]}}onParserClose(a,i){this.model[a].push(i.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,l){const o=e("../../composite-xform"),s=e("./cf-rule-xform");n.exports=class extends o{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(c,a){a.rules.some(s.isPrimitive)&&(c.openNode(this.tag,{sqref:a.ref}),a.rules.forEach(i=>{s.isPrimitive(i)&&(i.ref=a.ref,this.map.cfRule.render(c,i))}),c.closeNode())}createNewModel(c){let{attributes:a}=c;return{ref:a.sqref,rules:[]}}onParserClose(c,a){this.model.rules.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,l){const o=e("../../base-xform"),s=e("./conditional-formatting-xform");n.exports=class extends o{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,a){let i=c.reduce((u,f)=>Math.max(u,...f.rules.map(d=>d.priority||0)),1);c.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=i++),f.style&&(f.dxfId=a.styles.addDxfStyle(f.style))})})}render(c,a){a.forEach(i=>{this.cfXform.render(c,i)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,a){c.forEach(i=>{i.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=a.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,l){const o=e("../../composite-xform"),s=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new s}}get tag(){return"dataBar"}render(a,i){a.openNode(this.tag),i.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),this.colorXform.render(a,i.color),a.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(a,i){switch(a){case"cfvo":this.model.cfvo.push(i.model);break;case"color":this.model.color=i.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,l){const o=e("../../base-xform"),s=e("../../composite-xform");class c extends o{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class a extends s{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new a}}get tag(){return"extLst"}render(i,u){i.openNode(this.tag),this.map.ext.render(i,u),i.closeNode()}createNewModel(){return{}}onParserClose(i,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,l){const o=e("../../base-xform");n.exports=class extends o{get tag(){return"formula"}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,l){const o=e("../../base-xform"),s=e("../../composite-xform"),c=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(a,i){a.openNode(this.tag,{iconSet:o.toStringAttribute(i.iconSet,"3TrafficLights"),reverse:o.toBoolAttribute(i.reverse,!1),showValue:o.toBoolAttribute(i.showValue,!0)}),i.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),a.closeNode()}createNewModel(a){let{attributes:i}=a;return{iconSet:o.toStringValue(i.iconSet,"3TrafficLights"),reverse:o.toBoolValue(i.reverse),showValue:o.toBoolValue(i.showValue),cfvo:[]}}onParserClose(a,i){this.model[a].push(i.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,l){const o=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(c,a){const i=a.styles.addStyleModel(c.style||{});i&&(c.styleId=i)}render(c,a){c.openNode("col"),c.addAttribute("min",a.min),c.addAttribute("max",a.max),a.width&&c.addAttribute("width",a.width),a.styleId&&c.addAttribute("style",a.styleId),a.hidden&&c.addAttribute("hidden","1"),a.bestFit&&c.addAttribute("bestFit","1"),a.outlineLevel&&c.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const a=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(a.styleId=parseInt(c.attributes.style,10)),o.parseBoolean(c.attributes.hidden)&&(a.hidden=!0),o.parseBoolean(c.attributes.bestFit)&&(a.bestFit=!0),c.attributes.outlineLevel&&(a.outlineLevel=parseInt(c.attributes.outlineLevel,10)),o.parseBoolean(c.attributes.collapsed)&&(a.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,a){c.styleId&&(c.style=a.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../../../utils/utils"),c=e("../../../utils/col-cache"),a=e("../base-xform"),i=e("../../../doc/range");function u(d,h,g,y){const p=h[g];p!==void 0?d[g]=p:y!==void 0&&(d[g]=y)}function f(d,h,g,y){const p=h[g];p!==void 0&&(d[g]=s.parseBoolean(p))}n.exports=class extends a{get tag(){return"dataValidations"}render(d,h){const g=function(y){const p=o.map(y,(S,C)=>({address:C,dataValidation:S,marked:!1})).sort((S,C)=>o.strcmp(S.address,C.address)),b=o.keyBy(p,"address"),m=(S,C,I)=>{for(let P=0;P<C;P++){const L=c.encodeAddress(S.row+P,I);if(!y[L]||!o.isEqual(y[S.address],y[L]))return!1}return!0};return p.map(S=>{if(!S.marked){const C=c.decodeEx(S.address);if(C.dimensions)return b[C.dimensions].marked=!0,{...S.dataValidation,sqref:S.address};let I=1,P=c.encodeAddress(C.row+I,C.col);for(;y[P]&&o.isEqual(S.dataValidation,y[P]);)I++,P=c.encodeAddress(C.row+I,C.col);let L=1;for(;m(C,I,C.col+L);)L++;for(let j=0;j<I;j++)for(let B=0;B<L;B++)P=c.encodeAddress(C.row+j,C.col+B),b[P].marked=!0;if(I>1||L>1){const j=C.row+(I-1),B=C.col+(L-1);return{...S.dataValidation,sqref:`${S.address}:${c.encodeAddress(j,B)}`}}return{...S.dataValidation,sqref:S.address}}return null}).filter(Boolean)}(h);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(y=>{d.openNode("dataValidation"),y.type!=="any"&&(d.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&d.addAttribute("operator",y.operator),y.allowBlank&&d.addAttribute("allowBlank","1")),y.showInputMessage&&d.addAttribute("showInputMessage","1"),y.promptTitle&&d.addAttribute("promptTitle",y.promptTitle),y.prompt&&d.addAttribute("prompt",y.prompt),y.showErrorMessage&&d.addAttribute("showErrorMessage","1"),y.errorStyle&&d.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&d.addAttribute("errorTitle",y.errorTitle),y.error&&d.addAttribute("error",y.error),d.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((p,b)=>{d.openNode("formula"+(b+1)),y.type==="date"?d.writeText(s.dateToExcel(new Date(p))):d.writeText(p),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&f(h,d.attributes,"allowBlank"),f(h,d.attributes,"showInputMessage"),f(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:u(h,d.attributes,"operator","between")}return u(h,d.attributes,"promptTitle"),u(h,d.attributes,"prompt"),u(h,d.attributes,"errorStyle"),u(h,d.attributes,"errorTitle"),u(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new i(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=s.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"dimension"}render(s,c){c&&s.leafNode("dimension",{ref:c})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"drawing"}render(s,c){c&&s.leafNode(this.tag,{"r:id":c.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,l){const o=e("../composite-xform"),s=e("./cf-ext/conditional-formattings-ext-xform");class c extends o{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(i){return this.conditionalFormattings.hasContent(i.conditionalFormattings)}prepare(i,u){this.conditionalFormattings.prepare(i.conditionalFormattings,u)}render(i,u){i.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(i,u.conditionalFormattings),i.closeNode()}createNewModel(){return{}}onParserClose(i,u){this.model[i]=u.model}}n.exports=class extends o{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(a,i){this.ext.prepare(a,i)}hasContent(a){return this.ext.hasContent(a)}render(a,i){this.hasContent(i)&&(a.openNode("extLst"),this.ext.render(a,i),a.closeNode())}createNewModel(){return{}}onParserClose(a,i){Object.assign(this.model,i.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"headerFooter"}render(s,c){if(c){s.addRollback();let a=!1;s.openNode("headerFooter"),c.differentFirst&&(s.addAttribute("differentFirst","1"),a=!0),c.differentOddEven&&(s.addAttribute("differentOddEven","1"),a=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(s.leafNode("oddHeader",null,c.oddHeader),a=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(s.leafNode("oddFooter",null,c.oddFooter),a=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(s.leafNode("evenHeader",null,c.evenHeader),a=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(s.leafNode("evenFooter",null,c.evenFooter),a=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(s.leafNode("firstHeader",null,c.firstHeader),a=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(s.leafNode("firstFooter",null,c.firstFooter),a=!0),a?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"hyperlink"}render(s,c){this.isInternalLink(c)?s.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):s.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"mergeCell"}render(s,c){s.leafNode("mergeCell",{ref:c})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../../../doc/range"),c=e("../../../utils/col-cache"),a=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(i){if(this.merges[i.master])this.merges[i.master].expandToAddress(i.address);else{const u=`${i.master}:${i.address}`;this.merges[i.master]=new s(u)}}get mergeCells(){return o.map(this.merges,i=>i.range)}reconcile(i,u){o.each(i,f=>{const d=c.decode(f);for(let h=d.top;h<=d.bottom;h++){const g=u[h-1];for(let y=d.left;y<=d.right;y++){const p=g.cells[y-1];p?p.type===a.ValueType.Merge&&(p.master=d.tl):g.cells[y]={type:a.ValueType.Null,address:c.encodeAddress(h,y)}}}})}getMasterAddress(i){const u=this.hash[i];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,l){const o=e("../base-xform"),s=c=>c!==void 0;n.exports=class extends o{get tag(){return"outlinePr"}render(c,a){return!(!a||!s(a.summaryBelow)&&!s(a.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:s(a.summaryBelow)?Number(a.summaryBelow):void 0,summaryRight:s(a.summaryRight)?Number(a.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:s(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:s(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"brk"}render(s,c){s.leafNode("brk",c)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(c,a){if(a){const i={left:a.left,right:a.right,top:a.top,bottom:a.bottom,header:a.header,footer:a.footer};o.some(i,u=>u!==void 0)&&c.leafNode(this.tag,i)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"pageSetUpPr"}render(s,c){return!(!c||!c.fitToPage)&&(s.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");function c(f){return f?"1":void 0}function a(f){switch(f){case"overThenDown":return f;default:return}}function i(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,d){if(d){const h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:a(d.pageOrder),blackAndWhite:c(d.blackAndWhite),draft:c(d.draft),cellComments:i(d.cellComments),errors:u(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:c(d.firstPageNumber),usePrinterDefaults:c(d.usePrinterDefaults),copies:d.copies};o.some(h,g=>g!==void 0)&&f.leafNode(this.tag,h)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(d=f.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"picture"}render(s,c){c&&s.leafNode(this.tag,{"r:id":c.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");function c(a){return a?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(a,i){if(i){const u={headings:c(i.showRowColHeaders),gridLines:c(i.showGridLines),horizontalCentered:c(i.horizontalCentered),verticalCentered:c(i.verticalCentered)};o.some(u,f=>f!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){switch(a.name){case this.tag:return this.model={showRowColHeaders:a.attributes.headings==="1",showGridLines:a.attributes.gridLines==="1",horizontalCentered:a.attributes.horizontalCentered==="1",verticalCentered:a.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,l){const o=e("./page-breaks-xform"),s=e("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new o})}render(c,a){if(a&&a.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,a.length),c.addAttribute("manualBreakCount",a.length));const{childXform:i}=this;a.forEach(u=>{i.render(c,u)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,l){const o=e("../base-xform"),s=e("../../../utils/utils"),c=e("./cell-xform");n.exports=class extends o{constructor(a){super(),this.maxItems=a&&a.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(a,i){const u=i.styles.addStyleModel(a.style);u&&(a.styleId=u);const f=this.map.c;a.cells.forEach(d=>{f.prepare(d,i)})}render(a,i,u){a.openNode("row"),a.addAttribute("r",i.number),i.height&&(a.addAttribute("ht",i.height),a.addAttribute("customHeight","1")),i.hidden&&a.addAttribute("hidden","1"),i.min>0&&i.max>0&&i.min<=i.max&&a.addAttribute("spans",`${i.min}:${i.max}`),i.styleId&&(a.addAttribute("s",i.styleId),a.addAttribute("customFormat","1")),a.addAttribute("x14ac:dyDescent","0.25"),i.outlineLevel&&a.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&a.addAttribute("collapsed","1");const f=this.map.c;i.cells.forEach(d=>{f.render(a,d,u)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;if(a.name==="row"){this.numRowsSeen+=1;const i=a.attributes.spans?a.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(a.attributes.r,10),min:i[0],max:i[1],cells:[]};return a.attributes.s&&(u.styleId=parseInt(a.attributes.s,10)),s.parseBoolean(a.attributes.hidden)&&(u.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(u.bestFit=!0),a.attributes.ht&&(u.height=parseFloat(a.attributes.ht)),a.attributes.outlineLevel&&(u.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(a,i){a.style=a.styleId?i.styles.getStyleModel(a.styleId):{},a.styleId!==void 0&&(a.styleId=void 0);const u=this.map.c;a.cells.forEach(f=>{u.reconcile(f,i)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(c,a){if(a){const i={defaultRowHeight:a.defaultRowHeight,outlineLevelRow:a.outlineLevelRow,outlineLevelCol:a.outlineLevelCol,"x14ac:dyDescent":a.dyDescent};a.defaultColWidth&&(i.defaultColWidth=a.defaultColWidth),a.defaultRowHeight&&a.defaultRowHeight===15||(i.customHeight="1"),o.some(i,u=>u!==void 0)&&c.leafNode("sheetFormatPr",i)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,l){const o=e("../base-xform"),s=e("../style/color-xform"),c=e("./page-setup-properties-xform"),a=e("./outline-properties-xform");n.exports=class extends o{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new c,outlinePr:new a}}get tag(){return"sheetPr"}render(i,u){if(u){i.addRollback(),i.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(i,u.tabColor)||f,f=this.map.pageSetUpPr.render(i,u.pageSetup)||f,f=this.map.outlinePr.render(i,u.outlineProperties)||f,f?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){return this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag?(this.reset(),!0):!!this.map[i.name]&&(this.parser=this.map[i.name],this.parser.parseOpen(i),!0)}parseText(i){return!!this.parser&&(this.parser.parseText(i),!0)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");function c(i,u){return i?u:void 0}function a(i,u){return i===u||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(i,u){if(u){const f={sheet:c(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:c(u.formatCells,"0"),formatColumns:c(u.formatColumns,"0"),formatRows:c(u.formatRows,"0"),insertColumns:c(u.insertColumns,"0"),insertRows:c(u.insertRows,"0"),insertHyperlinks:c(u.insertHyperlinks,"0"),deleteColumns:c(u.deleteColumns,"0"),deleteRows:c(u.deleteRows,"0"),sort:c(u.sort,"0"),autoFilter:c(u.autoFilter,"0"),pivotTables:c(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=c(u.objects===!1,"1"),f.scenarios=c(u.scenarios===!1,"1")),o.some(f,d=>d!==void 0)&&i.leafNode(this.tag,f)}}parseOpen(i){switch(i.name){case this.tag:return this.model={sheet:a(i.attributes.sheet,"1"),objects:i.attributes.objects!=="1"&&void 0,scenarios:i.attributes.scenarios!=="1"&&void 0,selectLockedCells:i.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:i.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:a(i.attributes.formatCells,"0"),formatColumns:a(i.attributes.formatColumns,"0"),formatRows:a(i.attributes.formatRows,"0"),insertColumns:a(i.attributes.insertColumns,"0"),insertRows:a(i.attributes.insertRows,"0"),insertHyperlinks:a(i.attributes.insertHyperlinks,"0"),deleteColumns:a(i.attributes.deleteColumns,"0"),deleteRows:a(i.attributes.deleteRows,"0"),sort:a(i.attributes.sort,"0"),autoFilter:a(i.attributes.autoFilter,"0"),pivotTables:a(i.attributes.pivotTables,"0")},i.attributes.algorithmName&&(this.model.algorithmName=i.attributes.algorithmName,this.model.hashValue=i.attributes.hashValue,this.model.saltValue=i.attributes.saltValue,this.model.spinCount=parseInt(i.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,l){const o=e("../../../utils/col-cache"),s=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(a){switch(a.state){case"frozen":case"split":break;default:a.state="normal"}}render(a,i){a.openNode("sheetView",{workbookViewId:i.workbookViewId||0});const u=function(y,p,b){b&&a.addAttribute(y,p)};let f,d,h,g;switch(u("rightToLeft","1",i.rightToLeft===!0),u("tabSelected","1",i.tabSelected),u("showRuler","0",i.showRuler===!1),u("showRowColHeaders","0",i.showRowColHeaders===!1),u("showGridLines","0",i.showGridLines===!1),u("zoomScale",i.zoomScale,i.zoomScale),u("zoomScaleNormal",i.zoomScaleNormal,i.zoomScaleNormal),u("view",i.style,i.style),i.state){case"frozen":d=i.xSplit||0,h=i.ySplit||0,f=i.topLeftCell||o.getAddress(h+1,d+1).address,g=(i.xSplit&&i.ySplit?"bottomRight":i.xSplit&&"topRight")||"bottomLeft",a.leafNode("pane",{xSplit:i.xSplit||void 0,ySplit:i.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),a.leafNode("selection",{pane:g,activeCell:i.activeCell,sqref:i.activeCell});break;case"split":i.activePane==="topLeft"&&(i.activePane=void 0),a.leafNode("pane",{xSplit:i.xSplit||void 0,ySplit:i.ySplit||void 0,topLeftCell:i.topLeftCell,activePane:i.activePane}),a.leafNode("selection",{pane:i.activePane,activeCell:i.activeCell,sqref:i.activeCell});break;case"normal":i.activeCell&&a.leafNode("selection",{activeCell:i.activeCell,sqref:i.activeCell})}a.closeNode()}parseOpen(a){switch(a.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(a.attributes.workbookViewId,10),rightToLeft:a.attributes.rightToLeft==="1",tabSelected:a.attributes.tabSelected==="1",showRuler:a.attributes.showRuler!=="0",showRowColHeaders:a.attributes.showRowColHeaders!=="0",showGridLines:a.attributes.showGridLines!=="0",zoomScale:parseInt(a.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(a.attributes.zoomScaleNormal||"100",10),style:a.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(a.attributes.xSplit||"0",10),ySplit:parseInt(a.attributes.ySplit||"0",10),topLeftCell:a.attributes.topLeftCell,activePane:a.attributes.activePane||"topLeft",state:a.attributes.state},!0;case"selection":{const i=a.attributes.pane||"topLeft";return this.selections[i]={pane:i,activeCell:a.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(a){let i,u;switch(a){case"sheetView":return this.sheetView&&this.pane?(i=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(i.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(i.activeCell=u.activeCell),this.sheetView.style&&(i.style=this.sheetView.style)):(i=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(i.activeCell=u.activeCell),this.sheetView.style&&(i.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"tablePart"}render(s,c){c&&s.leafNode(this.tag,{"r:id":c.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),a=e("../../rel-type"),i=e("./merges"),u=e("../base-xform"),f=e("../list-xform"),d=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),y=e("./hyperlink-xform"),p=e("./merge-cell-xform"),b=e("./data-validations-xform"),m=e("./sheet-properties-xform"),S=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),I=e("./sheet-protection-xform"),P=e("./page-margins-xform"),L=e("./page-setup-xform"),j=e("./print-options-xform"),B=e("./auto-filter-xform"),z=e("./picture-xform"),U=e("./drawing-xform"),H=e("./table-part-xform"),T=e("./row-breaks-xform"),A=e("./header-footer-xform"),k=e("./cf/conditional-formattings-xform"),v=e("./ext-lst-xform"),x=(_,E)=>{if(!E||!E.length)return _;if(!_||!_.length)return E;const R={},O={};return _.forEach(W=>{R[W.ref]=W,W.rules.forEach(V=>{const{x14Id:X}=V;X&&(O[X]=V)})}),E.forEach(W=>{W.rules.forEach(V=>{const X=O[V.x14Id];X?((D,K)=>{Object.keys(K).forEach(N=>{const M=D[N],$=K[N];M===void 0&&$!==void 0&&(D[N]=$)})})(X,V):R[W.ref]?R[W.ref].rules.push(V):_.push({ref:W.ref,rules:[V]})})}),_};class w extends u{constructor(E){super();const{maxRows:R,maxCols:O,ignoreNodes:W}=E||{};this.ignoreNodes=W||[],this.map={sheetPr:new m,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new S,cols:new f({tag:"cols",count:!1,childXform:new h}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:O}),maxItems:R}),autoFilter:new B,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new T,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new P,dataValidations:new b,pageSetup:new L,headerFooter:new A,printOptions:new j,picture:new z,drawing:new U,sheetProtection:new I,tableParts:new f({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new k,extLst:new v}}prepare(E,R){R.merges=new i,E.hyperlinks=R.hyperlinks=[],E.comments=R.comments=[],R.formulae={},R.siFormulae=0,this.map.cols.prepare(E.cols,R),this.map.sheetData.prepare(E.rows,R),this.map.conditionalFormatting.prepare(E.conditionalFormattings,R),E.mergeCells=R.merges.mergeCells;const O=E.rels=[];function W(D){return"rId"+(D.length+1)}if(E.hyperlinks.forEach(D=>{const K=W(O);D.rId=K,O.push({Id:K,Type:a.Hyperlink,Target:D.target,TargetMode:"External"})}),E.comments.length>0){const D={Id:W(O),Type:a.Comments,Target:`../comments${E.id}.xml`};O.push(D);const K={Id:W(O),Type:a.VmlDrawing,Target:`../drawings/vmlDrawing${E.id}.vml`};O.push(K),E.comments.forEach(N=>{N.refAddress=s.decodeAddress(N.ref)}),R.commentRefs.push({commentName:"comments"+E.id,vmlDrawing:"vmlDrawing"+E.id})}const V=[];let X;E.media.forEach(D=>{if(D.type==="background"){const K=W(O);X=R.media[D.imageId],O.push({Id:K,Type:a.Image,Target:`../media/${X.name}.${X.extension}`}),E.background={rId:K},E.image=R.media[D.imageId]}else if(D.type==="image"){let{drawing:K}=E;X=R.media[D.imageId],K||(K=E.drawing={rId:W(O),name:"drawing"+ ++R.drawingsCount,anchors:[],rels:[]},R.drawings.push(K),O.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let N=this.preImageId===D.imageId?V[D.imageId]:V[K.rels.length];N||(N=W(K.rels),V[K.rels.length]=N,K.rels.push({Id:N,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const M={picture:{rId:N},range:D.range};if(D.hyperlinks&&D.hyperlinks.hyperlink){const $=W(K.rels);V[K.rels.length]=$,M.picture.hyperlinks={tooltip:D.hyperlinks.tooltip,rId:$},K.rels.push({Id:$,Type:a.Hyperlink,Target:D.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=D.imageId,K.anchors.push(M)}}),E.tables.forEach(D=>{const K=W(O);D.rId=K,O.push({Id:K,Type:a.Table,Target:"../tables/"+D.target}),D.columns.forEach(N=>{const{style:M}=N;M&&(N.dxfId=R.styles.addDxfStyle(M))})}),this.map.extLst.prepare(E,R)}render(E,R){E.openXml(c.StdDocAttributes),E.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);const O=R.properties?{defaultRowHeight:R.properties.defaultRowHeight,dyDescent:R.properties.dyDescent,outlineLevelCol:R.properties.outlineLevelCol,outlineLevelRow:R.properties.outlineLevelRow}:void 0;R.properties&&R.properties.defaultColWidth&&(O.defaultColWidth=R.properties.defaultColWidth);const W={outlineProperties:R.properties&&R.properties.outlineProperties,tabColor:R.properties&&R.properties.tabColor,pageSetup:R.pageSetup&&R.pageSetup.fitToPage?{fitToPage:R.pageSetup.fitToPage}:void 0},V=R.pageSetup&&R.pageSetup.margins,X={showRowColHeaders:R.pageSetup&&R.pageSetup.showRowColHeaders,showGridLines:R.pageSetup&&R.pageSetup.showGridLines,horizontalCentered:R.pageSetup&&R.pageSetup.horizontalCentered,verticalCentered:R.pageSetup&&R.pageSetup.verticalCentered},D=R.sheetProtection;this.map.sheetPr.render(E,W),this.map.dimension.render(E,R.dimensions),this.map.sheetViews.render(E,R.views),this.map.sheetFormatPr.render(E,O),this.map.cols.render(E,R.cols),this.map.sheetData.render(E,R.rows),this.map.sheetProtection.render(E,D),this.map.autoFilter.render(E,R.autoFilter),this.map.mergeCells.render(E,R.mergeCells),this.map.conditionalFormatting.render(E,R.conditionalFormattings),this.map.dataValidations.render(E,R.dataValidations),this.map.hyperlinks.render(E,R.hyperlinks),this.map.printOptions.render(E,X),this.map.pageMargins.render(E,V),this.map.pageSetup.render(E,R.pageSetup),this.map.headerFooter.render(E,R.headerFooter),this.map.rowBreaks.render(E,R.rowBreaks),this.map.drawing.render(E,R.drawing),this.map.picture.render(E,R.background),this.map.tableParts.render(E,R.tables),this.map.extLst.render(E,R),R.rels&&R.rels.forEach(K=>{K.Type===a.VmlDrawing&&E.leafNode("legacyDrawing",{"r:id":K.Id})}),E.closeNode()}parseOpen(E){return this.parser?(this.parser.parseOpen(E),!0):E.name==="worksheet"?(o.each(this.map,R=>{R.reset()}),!0):(this.map[E.name]&&!this.ignoreNodes.includes(E.name)&&(this.parser=this.map[E.name],this.parser.parseOpen(E)),!0)}parseText(E){this.parser&&this.parser.parseText(E)}parseClose(E){if(this.parser)return this.parser.parseClose(E)||(this.parser=void 0),!0;switch(E){case"worksheet":{const R=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(R.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(R.outlineProperties=this.map.sheetPr.model.outlineProperties);const O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},W=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),V=x(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:R,views:this.map.sheetViews.model,pageSetup:W,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:V},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(E,R){const O=(E.relationships||[]).reduce((V,X)=>{if(V[X.Id]=X,X.Type===a.Comments&&(E.comments=R.comments[X.Target].comments),X.Type===a.VmlDrawing&&E.comments&&E.comments.length){const D=R.vmlDrawings[X.Target].comments;E.comments.forEach((K,N)=>{K.note=Object.assign({},K.note,D[N])})}return V},{});if(R.commentsMap=(E.comments||[]).reduce((V,X)=>(X.ref&&(V[X.ref]=X),V),{}),R.hyperlinkMap=(E.hyperlinks||[]).reduce((V,X)=>(X.rId&&(V[X.address]=O[X.rId].Target),V),{}),R.formulae={},E.rows=E.rows&&E.rows.filter(Boolean)||[],E.rows.forEach(V=>{V.cells=V.cells&&V.cells.filter(Boolean)||[]}),this.map.cols.reconcile(E.cols,R),this.map.sheetData.reconcile(E.rows,R),this.map.conditionalFormatting.reconcile(E.conditionalFormattings,R),E.media=[],E.drawing){const V=O[E.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(V){const X=V[1];R.drawings[X].anchors.forEach(D=>{if(D.medium){const K={type:"image",imageId:D.medium.index,range:D.range,hyperlinks:D.picture.hyperlinks};E.media.push(K)}})}}const W=E.background&&O[E.background.rId];if(W){const V=W.Target.split("/media/")[1],X=R.mediaIndex&&R.mediaIndex[V];X!==void 0&&E.media.push({type:"background",imageId:X})}E.tables=(E.tables||[]).map(V=>{const X=O[V.rId];return R.tables[X.Target]}),delete E.relationships,delete E.hyperlinks,delete E.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,c){c&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=s.parse||function(c){return new Date(c)}}render(s,c){c&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(c)):s.writeText(this._format(c)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,c){(c||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,c):s.writeText(c),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,c){c!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,c):s.writeText(c),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,l){const o=e("./base-xform"),s=e("../../utils/xml-stream");n.exports=class extends o{constructor(c){super(),this._model=c}render(c){if(!this._xml){const a=new s;(function i(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(d=>{i(u,d)}),f.t&&u.writeText(f.t),u.closeNode()})(a,this._model),this._xml=a.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,l){const o=e("./text-xform"),s=e("./rich-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new s,t:new o}}get tag(){return"rPh"}render(a,i){if(a.openNode(this.tag,{sb:i.sb||0,eb:i.eb||0}),i&&i.hasOwnProperty("richText")&&i.richText){const{r:u}=this.map;i.richText.forEach(f=>{u.render(a,f)})}else i&&this.map.t.render(a,i.text);a.closeNode()}parseOpen(a){const{name:i}=a;return this.parser?(this.parser.parseOpen(a),!0):i===this.tag?(this.model={sb:parseInt(a.attributes.sb,10),eb:parseInt(a.attributes.eb,10)},!0):(this.parser=this.map[i],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let i=this.model.richText;i||(i=this.model.richText=[]),i.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,l){const o=e("./text-xform"),s=e("../style/font-xform"),c=e("../base-xform");class a extends c{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new o)}get fontXform(){return this._fontXform||(this._fontXform=new s(a.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}a.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=a},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,l){const o=e("./text-xform"),s=e("./rich-text-xform"),c=e("./phonetic-text-xform"),a=e("../base-xform");n.exports=class extends a{constructor(i){super(),this.model=i,this.map={r:new s,t:new o,rPh:new c}}get tag(){return"si"}render(i,u){i.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(i,f)}):this.map.t.render(i,""):u!=null&&this.map.t.render(i,u),i.closeNode()}parseOpen(i){const{name:u}=i;return this.parser?(this.parser.parseOpen(i),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(i),!0))}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),c=e("./shared-string-xform");n.exports=class extends s{constructor(a){super(),this.model=a||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(a){return this.model.values[a]}add(a){return a.richText?this.addRichText(a):this.addText(a)}addText(a){let i=this.hash[a];return i===void 0&&(i=this.hash[a]=this.model.values.length,this.model.values.push(a)),this.model.count++,i}addRichText(a){const i=this.sharedStringXform.toXml(a);let u=this.rich[i];return u===void 0&&(u=this.rich[i]=this.model.values.length,this.model.values.push(a)),this.model.count++,u}render(a,i){i=i||this._values,a.openXml(o.StdDocAttributes),a.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:i.count,uniqueCount:i.values.length});const u=this.sharedStringXform;i.values.forEach(f=>{u.render(a,f)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(a),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(a){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"t"}render(s,c){s.openNode("t"),/^\s|\n|\s$/.test(c)&&s.addAttribute("xml:space","preserve"),s.writeText(c),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,l){const o=e("../../../doc/enums"),s=e("../../../utils/utils"),c=e("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=s.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=s.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return o.ReadingOrder.LeftToRight;case"rtl":return o.ReadingOrder.RightToLeft;default:return}}},i={toXml(u){if(u=a.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=s.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends c{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let d=!1;function h(g,y){y&&(u.addAttribute(g,y),d=!0)}h("horizontal",a.horizontal(f.horizontal)),h("vertical",a.vertical(f.vertical)),h("wrapText",!!a.wrapText(f.wrapText)&&"1"),h("shrinkToFit",!!a.shrinkToFit(f.shrinkToFit)&&"1"),h("indent",a.indent(f.indent)),h("textRotation",i.toXml(f.textRotation)),h("readingOrder",a.readingOrder(f.readingOrder)),u.closeNode(),d?u.commit():u.rollback()}parseOpen(u){const f={};let d=!1;function h(g,y,p){g&&(f[y]=p,d=!0)}h(u.attributes.horizontal,"horizontal",u.attributes.horizontal),h(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),h(u.attributes.wrapText,"wrapText",s.parseBoolean(u.attributes.wrapText)),h(u.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(u.attributes.shrinkToFit)),h(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),h(u.attributes.textRotation,"textRotation",i.toModel(u.attributes.textRotation)),h(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,l){const o=e("../base-xform"),s=e("../../../utils/utils"),c=e("./color-xform");class a extends o{constructor(u){super(),this.name=u,this.map={color:new c}}get tag(){return this.name}render(u,f,d){const h=f&&f.color||d||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),h&&this.map.color.render(u,h)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return a.validStyleValues[u]}}a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((i,u)=>(i[u]=!0,i),{}),n.exports=class extends o{constructor(){super(),this.map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")}}render(i,u){const{color:f}=u;function d(h,g){h&&!h.color&&u.color&&(h={...h,color:u.color}),g.render(i,h,f)}i.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&i.addAttribute("diagonalUp","1"),u.diagonal.down&&i.addAttribute("diagonalDown","1")),d(u.left,this.map.left),d(u.right,this.map.right),d(u.top,this.map.top),d(u.bottom,this.map.bottom),d(u.diagonal,this.map.diagonal),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(i.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(i.attributes.diagonalDown),!0;default:return this.parser=this.map[i.name],!!this.parser&&(this.parser.parseOpen(i),!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;if(i==="border"){const u=this.model={},f=function(d,h,g){h&&(g&&Object.assign(h,g),u[d]=h)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,c){return!!c&&(s.openNode(this.name),c.argb?s.addAttribute("rgb",c.argb):c.theme!==void 0?(s.addAttribute("theme",c.theme),c.tint!==void 0&&s.addAttribute("tint",c.tint)):c.indexed!==void 0?s.addAttribute("indexed",c.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,l){const o=e("../base-xform"),s=e("./alignment-xform"),c=e("./border-xform"),a=e("./fill-xform"),i=e("./font-xform"),u=e("./numfmt-xform"),f=e("./protection-xform");n.exports=class extends o{constructor(){super(),this.map={alignment:new s,border:new c,fill:new a,font:new i,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,g)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,l){const o=e("../base-xform"),s=e("./color-xform");class c extends o{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class a extends o{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class i extends o{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(y=>{g.render(d,y)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends o{constructor(){super(),this.map={patternFill:new a,gradientFill:new i}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return u.validPatternValues[d]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,d)=>(f[d]=!0,f),{}),u.StopXform=c,u.PatternFillXform=a,u.GradientFillXform=i,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,l){const o=e("./color-xform"),s=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),a=e("../simple/string-xform"),i=e("./underline-xform"),u=e("../../../utils/under-dash"),f=e("../base-xform");class d extends f{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new i},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new o},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new a({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:p}=this;g.openNode(this.options.tagName),u.each(this.map,(b,m)=>{p[m].xform.render(g,y[b.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,l){const o=e("../../../utils/under-dash"),s=e("../../defaultnumformats"),c=e("../base-xform"),a=function(){const u={};return o.each(s,(f,d)=>{f.f&&(u[f.f]=parseInt(d,10))}),u}();class i extends c{constructor(f,d){super(),this.id=f,this.formatCode=d}get tag(){return"numFmt"}render(f,d){f.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}i.getDefaultFmtId=function(u){return a[u]},i.getDefaultFmtCode=function(u){return s[u]&&s[u].f},n.exports=i},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,l){const o=e("../base-xform"),s={boolean:(c,a)=>c===void 0?a:c};n.exports=class extends o{get tag(){return"protection"}render(c,a){c.addRollback(),c.openNode("protection");let i=!1;function u(f,d){d!==void 0&&(c.addAttribute(f,d),i=!0)}u("locked",s.boolean(a.locked,!0)?void 0:"0"),u("hidden",s.boolean(a.hidden,!1)?"1":void 0),c.closeNode(),i?c.commit():c.rollback()}parseOpen(c){const a={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},i=!a.locked||a.hidden;this.model=i?a:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,l){const o=e("../base-xform"),s=e("./alignment-xform"),c=e("./protection-xform");n.exports=class extends o{constructor(a){super(),this.xfId=!(!a||!a.xfId),this.map={alignment:new s,protection:new c}}get tag(){return"xf"}render(a,i){a.openNode("xf",{numFmtId:i.numFmtId||0,fontId:i.fontId||0,fillId:i.fillId||0,borderId:i.borderId||0}),this.xfId&&a.addAttribute("xfId",i.xfId||0),i.numFmtId&&a.addAttribute("applyNumberFormat","1"),i.fontId&&a.addAttribute("applyFont","1"),i.fillId&&a.addAttribute("applyFill","1"),i.borderId&&a.addAttribute("applyBorder","1"),i.alignment&&a.addAttribute("applyAlignment","1"),i.protection&&a.addAttribute("applyProtection","1"),i.alignment&&this.map.alignment.render(a,i.alignment),i.protection&&this.map.protection.render(a,i.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"xf":return this.model={numFmtId:parseInt(a.attributes.numFmtId,10),fontId:parseInt(a.attributes.fontId,10),fillId:parseInt(a.attributes.fillId,10),borderId:parseInt(a.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(a.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(a),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):a!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,l){const o=e("../../../doc/enums"),s=e("../../../utils/xml-stream"),c=e("../base-xform"),a=e("../static-xform"),i=e("../list-xform"),u=e("./font-xform"),f=e("./fill-xform"),d=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),y=e("./dxf-xform");class p extends c{constructor(m){super(),this.map={numFmts:new i({tag:"numFmts",count:!0,childXform:new h}),fonts:new i({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new i({tag:"fills",count:!0,childXform:new f}),borders:new i({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new i({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new i({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new i({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new h,font:new u,fill:new f,border:new d,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,S){S=S||this.model,m.openXml(s.StdDocAttributes),m.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(S.numFmts&&S.numFmts.length&&(m.openNode("numFmts",{count:S.numFmts.length}),S.numFmts.forEach(C=>{m.writeXml(C)}),m.closeNode()),S.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:S.fonts.length,"x14ac:knownFonts":1}),S.fonts.forEach(C=>{m.writeXml(C)}),m.closeNode(),m.openNode("fills",{count:S.fills.length}),S.fills.forEach(C=>{m.writeXml(C)}),m.closeNode(),m.openNode("borders",{count:S.borders.length}),S.borders.forEach(C=>{m.writeXml(C)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:S.styles.length}),S.styles.forEach(C=>{m.writeXml(C)}),m.closeNode()):(this.map.numFmts.render(m,S.numFmts),this.map.fonts.render(m,S.fonts),this.map.fills.render(m,S.fills),this.map.borders.render(m,S.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,S.styles)),p.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,S.dxfs),p.STATIC_XFORMS.tableStyles.render(m),p.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const S=(C,I)=>{I.model&&I.model.length&&(this.model[C]=I.model)};if(S("numFmts",this.map.numFmts),S("fonts",this.map.fonts),S("fills",this.map.fills),S("borders",this.map.borders),S("styles",this.map.cellXfs),S("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(I=>{C[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(m,S){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const C={};if(S=S||o.ValueType.Number,m.numFmt)C.numFmtId=this._addNumFmtStr(m.numFmt);else switch(S){case o.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case o.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(C.fontId=this._addFont(m.font)),m.border&&(C.borderId=this._addBorder(m.border)),m.fill&&(C.fillId=this._addFill(m.fill)),m.alignment&&(C.alignment=m.alignment),m.protection&&(C.protection=m.protection);const I=this._addStyle(C);return this.weakMap&&this.weakMap.set(m,I),I}getStyleModel(m){const S=this.model.styles[m];if(!S)return null;let C=this.index.model[m];if(C)return C;if(C=this.index.model[m]={},S.numFmtId){const P=this.index.numFmt[S.numFmtId]||h.getDefaultFmtCode(S.numFmtId);P&&(C.numFmt=P)}function I(P,L,j){if(j||j===0){const B=L[j];B&&(C[P]=B)}}return I("font",this.model.fonts,S.fontId),I("border",this.model.borders,S.borderId),I("fill",this.model.fills,S.fillId),S.alignment&&(C.alignment=S.alignment),S.protection&&(C.protection=S.protection),C}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const S=this.map.style.toXml(m);let C=this.index.style[S];return C===void 0&&(C=this.index.style[S]=this.model.styles.length,this.model.styles.push(S)),C}_addNumFmtStr(m){let S=h.getDefaultFmtId(m);if(S!==void 0||(S=this.index.numFmt[m],S!==void 0))return S;S=this.index.numFmt[m]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:S,formatCode:m});return this.model.numFmts.push(C),S}_addFont(m){const S=this.map.font.toXml(m);let C=this.index.font[S];return C===void 0&&(C=this.index.font[S]=this.model.fonts.length,this.model.fonts.push(S)),C}_addBorder(m){const S=this.map.border.toXml(m);let C=this.index.border[S];return C===void 0&&(C=this.index.border[S]=this.model.borders.length,this.model.borders.push(S)),C}_addFill(m){const S=this.map.fill.toXml(m);let C=this.index.fill[S];return C===void 0&&(C=this.index.fill[S]=this.model.fills.length,this.model.fills.push(S)),C}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(b){return b.autodrain(),Promise.resolve()}addStyleModel(b,m){switch(m){case o.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const b={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(b)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,l){const o=e("../base-xform");class s extends o{constructor(a){super(),this.model=a}get tag(){return"u"}render(a,i){if((i=i||this.model)===!0)a.leafNode("u");else{const u=s.Attributes[i];u&&a.leafNode("u",u)}}parseOpen(a){a.name==="u"&&(this.model=a.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(e,n,l){const o=e("../base-xform"),s=e("./filter-column-xform");n.exports=class extends o{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((a,i)=>{this.map.filterColumn.prepare(a,{index:i})})}render(c,a){return c.openNode(this.tag,{ref:a.autoFilterRef}),a.columns.forEach(i=>{this.map.filterColumn.render(c,i)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"customFilter"}render(s,c){s.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,l){const o=e("../base-xform"),s=e("../list-xform"),c=e("./custom-filter-xform"),a=e("./filter-xform");n.exports=class extends o{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new a})}}get tag(){return"filterColumn"}prepare(i,u){i.colId=u.index.toString()}render(i,u){return u.customFilters?(i.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(i,u.customFilters),i.closeNode(),!0):(i.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;const{attributes:u}=i;switch(i.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[i.name],this.parser)return this.parseOpen(i),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"filter"}render(s,c){s.leafNode(this.tag,{val:c.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"tableColumn"}prepare(s,c){s.id=c.index+1}render(s,c){return s.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:c}=s;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,l){const o=e("../base-xform");n.exports=class extends o{get tag(){return"tableStyleInfo"}render(s,c){return s.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:c}=s;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),c=e("../list-xform"),a=e("./auto-filter-xform"),i=e("./table-column-xform"),u=e("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new a,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new i}),tableStyleInfo:new u}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(o.StdDocAttributes),h.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:y}=h;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,l){(function(o,s){(function(){const c=e("fs"),a=e("jszip"),{PassThrough:i}=e("readable-stream"),u=e("../utils/zip-stream"),f=e("../utils/stream-buf"),d=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),b=e("./xform/strings/shared-strings-xform"),m=e("./xform/core/relationships-xform"),S=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),I=e("./xform/book/workbook-xform"),P=e("./xform/sheet/worksheet-xform"),L=e("./xform/drawing/drawing-xform"),j=e("./xform/table/table-xform"),B=e("./xform/comment/comments-xform"),z=e("./xform/comment/vml-notes-xform"),U=e("./xml/theme1");class H{constructor(A){this.workbook=A}async readFile(A,k){if(!await d.fs.exists(A))throw new Error("File not found: "+A);const v=c.createReadStream(A);try{const x=await this.read(v,k);return v.close(),x}catch(x){throw v.close(),x}}parseRels(A){return new m().parseStream(A)}parseWorkbook(A){return new I().parseStream(A)}parseSharedStrings(A){return new b().parseStream(A)}reconcile(A,k){const v=new I,x=new P(k),w=new L,_=new j;v.reconcile(A);const E={media:A.media,mediaIndex:A.mediaIndex};Object.keys(A.drawings).forEach(W=>{const V=A.drawings[W],X=A.drawingRels[W];X&&(E.rels=X.reduce((D,K)=>(D[K.Id]=K,D),{}),(V.anchors||[]).forEach(D=>{const K=D.picture&&D.picture.hyperlinks;K&&E.rels[K.rId]&&(K.hyperlink=E.rels[K.rId].Target,delete K.rId)}),w.reconcile(V,E))});const R={styles:A.styles};Object.values(A.tables).forEach(W=>{_.reconcile(W,R)});const O={styles:A.styles,sharedStrings:A.sharedStrings,media:A.media,mediaIndex:A.mediaIndex,date1904:A.properties&&A.properties.date1904,drawings:A.drawings,comments:A.comments,tables:A.tables,vmlDrawings:A.vmlDrawings};A.worksheets.forEach(W=>{W.relationships=A.worksheetRels[W.sheetNo],x.reconcile(W,O)}),delete A.worksheetHash,delete A.worksheetRels,delete A.globalRels,delete A.sharedStrings,delete A.workbookRels,delete A.sheetDefs,delete A.styles,delete A.mediaIndex,delete A.drawings,delete A.drawingRels,delete A.vmlDrawings}async _processWorksheetEntry(A,k,v,x,w){const _=new P(x),E=await _.parseStream(A);E.sheetNo=v,k.worksheetHash[w]=E,k.worksheets.push(E)}async _processCommentEntry(A,k,v){const x=new B,w=await x.parseStream(A);k.comments[`../${v}.xml`]=w}async _processTableEntry(A,k,v){const x=new j,w=await x.parseStream(A);k.tables[`../tables/${v}.xml`]=w}async _processWorksheetRelsEntry(A,k,v){const x=new m,w=await x.parseStream(A);k.worksheetRels[v]=w}async _processMediaEntry(A,k,v){const x=v.lastIndexOf(".");if(x>=1){const w=v.substr(x+1),_=v.substr(0,x);await new Promise((E,R)=>{const O=new f;O.on("finish",()=>{k.mediaIndex[v]=k.media.length,k.mediaIndex[_]=k.media.length;const W={type:"image",name:_,extension:w,buffer:O.toBuffer()};k.media.push(W),E()}),A.on("error",W=>{R(W)}),A.pipe(O)})}}async _processDrawingEntry(A,k,v){const x=new L,w=await x.parseStream(A);k.drawings[v]=w}async _processDrawingRelsEntry(A,k,v){const x=new m,w=await x.parseStream(A);k.drawingRels[v]=w}async _processVmlDrawingEntry(A,k,v){const x=new z,w=await x.parseStream(A);k.vmlDrawings[`../drawings/${v}.vml`]=w}async _processThemeEntry(A,k,v){await new Promise((x,w)=>{const _=new f;A.on("error",w),_.on("error",w),_.on("finish",()=>{k.themes[v]=_.read().toString(),x()}),A.pipe(_)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(A,k){!A[Symbol.asyncIterator]&&A.pipe&&(A=A.pipe(new i));const v=[];for await(const x of A)v.push(x);return this.load(s.concat(v),k)}async load(A,k){let v;v=k&&k.base64?s.from(A.toString(),"base64"):A;const x={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await a.loadAsync(v);for(const _ of Object.values(w.files))if(!_.dir){let E,R=_.name;if(R[0]==="/"&&(R=R.substr(1)),R.match(/xl\/media\//)||R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))E=new i,E.write(await _.async("nodebuffer"));else{let O;E=new i({writableObjectMode:!0,readableObjectMode:!0}),O=o.browser?g(await _.async("nodebuffer")):await _.async("string");const W=16384;for(let V=0;V<O.length;V+=W)E.write(O.substring(V,V+W))}switch(E.end(),R){case"_rels/.rels":x.globalRels=await this.parseRels(E);break;case"xl/workbook.xml":{const O=await this.parseWorkbook(E);x.sheets=O.sheets,x.definedNames=O.definedNames,x.views=O.views,x.properties=O.properties,x.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":x.workbookRels=await this.parseRels(E);break;case"xl/sharedStrings.xml":x.sharedStrings=new b,await x.sharedStrings.parseStream(E);break;case"xl/styles.xml":x.styles=new y,await x.styles.parseStream(E);break;case"docProps/app.xml":{const O=new C,W=await O.parseStream(E);x.company=W.company,x.manager=W.manager;break}case"docProps/core.xml":{const O=new p,W=await O.parseStream(E);Object.assign(x,W);break}default:{let O=R.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){await this._processWorksheetEntry(E,x,O[1],k,R);break}if(O=R.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){await this._processWorksheetRelsEntry(E,x,O[1]);break}if(O=R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){await this._processThemeEntry(E,x,O[1]);break}if(O=R.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){await this._processMediaEntry(E,x,O[1]);break}if(O=R.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){await this._processDrawingEntry(E,x,O[1]);break}if(O=R.match(/xl\/(comments\d+)[.]xml/),O){await this._processCommentEntry(E,x,O[1]);break}if(O=R.match(/xl\/tables\/(table\d+)[.]xml/),O){await this._processTableEntry(E,x,O[1]);break}if(O=R.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){await this._processDrawingRelsEntry(E,x,O[1]);break}if(O=R.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){await this._processVmlDrawingEntry(E,x,O[1]);break}}}}return this.reconcile(x,k),this.workbook.model=x,this.workbook}async addMedia(A,k){await Promise.all(k.media.map(async v=>{if(v.type==="image"){const x=`xl/media/${v.name}.${v.extension}`;if(v.filename){const w=await function(_,E){return new Promise((R,O)=>{c.readFile(_,E,(W,V)=>{W?O(W):R(V)})})}(v.filename);return A.append(w,{name:x})}if(v.buffer)return A.append(v.buffer,{name:x});if(v.base64){const w=v.base64,_=w.substring(w.indexOf(",")+1);return A.append(_,{name:x,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(A,k){const v=new L,x=new m;k.worksheets.forEach(w=>{const{drawing:_}=w;if(_){v.prepare(_,{});let E=v.toXml(_);A.append(E,{name:`xl/drawings/${_.name}.xml`}),E=x.toXml(_.rels),A.append(E,{name:`xl/drawings/_rels/${_.name}.xml.rels`})}})}addTables(A,k){const v=new j;k.worksheets.forEach(x=>{const{tables:w}=x;w.forEach(_=>{v.prepare(_,{});const E=v.toXml(_);A.append(E,{name:"xl/tables/"+_.target})})})}async addContentTypes(A,k){const v=new S().toXml(k);A.append(v,{name:"[Content_Types].xml"})}async addApp(A,k){const v=new C().toXml(k);A.append(v,{name:"docProps/app.xml"})}async addCore(A,k){const v=new p;A.append(v.toXml(k),{name:"docProps/core.xml"})}async addThemes(A,k){const v=k.themes||{theme1:U};Object.keys(v).forEach(x=>{const w=v[x],_=`xl/theme/${x}.xml`;A.append(w,{name:_})})}async addOfficeRels(A){const k=new m().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);A.append(k,{name:"_rels/.rels"})}async addWorkbookRels(A,k){let v=1;const x=[{Id:"rId"+v++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&x.push({Id:"rId"+v++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(_=>{_.rId="rId"+v++,x.push({Id:_.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${_.id}.xml`})});const w=new m().toXml(x);A.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(A,k){k.sharedStrings&&k.sharedStrings.count&&A.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(A,k){const{xml:v}=k.styles;v&&A.append(v,{name:"xl/styles.xml"})}async addWorkbook(A,k){const v=new I;A.append(v.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(A,k){const v=new P,x=new m,w=new B,_=new z;k.worksheets.forEach(E=>{let R=new h;v.render(R,E),A.append(R.xml,{name:`xl/worksheets/sheet${E.id}.xml`}),E.rels&&E.rels.length&&(R=new h,x.render(R,E.rels),A.append(R.xml,{name:`xl/worksheets/_rels/sheet${E.id}.xml.rels`})),E.comments.length>0&&(R=new h,w.render(R,E),A.append(R.xml,{name:`xl/comments${E.id}.xml`}),R=new h,_.render(R,E),A.append(R.xml,{name:`xl/drawings/vmlDrawing${E.id}.vml`}))})}_finalize(A){return new Promise((k,v)=>{A.on("finish",()=>{k(this)}),A.on("error",v),A.finalize()})}prepareModel(A,k){A.creator=A.creator||"ExcelJS",A.lastModifiedBy=A.lastModifiedBy||"ExcelJS",A.created=A.created||new Date,A.modified=A.modified||new Date,A.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,A.useStyles=k.useStyles===void 0||k.useStyles,A.sharedStrings=new b,A.styles=A.useStyles?new y(!0):new y.Mock;const v=new I,x=new P;v.prepare(A);const w={sharedStrings:A.sharedStrings,styles:A.styles,date1904:A.properties.date1904,drawingsCount:0,media:A.media};w.drawings=A.drawings=[],w.commentRefs=A.commentRefs=[];let _=0;A.tables=[],A.worksheets.forEach(E=>{E.tables.forEach(R=>{_++,R.target=`table${_}.xml`,R.id=_,A.tables.push(R)}),x.prepare(E,w)})}async write(A,k){k=k||{};const{model:v}=this.workbook,x=new u.ZipWriter(k.zip);return x.pipe(A),this.prepareModel(v,k),await this.addContentTypes(x,v),await this.addOfficeRels(x,v),await this.addWorkbookRels(x,v),await this.addWorksheets(x,v),await this.addSharedStrings(x,v),await this.addDrawings(x,v),await this.addTables(x,v),await Promise.all([this.addThemes(x,v),this.addStyles(x,v)]),await this.addMedia(x,v),await Promise.all([this.addApp(x,v),this.addCore(x,v)]),await this.addWorkbook(x,v),this._finalize(x)}writeFile(A,k){const v=c.createWriteStream(A);return new Promise((x,w)=>{v.on("finish",()=>{x()}),v.on("error",_=>{w(_)}),this.write(v,k).then(()=>{v.end()}).catch(_=>{w(_)})})}async writeBuffer(A){const k=new f;return await this.write(k,A),k.read()}}H.RelType=e("./rel-type"),n.exports=H}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,l){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,l){(function(o){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvFormatterStream=void 0;const s=e("stream"),c=e("./formatter");class a extends s.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new c.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,y)=>g?(h=!0,d(g)):(y&&y.forEach(p=>{this.push(o.from(p,"utf8"))}),h=!0,d()))}catch(g){if(h)throw g;d(g)}}_flush(u){this.rowFormatter.finish((f,d)=>f?u(f):(d&&d.forEach(h=>{this.push(o.from(h,"utf8"))}),u()))}}l.CsvFormatterStream=a}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FormatterOptions=void 0,l.FormatterOptions=class{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,o||{}),(o==null?void 0:o.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(o==null?void 0:o.quote)===!0?this.quote='"':(o==null?void 0:o.quote)===!1&&(this.quote=""),typeof(o==null?void 0:o.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=o.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,l){var o=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=void 0;const s=o(e("lodash.isboolean")),c=o(e("lodash.isnil")),a=o(e("lodash.escaperegexp"));l.FieldFormatter=class{constructor(i){this._headers=null,this.formatterOptions=i,i.headers!==null&&(this.headers=i.headers),this.REPLACE_REGEXP=new RegExp(i.quote,"g");const u=`[${i.delimiter}${a.default(i.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(i){this._headers=i}shouldQuote(i,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[i]:this._headers!==null&&f[this._headers[i]]}format(i,u,f){const d=(""+(c.default(i)?"":i)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(d):d}quoteField(i){const{quote:u}=this.formatterOptions;return`${u}${i}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,l){var o=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowFormatter=void 0;const s=o(e("lodash.isfunction")),c=o(e("lodash.isequal")),a=e("./FieldFormatter"),i=e("../types");class u{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new a.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return u.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return i.isSyncTransform(d)?(h,g)=>{let y=null;try{y=d(h)}catch(p){return g(p)}return g(null,y)}:(h,g)=>{d(h,g)}}set rowTransform(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}format(d,h){this.callTransformer(d,(g,y)=>{if(g)return h(g);if(!d)return h(null);const p=[];if(y){const{shouldFormatColumns:b,headers:m}=this.checkHeaders(y);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),b){const S=this.gatherColumns(y);p.push(this.formatColumns(S,!1))}}return h(null,p)})}finish(d){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=u.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?u.isRowHashArray(d)?this.headers.map((h,g)=>{const y=d[g];return y?y[1]:""}):u.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,g)=>d[g]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){const g=d.map((p,b)=>this.fieldFormatter.format(p,b,h)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}l.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=l.RowFormatter=void 0;var o=e("./RowFormatter");Object.defineProperty(l,"RowFormatter",{enumerable:!0,get:function(){return o.RowFormatter}});var s=e("./FieldFormatter");Object.defineProperty(l,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,l){(function(o){(function(){var s=Object.create?function(b,m,S,C){C===void 0&&(C=S),Object.defineProperty(b,C,{enumerable:!0,get:function(){return m[S]}})}:function(b,m,S,C){C===void 0&&(C=S),b[C]=m[S]},c=Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m},a=function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var S in b)S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)&&s(m,b,S);return c(m,b),m},i=function(b,m){for(var S in b)S==="default"||Object.prototype.hasOwnProperty.call(m,S)||s(m,b,S)};Object.defineProperty(l,"__esModule",{value:!0}),l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=l.FormatterOptions=l.CsvFormatterStream=void 0;const u=e("util"),f=e("stream"),d=a(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");i(e("./types"),l);var y=e("./CsvFormatterStream");Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),l.format=b=>new g.CsvFormatterStream(new h.FormatterOptions(b)),l.write=(b,m)=>{const S=l.format(m),C=u.promisify((I,P)=>{S.write(I,void 0,P)});return b.reduce((I,P)=>I.then(()=>C(P)),Promise.resolve()).then(()=>S.end()).catch(I=>{S.emit("error",I)}),S},l.writeToStream=(b,m,S)=>l.write(m,S).pipe(b),l.writeToBuffer=function(b){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const S=[],C=new f.Writable({write(I,P,L){S.push(I),L()}});return new Promise((I,P)=>{C.on("error",P).on("finish",()=>I(o.concat(S))),l.write(b,m).pipe(C)})},l.writeToString=(b,m)=>l.writeToBuffer(b,m).then(S=>S.toString()),l.writeToPath=(b,m,S)=>{const C=d.createWriteStream(b,{encoding:"utf8"});return l.write(m,S).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncTransform=void 0,l.isSyncTransform=o=>o.length===1},{}],153:[function(e,n,l){(function(o){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=void 0;const s=e("string_decoder"),c=e("stream"),a=e("./transforms"),i=e("./parser");class u extends c.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new i.Parser(d),this.headerTransformer=new a.HeaderTransformer(d),this.decoder=new s.StringDecoder(d.encoding),this.rowTransformerValidator=new a.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return super.emit(d,...g)}_transform(d,h,g){if(this.hasHitRowLimit)return g();const y=u.wrapDoneCallback(g);try{const{lines:p}=this,b=p+this.decoder.write(d),m=this.parse(b,!0);return this.processRows(m,y)}catch(p){return y(p)}}_flush(d){const h=u.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,h)}catch(g){return h(g)}}parse(d,h){if(!d)return[];const{line:g,rows:y}=this.parser.parse(d,h);return this.lines=g,y}processRows(d,h){const g=d.length,y=p=>{const b=C=>C?h(C):p%100!=0?y(p+1):void o(()=>y(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return b();const m=d[p];this.rowCount+=1,this.parsedRowCount+=1;const S=this.rowCount;return this.transformRow(m,(C,I)=>{if(C)return this.rowCount-=1,b(C);if(!I)return b(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,b)}else this.emit("data-invalid",I.row,S,I.reason);return b()})};y(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(g,y)=>g?h(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(g){h(g)}}static wrapDoneCallback(d){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void d(g)}for(var y=arguments.length,p=new Array(y>1?y-1:0),b=1;b<y;b++)p[b-1]=arguments[b];d(...p)}}}l.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,l){var o=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.ParserOptions=void 0;const s=o(e("lodash.escaperegexp")),c=o(e("lodash.isnil"));l.ParserOptions=class{constructor(a){var i;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,a||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(i=this.escape)!==null&&i!==void 0?i:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,l){var o=Object.create?function(y,p,b,m){m===void 0&&(m=b),Object.defineProperty(y,m,{enumerable:!0,get:function(){return p[b]}})}:function(y,p,b,m){m===void 0&&(m=b),y[m]=p[b]},s=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},c=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&o(p,y,b);return s(p,y),p},a=function(y,p){for(var b in y)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||o(p,y,b)};Object.defineProperty(l,"__esModule",{value:!0}),l.parseString=l.parseFile=l.parseStream=l.parse=l.ParserOptions=l.CsvParserStream=void 0;const i=c(e("fs")),u=e("stream"),f=e("./ParserOptions"),d=e("./CsvParserStream");a(e("./types"),l);var h=e("./CsvParserStream");Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),l.parse=y=>new d.CsvParserStream(new f.ParserOptions(y)),l.parseStream=(y,p)=>y.pipe(new d.CsvParserStream(new f.ParserOptions(p))),l.parseFile=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.createReadStream(y).pipe(new d.CsvParserStream(new f.ParserOptions(p)))},l.parseString=(y,p)=>{const b=new u.Readable;return b.push(y),b.push(null),b.pipe(new d.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;const o=e("./Scanner"),s=e("./RowParser"),c=e("./Token");class a{constructor(u){this.parserOptions=u,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const d=new o.Scanner({line:a.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(u){const f=[];let d=!0;for(;d;)d=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,d=[];for(let h=u.nextCharacterToken;h!==null;h=u.nextCharacterToken)if(c.Token.isTokenComment(h,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:d};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:d};u.truncateToCursor()}else if(!this.parseRow(u,d))break;return{line:u.line,rows:d}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const d=this.rowParser.parse(u);return d!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(d)||f.push(d),!0)}}l.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.RowParser=void 0;const o=e("./column"),s=e("./Token");l.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new o.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:a}=this,{hasMoreData:i}=c,u=c,f=[];let d=this.getStartToken(u,f);for(;d;){if(s.Token.isTokenRowDelimiter(d))return u.advancePastToken(d),!u.hasMoreCharacters&&s.Token.isTokenCarriageReturn(d,a)&&i?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,d,f)){const h=this.columnParser.parse(u);if(h===null)return null;f.push(h)}d=u.nextNonSpaceToken}return i?null:(u.truncateToCursor(),f)}getStartToken(c,a){const i=c.nextNonSpaceToken;return i!==null&&s.Token.isTokenDelimiter(i,this.parserOptions)?(a.push(""),c.nextNonSpaceToken):i}shouldSkipColumnParse(c,a,i){const{parserOptions:u}=this;if(s.Token.isTokenDelimiter(a,u)){c.advancePastToken(a);const f=c.nextCharacterToken;if(!c.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,u))return i.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Scanner=void 0;const o=e("./Token"),s=/((?:\r\n)|\n|\r)/;l.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,a=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(a)===-1)return null;const i=a.exec(c);if(i==null)return null;const u=i[1],f=this.cursor+(i.index||0);return new o.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:a}=this;return a<=c?null:new o.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=s.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Token=void 0,l.Token=class{constructor(o){this.token=o.token,this.startCursor=o.startCursor,this.endCursor=o.endCursor}static isTokenRowDelimiter(o){const s=o.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(o,s){return o.token===s.carriageReturn}static isTokenComment(o,s){return s.supportsComments&&!!o&&o.token===s.comment}static isTokenEscapeCharacter(o,s){return o.token===s.escapeChar}static isTokenQuote(o,s){return o.token===s.quote}static isTokenDelimiter(o,s){return o.token===s.delimiter}}},{}],160:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=void 0,l.ColumnFormatter=class{constructor(o){o.trim?this.format=s=>s.trim():o.ltrim?this.format=s=>s.trimLeft():o.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnParser=void 0;const o=e("./NonQuotedColumnParser"),s=e("./QuotedColumnParser"),c=e("../Token");l.ColumnParser=class{constructor(a){this.parserOptions=a,this.quotedColumnParser=new s.QuotedColumnParser(a),this.nonQuotedColumnParser=new o.NonQuotedColumnParser(a)}parse(a){const{nextNonSpaceToken:i}=a;return i!==null&&c.Token.isTokenQuote(i,this.parserOptions)?(a.advanceToToken(i),this.quotedColumnParser.parse(a)):this.nonQuotedColumnParser.parse(a)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.NonQuotedColumnParser=void 0;const o=e("./ColumnFormatter"),s=e("../Token");l.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new o.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:a}=this,i=[];let u=c.nextCharacterToken;for(;u&&!s.Token.isTokenDelimiter(u,a)&&!s.Token.isTokenRowDelimiter(u);u=c.nextCharacterToken)i.push(u.token),c.advancePastToken(u);return this.columnFormatter.format(i.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=void 0;const o=e("./ColumnFormatter"),s=e("../Token");l.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new o.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const a=c.cursor,{foundClosingQuote:i,col:u}=this.gatherDataBetweenQuotes(c);if(!i){if(c.advanceTo(a),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),u}gatherDataBetweenQuotes(c){const{parserOptions:a}=this;let i=!1,u=!1;const f=[];let d=c.nextCharacterToken;for(;!u&&d!==null;d=c.nextCharacterToken){const h=s.Token.isTokenQuote(d,a);if(!i&&h)i=!0;else if(i)if(s.Token.isTokenEscapeCharacter(d,a)){c.advancePastToken(d);const g=c.nextCharacterToken;g!==null&&(s.Token.isTokenQuote(g,a)||s.Token.isTokenEscapeCharacter(g,a))?(f.push(g.token),d=g):h?u=!0:f.push(d.token)}else h?u=!0:f.push(d.token);c.advancePastToken(d)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(c){const{parserOptions:a}=this,{nextNonSpaceToken:i}=c;if(i){const u=s.Token.isTokenDelimiter(i,a),f=s.Token.isTokenRowDelimiter(i);if(!u&&!f){const d=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${a.escapedDelimiter}' OR new line got: '${i.token}'. at '${d}`)}c.advanceToToken(i)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=void 0;var o=e("./ColumnParser");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}});var s=e("./NonQuotedColumnParser");Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var a=e("./ColumnFormatter");Object.defineProperty(l,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=l.Token=l.Scanner=l.RowParser=l.Parser=void 0;var o=e("./Parser");Object.defineProperty(l,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=e("./RowParser");Object.defineProperty(l,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var c=e("./Scanner");Object.defineProperty(l,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var a=e("./Token");Object.defineProperty(l,"Token",{enumerable:!0,get:function(){return a.Token}});var i=e("./column");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}}),Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}}),Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return i.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,l){var o=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=void 0;const s=o(e("lodash.isundefined")),c=o(e("lodash.isfunction")),a=o(e("lodash.uniq")),i=o(e("lodash.groupby"));l.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):c.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:d,headersLength:h}=this;for(let g=0;g<h;g+=1){const y=d[g];if(!s.default(y)){const p=u[g];s.default(p)?f[y]="":f[y]=p}}return f}setHeaders(u){var f;const d=u.filter(h=>!!h);if(a.default(d).length!==d.length){const h=i.default(d),g=Object.keys(h).filter(y=>h[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,l){var o=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowTransformerValidator=void 0;const s=o(e("lodash.isfunction")),c=e("../types");class a{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return c.isSyncTransform(u)?(f,d)=>{let h=null;try{h=u(f)}catch(g){return d(g)}return d(null,h)}:u}static createValidator(u){return c.isSyncValidate(u)?(f,d)=>{d(null,{row:f,isValid:u(f)})}:(f,d)=>{u(f,(h,g,y)=>h?d(h):d(null,g?{row:f,isValid:g,reason:y}:{row:f,isValid:!1,reason:y}))}}set rowTransform(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=a.createTransform(u)}set rowValidator(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=a.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(d,h)=>d?f(d):h?this.callValidator(h,(g,y)=>g?f(g):y&&!y.isValid?f(null,{row:h,isValid:!1,reason:y.reason}):f(null,{row:h,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}l.RowTransformerValidator=a},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=l.RowTransformerValidator=void 0;var o=e("./RowTransformerValidator");Object.defineProperty(l,"RowTransformerValidator",{enumerable:!0,get:function(){return o.RowTransformerValidator}});var s=e("./HeaderTransformer");Object.defineProperty(l,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncValidate=l.isSyncTransform=void 0,l.isSyncTransform=o=>o.length===1,l.isSyncValidate=o=>o.length===1},{}],170:[function(e,n,l){const o=l;o.bignum=e("bn.js"),o.define=e("./asn1/api").define,o.base=e("./asn1/base"),o.constants=e("./asn1/constants"),o.decoders=e("./asn1/decoders"),o.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,l){const o=e("./encoders"),s=e("./decoders"),c=e("inherits");function a(i,u){this.name=i,this.body=u,this.decoders={},this.encoders={}}l.define=function(i,u){return new a(i,u)},a.prototype._createNamed=function(i){const u=this.name;function f(d){this._initNamed(d,u)}return c(f,i),f.prototype._initNamed=function(d,h){i.call(this,d,h)},new f(this)},a.prototype._getDecoder=function(i){return i=i||"der",this.decoders.hasOwnProperty(i)||(this.decoders[i]=this._createNamed(s[i])),this.decoders[i]},a.prototype.decode=function(i,u,f){return this._getDecoder(u).decode(i,f)},a.prototype._getEncoder=function(i){return i=i||"der",this.encoders.hasOwnProperty(i)||(this.encoders[i]=this._createNamed(o[i])),this.encoders[i]},a.prototype.encode=function(i,u,f){return this._getEncoder(u).encode(i,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,l){const o=e("inherits"),s=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function a(u,f){s.call(this,f),c.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function i(u,f){if(Array.isArray(u))this.length=0,this.value=u.map(function(d){return i.isEncoderBuffer(d)||(d=new i(d,f)),this.length+=d.length,d},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=c.byteLength(u);else{if(!c.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}o(a,s),l.DecoderBuffer=a,a.isDecoderBuffer=function(u){return u instanceof a?!0:typeof u=="object"&&c.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},a.prototype.restore=function(u){const f=new a(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,s.prototype.restore.call(this,u.reporter),f},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},a.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const d=new a(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+u,this.offset+=u,d},a.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},l.EncoderBuffer=i,i.isEncoderBuffer=function(u){return u instanceof i?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},i.prototype.join=function(u,f){return u||(u=c.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(u,f),f+=d.length}):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):c.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,l){const o=l;o.Reporter=e("./reporter").Reporter,o.DecoderBuffer=e("./buffer").DecoderBuffer,o.EncoderBuffer=e("./buffer").EncoderBuffer,o.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,l){const o=e("../base/reporter").Reporter,s=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,a=e("minimalistic-assert"),i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(i);function f(h,g,y){const p={};this._baseState=p,p.name=y,p.enc=h,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=f;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const h=this._baseState,g={};d.forEach(function(p){g[p]=h[p]});const y=new this.constructor(g.parent);return y._baseState=g,y},f.prototype._wrap=function(){const h=this._baseState;u.forEach(function(g){this[g]=function(){const y=new this.constructor(this);return h.children.push(y),y[g].apply(y,arguments)}},this)},f.prototype._init=function(h){const g=this._baseState;a(g.parent===null),h.call(this),g.children=g.children.filter(function(y){return y._baseState.parent===this},this),a.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(h){const g=this._baseState,y=h.filter(function(p){return p instanceof this.constructor},this);h=h.filter(function(p){return!(p instanceof this.constructor)},this),y.length!==0&&(a(g.children===null),g.children=y,y.forEach(function(p){p._baseState.parent=this},this)),h.length!==0&&(a(g.args===null),g.args=h,g.reverseArgs=h.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const b={};return Object.keys(p).forEach(function(m){m==(0|m)&&(m|=0);const S=p[m];b[S]=m}),b}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){f.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),i.forEach(function(h){f.prototype[h]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return a(g.tag===null),g.tag=h,this._useArgs(y),this}}),f.prototype.use=function(h){a(h);const g=this._baseState;return a(g.use===null),g.use=h,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(h){const g=this._baseState;return a(g.default===null),g.default=h,g.optional=!0,this},f.prototype.explicit=function(h){const g=this._baseState;return a(g.explicit===null&&g.implicit===null),g.explicit=h,this},f.prototype.implicit=function(h){const g=this._baseState;return a(g.explicit===null&&g.implicit===null),g.implicit=h,this},f.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(h){const g=this._baseState;return a(g.key===null),g.key=h,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(h){const g=this._baseState;return a(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map(function(y){return h[y]})),this},f.prototype.contains=function(h){const g=this._baseState;return a(g.use===null),g.contains=h,this},f.prototype._decode=function(h,g){const y=this._baseState;if(y.parent===null)return h.wrapResult(y.children[0]._decode(h,g));let p,b=y.default,m=!0,S=null;if(y.key!==null&&(S=h.enterKey(y.key)),y.optional){let C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C!==null||y.any){if(m=this._peekTag(h,C,y.any),h.isError(m))return m}else{const I=h.save();try{y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g),m=!0}catch{m=!1}h.restore(I)}}if(y.obj&&m&&(p=h.enterObject()),m){if(y.explicit!==null){const I=this._decodeTag(h,y.explicit);if(h.isError(I))return I;h=I}const C=h.offset;if(y.use===null&&y.choice===null){let I;y.any&&(I=h.save());const P=this._decodeTag(h,y.implicit!==null?y.implicit:y.tag,y.any);if(h.isError(P))return P;y.any?b=h.raw(I):h=P}if(g&&g.track&&y.tag!==null&&g.track(h.path(),C,h.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),y.any||(b=y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g)),h.isError(b))return b;if(y.any||y.choice!==null||y.children===null||y.children.forEach(function(I){I._decode(h,g)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const I=new c(b);b=this._getUse(y.contains,h._reporterState.obj)._decode(I,g)}}return y.obj&&m&&(b=h.leaveObject(p)),y.key===null||b===null&&m!==!0?S!==null&&h.exitKey(S):h.leaveKey(S,y.key,b),b},f.prototype._decodeGeneric=function(h,g,y){const p=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,p.args[0],y):/str$/.test(h)?this._decodeStr(g,h,y):h==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],y):h==="objid"?this._decodeObjid(g,null,null,y):h==="gentime"||h==="utctime"?this._decodeTime(g,h,y):h==="null_"?this._decodeNull(g,y):h==="bool"?this._decodeBool(g,y):h==="objDesc"?this._decodeStr(g,h,y):h==="int"||h==="enum"?this._decodeInt(g,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+h)},f.prototype._getUse=function(h,g){const y=this._baseState;return y.useDecoder=this._use(h,g),a(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},f.prototype._decodeChoice=function(h,g){const y=this._baseState;let p=null,b=!1;return Object.keys(y.choice).some(function(m){const S=h.save(),C=y.choice[m];try{const I=C._decode(h,g);if(h.isError(I))return!1;p={type:m,value:I},b=!0}catch{return h.restore(S),!1}return!0},this),b?p:h.error("Choice not matched")},f.prototype._createEncoderBuffer=function(h){return new s(h,this.reporter)},f.prototype._encode=function(h,g,y){const p=this._baseState;if(p.default!==null&&p.default===h)return;const b=this._encodeValue(h,g,y);return b===void 0||this._skipDefault(b,g,y)?void 0:b},f.prototype._encodeValue=function(h,g,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(h,g||new o);let b=null;if(this.reporter=g,p.optional&&h===void 0){if(p.default===null)return;h=p.default}let m=null,S=!1;if(p.any)b=this._createEncoderBuffer(h);else if(p.choice)b=this._encodeChoice(h,g);else if(p.contains)m=this._getUse(p.contains,y)._encode(h,g),S=!0;else if(p.children)m=p.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,g,h);if(C._baseState.key===null)return g.error("Child should have a key");const I=g.enterKey(C._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const P=C._encode(h[C._baseState.key],g,h);return g.leaveKey(I),P},this).filter(function(C){return C}),m=this._createEncoderBuffer(m);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,m=this._createEncoderBuffer(h.map(function(I){const P=this._baseState;return this._getUse(P.args[0],h)._encode(I,g)},C))}else p.use!==null?b=this._getUse(p.use,y)._encode(h,g):(m=this._encodePrimitive(p.tag,h),S=!0);if(!p.any&&p.choice===null){const C=p.implicit!==null?p.implicit:p.tag,I=p.implicit===null?"universal":"context";C===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(b=this._encodeComposite(C,S,I,m))}return p.explicit!==null&&(b=this._encodeComposite(p.explicit,!1,"context",b)),b},f.prototype._encodeChoice=function(h,g){const y=this._baseState,p=y.choice[h.type];return p||a(!1,h.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(h.value,g)},f.prototype._encodePrimitive=function(h,g){const y=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},f.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},f.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,l){const o=e("inherits");function s(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}function c(a,i){this.path=a,this.rethrow(i)}l.Reporter=s,s.prototype.isError=function(a){return a instanceof c},s.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},s.prototype.restore=function(a){const i=this._reporterState;i.obj=a.obj,i.path=i.path.slice(0,a.pathLen)},s.prototype.enterKey=function(a){return this._reporterState.path.push(a)},s.prototype.exitKey=function(a){const i=this._reporterState;i.path=i.path.slice(0,a-1)},s.prototype.leaveKey=function(a,i,u){const f=this._reporterState;this.exitKey(a),f.obj!==null&&(f.obj[i]=u)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const a=this._reporterState,i=a.obj;return a.obj={},i},s.prototype.leaveObject=function(a){const i=this._reporterState,u=i.obj;return i.obj=a,u},s.prototype.error=function(a){let i;const u=this._reporterState,f=a instanceof c;if(i=f?a:new c(u.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),a.message||a,a.stack),!u.options.partial)throw i;return f||u.errors.push(i),i},s.prototype.wrapResult=function(a){const i=this._reporterState;return i.options.partial?{result:this.isError(a)?null:a,errors:i.errors}:a},o(c,Error),c.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this}},{inherits:440}],176:[function(e,n,l){function o(s){const c={};return Object.keys(s).forEach(function(a){(0|a)==a&&(a|=0);const i=s[a];c[i]=a}),c}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=o(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=o(l.tag)},{}],177:[function(e,n,l){const o=l;o._reverse=function(s){const c={};return Object.keys(s).forEach(function(a){(0|a)==a&&(a|=0);const i=s[a];c[i]=a}),c},o.der=e("./der")},{"./der":176}],178:[function(e,n,l){const o=e("inherits"),s=e("bn.js"),c=e("../base/buffer").DecoderBuffer,a=e("../base/node"),i=e("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){a.call(this,"der",g)}function d(g,y){let p=g.readUInt8(y);if(g.isError(p))return p;const b=i.tagClass[p>>6],m=(32&p)==0;if((31&p)==31){let S=p;for(p=0;(128&S)==128;){if(S=g.readUInt8(y),g.isError(S))return S;p<<=7,p|=127&S}}else p&=31;return{cls:b,primitive:m,tag:p,tagStr:i.tag[p]}}function h(g,y,p){let b=g.readUInt8(p);if(g.isError(b))return b;if(!y&&b===128)return null;if(!(128&b))return b;const m=127&b;if(m>4)return g.error("length octect is too long");b=0;for(let S=0;S<m;S++){b<<=8;const C=g.readUInt8(p);if(g.isError(C))return C;b|=C}return b}n.exports=u,u.prototype.decode=function(g,y){return c.isDecoderBuffer(g)||(g=new c(g,y)),this.tree._decode(g,y)},o(f,a),f.prototype._peekTag=function(g,y,p){if(g.isEmpty())return!1;const b=g.save(),m=d(g,'Failed to peek tag: "'+y+'"');return g.isError(m)?m:(g.restore(b),m.tag===y||m.tagStr===y||m.tagStr+"of"===y||p)},f.prototype._decodeTag=function(g,y,p){const b=d(g,'Failed to decode tag of "'+y+'"');if(g.isError(b))return b;let m=h(g,b.primitive,'Failed to get length of "'+y+'"');if(g.isError(m))return m;if(!p&&b.tag!==y&&b.tagStr!==y&&b.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(b.primitive||m!==null)return g.skip(m,'Failed to match body of: "'+y+'"');const S=g.save(),C=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(C)?C:(m=g.offset-S.offset,g.restore(S),g.skip(m,'Failed to match body of: "'+y+'"'))},f.prototype._skipUntilEnd=function(g,y){for(;;){const p=d(g,y);if(g.isError(p))return p;const b=h(g,p.primitive,y);if(g.isError(b))return b;let m;if(m=p.primitive||b!==null?g.skip(b):this._skipUntilEnd(g,y),g.isError(m))return m;if(p.tagStr==="end")break}},f.prototype._decodeList=function(g,y,p,b){const m=[];for(;!g.isEmpty();){const S=this._peekTag(g,"end");if(g.isError(S))return S;const C=p.decode(g,"der",b);if(g.isError(C)&&S)break;m.push(C)}return m},f.prototype._decodeStr=function(g,y){if(y==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(y==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let b="";for(let m=0;m<p.length/2;m++)b+=String.fromCharCode(p.readUInt16BE(2*m));return b}if(y==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},f.prototype._decodeObjid=function(g,y,p){let b;const m=[];let S=0,C=0;for(;!g.isEmpty();)C=g.readUInt8(),S<<=7,S|=127&C,!(128&C)&&(m.push(S),S=0);128&C&&m.push(S);const I=m[0]/40|0,P=m[0]%40;if(b=p?m:[I,P].concat(m.slice(1)),y){let L=y[b.join(" ")];L===void 0&&(L=y[b.join(".")]),L!==void 0&&(b=L)}return b},f.prototype._decodeTime=function(g,y){const p=g.raw().toString();let b,m,S,C,I,P;if(y==="gentime")b=0|p.slice(0,4),m=0|p.slice(4,6),S=0|p.slice(6,8),C=0|p.slice(8,10),I=0|p.slice(10,12),P=0|p.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");b=0|p.slice(0,2),m=0|p.slice(2,4),S=0|p.slice(4,6),C=0|p.slice(6,8),I=0|p.slice(8,10),P=0|p.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,m-1,S,C,I,P,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},f.prototype._decodeInt=function(g,y){const p=g.raw();let b=new s(p);return y&&(b=y[b.toString(10)]||b),b},f.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,l){const o=l;o.der=e("./der"),o.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,l){const o=e("inherits"),s=e("safer-buffer").Buffer,c=e("./der");function a(i){c.call(this,i),this.enc="pem"}o(a,c),n.exports=a,a.prototype.decode=function(i,u){const f=i.toString().split(/[\r\n]+/g),d=u.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let m=0;m<f.length;m++){const S=f[m].match(h);if(S!==null&&S[2]===d){if(g!==-1){if(S[1]!=="END")break;y=m;break}if(S[1]!=="BEGIN")break;g=m}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+d);const p=f.slice(g+1,y).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const b=s.from(p,"base64");return c.prototype.decode.call(this,b,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,l){const o=e("inherits"),s=e("safer-buffer").Buffer,c=e("../base/node"),a=e("../constants/der");function i(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){c.call(this,"der",d)}function f(d){return d<10?"0"+d:d}n.exports=i,i.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},o(u,c),u.prototype._encodeComposite=function(d,h,g,y){const p=function(S,C,I,P){let L;if(S==="seqof"?S="seq":S==="setof"&&(S="set"),a.tagByName.hasOwnProperty(S))L=a.tagByName[S];else{if(typeof S!="number"||(0|S)!==S)return P.error("Unknown tag: "+S);L=S}return L>=31?P.error("Multi-octet tag encoding unsupported"):(C||(L|=32),L|=a.tagClassByName[I||"universal"]<<6,L)}(d,h,g,this.reporter);if(y.length<128){const S=s.alloc(2);return S[0]=p,S[1]=y.length,this._createEncoderBuffer([S,y])}let b=1;for(let S=y.length;S>=256;S>>=8)b++;const m=s.alloc(2+b);m[0]=p,m[1]=128|b;for(let S=1+b,C=y.length;C>0;S--,C>>=8)m[S]=255&C;return this._createEncoderBuffer([m,y])},u.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){const g=s.alloc(2*d.length);for(let y=0;y<d.length;y++)g.writeUInt16BE(d.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},u.prototype._encodeObjid=function(d,h,g){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let m=0;m<d.length;m++)d[m]|=0}else if(Array.isArray(d)){d=d.slice();for(let m=0;m<d.length;m++)d[m]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let y=0;for(let m=0;m<d.length;m++){let S=d[m];for(y++;S>=128;S>>=7)y++}const p=s.alloc(y);let b=p.length-1;for(let m=d.length-1;m>=0;m--){let S=d[m];for(p[b--]=127&S;(S>>=7)>0;)p[b--]=128|127&S}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(d,h){let g;const y=new Date(d);return h==="gentime"?g=[f(y.getUTCFullYear()),f(y.getUTCMonth()+1),f(y.getUTCDate()),f(y.getUTCHours()),f(y.getUTCMinutes()),f(y.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[f(y.getUTCFullYear()%100),f(y.getUTCMonth()+1),f(y.getUTCDate()),f(y.getUTCHours()),f(y.getUTCMinutes()),f(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!s.isBuffer(d)){const p=d.toArray();!d.sign&&128&p[0]&&p.unshift(0),d=s.from(p)}if(s.isBuffer(d)){let p=d.length;d.length===0&&p++;const b=s.alloc(p);return d.copy(b),d.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let p=d;p>=256;p>>=8)g++;const y=new Array(g);for(let p=y.length-1;p>=0;p--)y[p]=255&d,d>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(s.from(y))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,h,g){const y=this._baseState;let p;if(y.default===null)return!1;const b=d.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,h,g).join()),b.length!==y.defaultBuffer.length)return!1;for(p=0;p<b.length;p++)if(b[p]!==y.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,l){const o=l;o.der=e("./der"),o.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,l){const o=e("inherits"),s=e("./der");function c(a){s.call(this,a),this.enc="pem"}o(c,s),n.exports=c,c.prototype.encode=function(a,i){const u=s.prototype.encode.call(this,a).toString("base64"),f=["-----BEGIN "+i.label+"-----"];for(let d=0;d<u.length;d+=64)f.push(u.slice(d,d+64));return f.push("-----END "+i.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,l){(function(o,s){function c(T,A){if(!T)throw new Error(A||"Assertion failed")}function a(T,A){T.super_=A;var k=function(){};k.prototype=A.prototype,T.prototype=new k,T.prototype.constructor=T}function i(T,A,k){if(i.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(A!=="le"&&A!=="be"||(k=A,A=10),this._init(T||0,A||10,k||"be"))}var u;typeof o=="object"?o.exports=i:(void 0).BN=i,i.BN=i,i.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(T,A){var k=T.charCodeAt(A);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function d(T,A,k){var v=f(T,k);return k-1>=A&&(v|=f(T,k-1)<<4),v}function h(T,A,k,v){for(var x=0,w=Math.min(T.length,k),_=A;_<w;_++){var E=T.charCodeAt(_)-48;x*=v,x+=E>=49?E-49+10:E>=17?E-17+10:E}return x}i.isBN=function(T){return T instanceof i||T!==null&&typeof T=="object"&&T.constructor.wordSize===i.wordSize&&Array.isArray(T.words)},i.max=function(T,A){return T.cmp(A)>0?T:A},i.min=function(T,A){return T.cmp(A)<0?T:A},i.prototype._init=function(T,A,k){if(typeof T=="number")return this._initNumber(T,A,k);if(typeof T=="object")return this._initArray(T,A,k);A==="hex"&&(A=16),c(A===(0|A)&&A>=2&&A<=36);var v=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<T.length&&(A===16?this._parseHex(T,v,k):(this._parseBase(T,A,v),k==="le"&&this._initArray(this.toArray(),A,k)))},i.prototype._initNumber=function(T,A,k){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(c(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),A,k)},i.prototype._initArray=function(T,A,k){if(c(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x,w,_=0;if(k==="be")for(v=T.length-1,x=0;v>=0;v-=3)w=T[v]|T[v-1]<<8|T[v-2]<<16,this.words[x]|=w<<_&67108863,this.words[x+1]=w>>>26-_&67108863,(_+=24)>=26&&(_-=26,x++);else if(k==="le")for(v=0,x=0;v<T.length;v+=3)w=T[v]|T[v+1]<<8|T[v+2]<<16,this.words[x]|=w<<_&67108863,this.words[x+1]=w>>>26-_&67108863,(_+=24)>=26&&(_-=26,x++);return this.strip()},i.prototype._parseHex=function(T,A,k){this.length=Math.ceil((T.length-A)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x,w=0,_=0;if(k==="be")for(v=T.length-1;v>=A;v-=2)x=d(T,A,v)<<w,this.words[_]|=67108863&x,w>=18?(w-=18,_+=1,this.words[_]|=x>>>26):w+=8;else for(v=(T.length-A)%2==0?A+1:A;v<T.length;v+=2)x=d(T,A,v)<<w,this.words[_]|=67108863&x,w>=18?(w-=18,_+=1,this.words[_]|=x>>>26):w+=8;this.strip()},i.prototype._parseBase=function(T,A,k){this.words=[0],this.length=1;for(var v=0,x=1;x<=67108863;x*=A)v++;v--,x=x/A|0;for(var w=T.length-k,_=w%v,E=Math.min(w,w-_)+k,R=0,O=k;O<E;O+=v)R=h(T,O,O+v,A),this.imuln(x),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(_!==0){var W=1;for(R=h(T,O,T.length,A),O=0;O<_;O++)W*=A;this.imuln(W),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this.strip()},i.prototype.copy=function(T){T.words=new Array(this.length);for(var A=0;A<this.length;A++)T.words[A]=this.words[A];T.length=this.length,T.negative=this.negative,T.red=this.red},i.prototype.clone=function(){var T=new i(null);return this.copy(T),T},i.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(T,A,k){k.negative=A.negative^T.negative;var v=T.length+A.length|0;k.length=v,v=v-1|0;var x=0|T.words[0],w=0|A.words[0],_=x*w,E=67108863&_,R=_/67108864|0;k.words[0]=E;for(var O=1;O<v;O++){for(var W=R>>>26,V=67108863&R,X=Math.min(O,A.length-1),D=Math.max(0,O-T.length+1);D<=X;D++){var K=O-D|0;W+=(_=(x=0|T.words[K])*(w=0|A.words[D])+V)/67108864|0,V=67108863&_}k.words[O]=0|V,R=0|W}return R!==0?k.words[O]=0|R:k.length--,k.strip()}i.prototype.toString=function(T,A){var k;if(A=0|A||1,(T=T||10)===16||T==="hex"){k="";for(var v=0,x=0,w=0;w<this.length;w++){var _=this.words[w],E=(16777215&(_<<v|x)).toString(16);k=(x=_>>>24-v&16777215)!==0||w!==this.length-1?g[6-E.length]+E+k:E+k,(v+=2)>=26&&(v-=26,w--)}for(x!==0&&(k=x.toString(16)+k);k.length%A!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(T===(0|T)&&T>=2&&T<=36){var R=y[T],O=p[T];k="";var W=this.clone();for(W.negative=0;!W.isZero();){var V=W.modn(O).toString(T);k=(W=W.idivn(O)).isZero()?V+k:g[R-V.length]+V+k}for(this.isZero()&&(k="0"+k);k.length%A!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}c(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(T,A){return c(u!==void 0),this.toArrayLike(u,T,A)},i.prototype.toArray=function(T,A){return this.toArrayLike(Array,T,A)},i.prototype.toArrayLike=function(T,A,k){var v=this.byteLength(),x=k||Math.max(1,v);c(v<=x,"byte array longer than desired length"),c(x>0,"Requested array length <= 0"),this.strip();var w,_,E=A==="le",R=new T(x),O=this.clone();if(E){for(_=0;!O.isZero();_++)w=O.andln(255),O.iushrn(8),R[_]=w;for(;_<x;_++)R[_]=0}else{for(_=0;_<x-v;_++)R[_]=0;for(_=0;!O.isZero();_++)w=O.andln(255),O.iushrn(8),R[x-_-1]=w}return R},Math.clz32?i.prototype._countBits=function(T){return 32-Math.clz32(T)}:i.prototype._countBits=function(T){var A=T,k=0;return A>=4096&&(k+=13,A>>>=13),A>=64&&(k+=7,A>>>=7),A>=8&&(k+=4,A>>>=4),A>=2&&(k+=2,A>>>=2),k+A},i.prototype._zeroBits=function(T){if(T===0)return 26;var A=T,k=0;return!(8191&A)&&(k+=13,A>>>=13),!(127&A)&&(k+=7,A>>>=7),!(15&A)&&(k+=4,A>>>=4),!(3&A)&&(k+=2,A>>>=2),!(1&A)&&k++,k},i.prototype.bitLength=function(){var T=this.words[this.length-1],A=this._countBits(T);return 26*(this.length-1)+A},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,A=0;A<this.length;A++){var k=this._zeroBits(this.words[A]);if(T+=k,k!==26)break}return T},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},i.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var A=0;A<T.length;A++)this.words[A]=this.words[A]|T.words[A];return this.strip()},i.prototype.ior=function(T){return c((this.negative|T.negative)==0),this.iuor(T)},i.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},i.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},i.prototype.iuand=function(T){var A;A=this.length>T.length?T:this;for(var k=0;k<A.length;k++)this.words[k]=this.words[k]&T.words[k];return this.length=A.length,this.strip()},i.prototype.iand=function(T){return c((this.negative|T.negative)==0),this.iuand(T)},i.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},i.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},i.prototype.iuxor=function(T){var A,k;this.length>T.length?(A=this,k=T):(A=T,k=this);for(var v=0;v<k.length;v++)this.words[v]=A.words[v]^k.words[v];if(this!==A)for(;v<A.length;v++)this.words[v]=A.words[v];return this.length=A.length,this.strip()},i.prototype.ixor=function(T){return c((this.negative|T.negative)==0),this.iuxor(T)},i.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},i.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},i.prototype.inotn=function(T){c(typeof T=="number"&&T>=0);var A=0|Math.ceil(T/26),k=T%26;this._expand(A),k>0&&A--;for(var v=0;v<A;v++)this.words[v]=67108863&~this.words[v];return k>0&&(this.words[v]=~this.words[v]&67108863>>26-k),this.strip()},i.prototype.notn=function(T){return this.clone().inotn(T)},i.prototype.setn=function(T,A){c(typeof T=="number"&&T>=0);var k=T/26|0,v=T%26;return this._expand(k+1),this.words[k]=A?this.words[k]|1<<v:this.words[k]&~(1<<v),this.strip()},i.prototype.iadd=function(T){var A,k,v;if(this.negative!==0&&T.negative===0)return this.negative=0,A=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,A=this.isub(T),T.negative=1,A._normSign();this.length>T.length?(k=this,v=T):(k=T,v=this);for(var x=0,w=0;w<v.length;w++)A=(0|k.words[w])+(0|v.words[w])+x,this.words[w]=67108863&A,x=A>>>26;for(;x!==0&&w<k.length;w++)A=(0|k.words[w])+x,this.words[w]=67108863&A,x=A>>>26;if(this.length=k.length,x!==0)this.words[this.length]=x,this.length++;else if(k!==this)for(;w<k.length;w++)this.words[w]=k.words[w];return this},i.prototype.add=function(T){var A;return T.negative!==0&&this.negative===0?(T.negative=0,A=this.sub(T),T.negative^=1,A):T.negative===0&&this.negative!==0?(this.negative=0,A=T.sub(this),this.negative=1,A):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},i.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var A=this.iadd(T);return T.negative=1,A._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var k,v,x=this.cmp(T);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(k=this,v=T):(k=T,v=this);for(var w=0,_=0;_<v.length;_++)w=(A=(0|k.words[_])-(0|v.words[_])+w)>>26,this.words[_]=67108863&A;for(;w!==0&&_<k.length;_++)w=(A=(0|k.words[_])+w)>>26,this.words[_]=67108863&A;if(w===0&&_<k.length&&k!==this)for(;_<k.length;_++)this.words[_]=k.words[_];return this.length=Math.max(this.length,_),k!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(T){return this.clone().isub(T)};var m=function(T,A,k){var v,x,w,_=T.words,E=A.words,R=k.words,O=0,W=0|_[0],V=8191&W,X=W>>>13,D=0|_[1],K=8191&D,N=D>>>13,M=0|_[2],$=8191&M,Y=M>>>13,ee=0|_[3],Q=8191&ee,Z=ee>>>13,le=0|_[4],ae=8191&le,J=le>>>13,ne=0|_[5],se=8191&ne,me=ne>>>13,de=0|_[6],ge=8191&de,ve=de>>>13,he=0|_[7],Me=8191&he,Ee=he>>>13,Fe=0|_[8],De=8191&Fe,et=Fe>>>13,He=0|_[9],Ze=8191&He,Je=He>>>13,We=0|E[0],Ce=8191&We,Be=We>>>13,Xe=0|E[1],Ke=8191&Xe,rt=Xe>>>13,dt=0|E[2],Le=8191&dt,yt=dt>>>13,ht=0|E[3],re=8191&ht,_e=ht>>>13,Ae=0|E[4],Oe=8191&Ae,Ye=Ae>>>13,Ve=0|E[5],Pe=8191&Ve,at=Ve>>>13,wt=0|E[6],ct=8191&wt,ue=wt>>>13,ye=0|E[7],Se=8191&ye,$e=ye>>>13,ot=0|E[8],Ge=8191&ot,ut=ot>>>13,it=0|E[9],st=8191&it,ft=it>>>13;k.negative=T.negative^A.negative,k.length=19;var pt=(O+(v=Math.imul(V,Ce))|0)+((8191&(x=(x=Math.imul(V,Be))+Math.imul(X,Ce)|0))<<13)|0;O=((w=Math.imul(X,Be))+(x>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(K,Ce),x=(x=Math.imul(K,Be))+Math.imul(N,Ce)|0,w=Math.imul(N,Be);var vt=(O+(v=v+Math.imul(V,Ke)|0)|0)+((8191&(x=(x=x+Math.imul(V,rt)|0)+Math.imul(X,Ke)|0))<<13)|0;O=((w=w+Math.imul(X,rt)|0)+(x>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul($,Ce),x=(x=Math.imul($,Be))+Math.imul(Y,Ce)|0,w=Math.imul(Y,Be),v=v+Math.imul(K,Ke)|0,x=(x=x+Math.imul(K,rt)|0)+Math.imul(N,Ke)|0,w=w+Math.imul(N,rt)|0;var Dt=(O+(v=v+Math.imul(V,Le)|0)|0)+((8191&(x=(x=x+Math.imul(V,yt)|0)+Math.imul(X,Le)|0))<<13)|0;O=((w=w+Math.imul(X,yt)|0)+(x>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,v=Math.imul(Q,Ce),x=(x=Math.imul(Q,Be))+Math.imul(Z,Ce)|0,w=Math.imul(Z,Be),v=v+Math.imul($,Ke)|0,x=(x=x+Math.imul($,rt)|0)+Math.imul(Y,Ke)|0,w=w+Math.imul(Y,rt)|0,v=v+Math.imul(K,Le)|0,x=(x=x+Math.imul(K,yt)|0)+Math.imul(N,Le)|0,w=w+Math.imul(N,yt)|0;var Tt=(O+(v=v+Math.imul(V,re)|0)|0)+((8191&(x=(x=x+Math.imul(V,_e)|0)+Math.imul(X,re)|0))<<13)|0;O=((w=w+Math.imul(X,_e)|0)+(x>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(ae,Ce),x=(x=Math.imul(ae,Be))+Math.imul(J,Ce)|0,w=Math.imul(J,Be),v=v+Math.imul(Q,Ke)|0,x=(x=x+Math.imul(Q,rt)|0)+Math.imul(Z,Ke)|0,w=w+Math.imul(Z,rt)|0,v=v+Math.imul($,Le)|0,x=(x=x+Math.imul($,yt)|0)+Math.imul(Y,Le)|0,w=w+Math.imul(Y,yt)|0,v=v+Math.imul(K,re)|0,x=(x=x+Math.imul(K,_e)|0)+Math.imul(N,re)|0,w=w+Math.imul(N,_e)|0;var $t=(O+(v=v+Math.imul(V,Oe)|0)|0)+((8191&(x=(x=x+Math.imul(V,Ye)|0)+Math.imul(X,Oe)|0))<<13)|0;O=((w=w+Math.imul(X,Ye)|0)+(x>>>13)|0)+($t>>>26)|0,$t&=67108863,v=Math.imul(se,Ce),x=(x=Math.imul(se,Be))+Math.imul(me,Ce)|0,w=Math.imul(me,Be),v=v+Math.imul(ae,Ke)|0,x=(x=x+Math.imul(ae,rt)|0)+Math.imul(J,Ke)|0,w=w+Math.imul(J,rt)|0,v=v+Math.imul(Q,Le)|0,x=(x=x+Math.imul(Q,yt)|0)+Math.imul(Z,Le)|0,w=w+Math.imul(Z,yt)|0,v=v+Math.imul($,re)|0,x=(x=x+Math.imul($,_e)|0)+Math.imul(Y,re)|0,w=w+Math.imul(Y,_e)|0,v=v+Math.imul(K,Oe)|0,x=(x=x+Math.imul(K,Ye)|0)+Math.imul(N,Oe)|0,w=w+Math.imul(N,Ye)|0;var Wt=(O+(v=v+Math.imul(V,Pe)|0)|0)+((8191&(x=(x=x+Math.imul(V,at)|0)+Math.imul(X,Pe)|0))<<13)|0;O=((w=w+Math.imul(X,at)|0)+(x>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,v=Math.imul(ge,Ce),x=(x=Math.imul(ge,Be))+Math.imul(ve,Ce)|0,w=Math.imul(ve,Be),v=v+Math.imul(se,Ke)|0,x=(x=x+Math.imul(se,rt)|0)+Math.imul(me,Ke)|0,w=w+Math.imul(me,rt)|0,v=v+Math.imul(ae,Le)|0,x=(x=x+Math.imul(ae,yt)|0)+Math.imul(J,Le)|0,w=w+Math.imul(J,yt)|0,v=v+Math.imul(Q,re)|0,x=(x=x+Math.imul(Q,_e)|0)+Math.imul(Z,re)|0,w=w+Math.imul(Z,_e)|0,v=v+Math.imul($,Oe)|0,x=(x=x+Math.imul($,Ye)|0)+Math.imul(Y,Oe)|0,w=w+Math.imul(Y,Ye)|0,v=v+Math.imul(K,Pe)|0,x=(x=x+Math.imul(K,at)|0)+Math.imul(N,Pe)|0,w=w+Math.imul(N,at)|0;var Gt=(O+(v=v+Math.imul(V,ct)|0)|0)+((8191&(x=(x=x+Math.imul(V,ue)|0)+Math.imul(X,ct)|0))<<13)|0;O=((w=w+Math.imul(X,ue)|0)+(x>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(Me,Ce),x=(x=Math.imul(Me,Be))+Math.imul(Ee,Ce)|0,w=Math.imul(Ee,Be),v=v+Math.imul(ge,Ke)|0,x=(x=x+Math.imul(ge,rt)|0)+Math.imul(ve,Ke)|0,w=w+Math.imul(ve,rt)|0,v=v+Math.imul(se,Le)|0,x=(x=x+Math.imul(se,yt)|0)+Math.imul(me,Le)|0,w=w+Math.imul(me,yt)|0,v=v+Math.imul(ae,re)|0,x=(x=x+Math.imul(ae,_e)|0)+Math.imul(J,re)|0,w=w+Math.imul(J,_e)|0,v=v+Math.imul(Q,Oe)|0,x=(x=x+Math.imul(Q,Ye)|0)+Math.imul(Z,Oe)|0,w=w+Math.imul(Z,Ye)|0,v=v+Math.imul($,Pe)|0,x=(x=x+Math.imul($,at)|0)+Math.imul(Y,Pe)|0,w=w+Math.imul(Y,at)|0,v=v+Math.imul(K,ct)|0,x=(x=x+Math.imul(K,ue)|0)+Math.imul(N,ct)|0,w=w+Math.imul(N,ue)|0;var te=(O+(v=v+Math.imul(V,Se)|0)|0)+((8191&(x=(x=x+Math.imul(V,$e)|0)+Math.imul(X,Se)|0))<<13)|0;O=((w=w+Math.imul(X,$e)|0)+(x>>>13)|0)+(te>>>26)|0,te&=67108863,v=Math.imul(De,Ce),x=(x=Math.imul(De,Be))+Math.imul(et,Ce)|0,w=Math.imul(et,Be),v=v+Math.imul(Me,Ke)|0,x=(x=x+Math.imul(Me,rt)|0)+Math.imul(Ee,Ke)|0,w=w+Math.imul(Ee,rt)|0,v=v+Math.imul(ge,Le)|0,x=(x=x+Math.imul(ge,yt)|0)+Math.imul(ve,Le)|0,w=w+Math.imul(ve,yt)|0,v=v+Math.imul(se,re)|0,x=(x=x+Math.imul(se,_e)|0)+Math.imul(me,re)|0,w=w+Math.imul(me,_e)|0,v=v+Math.imul(ae,Oe)|0,x=(x=x+Math.imul(ae,Ye)|0)+Math.imul(J,Oe)|0,w=w+Math.imul(J,Ye)|0,v=v+Math.imul(Q,Pe)|0,x=(x=x+Math.imul(Q,at)|0)+Math.imul(Z,Pe)|0,w=w+Math.imul(Z,at)|0,v=v+Math.imul($,ct)|0,x=(x=x+Math.imul($,ue)|0)+Math.imul(Y,ct)|0,w=w+Math.imul(Y,ue)|0,v=v+Math.imul(K,Se)|0,x=(x=x+Math.imul(K,$e)|0)+Math.imul(N,Se)|0,w=w+Math.imul(N,$e)|0;var be=(O+(v=v+Math.imul(V,Ge)|0)|0)+((8191&(x=(x=x+Math.imul(V,ut)|0)+Math.imul(X,Ge)|0))<<13)|0;O=((w=w+Math.imul(X,ut)|0)+(x>>>13)|0)+(be>>>26)|0,be&=67108863,v=Math.imul(Ze,Ce),x=(x=Math.imul(Ze,Be))+Math.imul(Je,Ce)|0,w=Math.imul(Je,Be),v=v+Math.imul(De,Ke)|0,x=(x=x+Math.imul(De,rt)|0)+Math.imul(et,Ke)|0,w=w+Math.imul(et,rt)|0,v=v+Math.imul(Me,Le)|0,x=(x=x+Math.imul(Me,yt)|0)+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,yt)|0,v=v+Math.imul(ge,re)|0,x=(x=x+Math.imul(ge,_e)|0)+Math.imul(ve,re)|0,w=w+Math.imul(ve,_e)|0,v=v+Math.imul(se,Oe)|0,x=(x=x+Math.imul(se,Ye)|0)+Math.imul(me,Oe)|0,w=w+Math.imul(me,Ye)|0,v=v+Math.imul(ae,Pe)|0,x=(x=x+Math.imul(ae,at)|0)+Math.imul(J,Pe)|0,w=w+Math.imul(J,at)|0,v=v+Math.imul(Q,ct)|0,x=(x=x+Math.imul(Q,ue)|0)+Math.imul(Z,ct)|0,w=w+Math.imul(Z,ue)|0,v=v+Math.imul($,Se)|0,x=(x=x+Math.imul($,$e)|0)+Math.imul(Y,Se)|0,w=w+Math.imul(Y,$e)|0,v=v+Math.imul(K,Ge)|0,x=(x=x+Math.imul(K,ut)|0)+Math.imul(N,Ge)|0,w=w+Math.imul(N,ut)|0;var q=(O+(v=v+Math.imul(V,st)|0)|0)+((8191&(x=(x=x+Math.imul(V,ft)|0)+Math.imul(X,st)|0))<<13)|0;O=((w=w+Math.imul(X,ft)|0)+(x>>>13)|0)+(q>>>26)|0,q&=67108863,v=Math.imul(Ze,Ke),x=(x=Math.imul(Ze,rt))+Math.imul(Je,Ke)|0,w=Math.imul(Je,rt),v=v+Math.imul(De,Le)|0,x=(x=x+Math.imul(De,yt)|0)+Math.imul(et,Le)|0,w=w+Math.imul(et,yt)|0,v=v+Math.imul(Me,re)|0,x=(x=x+Math.imul(Me,_e)|0)+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,_e)|0,v=v+Math.imul(ge,Oe)|0,x=(x=x+Math.imul(ge,Ye)|0)+Math.imul(ve,Oe)|0,w=w+Math.imul(ve,Ye)|0,v=v+Math.imul(se,Pe)|0,x=(x=x+Math.imul(se,at)|0)+Math.imul(me,Pe)|0,w=w+Math.imul(me,at)|0,v=v+Math.imul(ae,ct)|0,x=(x=x+Math.imul(ae,ue)|0)+Math.imul(J,ct)|0,w=w+Math.imul(J,ue)|0,v=v+Math.imul(Q,Se)|0,x=(x=x+Math.imul(Q,$e)|0)+Math.imul(Z,Se)|0,w=w+Math.imul(Z,$e)|0,v=v+Math.imul($,Ge)|0,x=(x=x+Math.imul($,ut)|0)+Math.imul(Y,Ge)|0,w=w+Math.imul(Y,ut)|0;var G=(O+(v=v+Math.imul(K,st)|0)|0)+((8191&(x=(x=x+Math.imul(K,ft)|0)+Math.imul(N,st)|0))<<13)|0;O=((w=w+Math.imul(N,ft)|0)+(x>>>13)|0)+(G>>>26)|0,G&=67108863,v=Math.imul(Ze,Le),x=(x=Math.imul(Ze,yt))+Math.imul(Je,Le)|0,w=Math.imul(Je,yt),v=v+Math.imul(De,re)|0,x=(x=x+Math.imul(De,_e)|0)+Math.imul(et,re)|0,w=w+Math.imul(et,_e)|0,v=v+Math.imul(Me,Oe)|0,x=(x=x+Math.imul(Me,Ye)|0)+Math.imul(Ee,Oe)|0,w=w+Math.imul(Ee,Ye)|0,v=v+Math.imul(ge,Pe)|0,x=(x=x+Math.imul(ge,at)|0)+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,at)|0,v=v+Math.imul(se,ct)|0,x=(x=x+Math.imul(se,ue)|0)+Math.imul(me,ct)|0,w=w+Math.imul(me,ue)|0,v=v+Math.imul(ae,Se)|0,x=(x=x+Math.imul(ae,$e)|0)+Math.imul(J,Se)|0,w=w+Math.imul(J,$e)|0,v=v+Math.imul(Q,Ge)|0,x=(x=x+Math.imul(Q,ut)|0)+Math.imul(Z,Ge)|0,w=w+Math.imul(Z,ut)|0;var ie=(O+(v=v+Math.imul($,st)|0)|0)+((8191&(x=(x=x+Math.imul($,ft)|0)+Math.imul(Y,st)|0))<<13)|0;O=((w=w+Math.imul(Y,ft)|0)+(x>>>13)|0)+(ie>>>26)|0,ie&=67108863,v=Math.imul(Ze,re),x=(x=Math.imul(Ze,_e))+Math.imul(Je,re)|0,w=Math.imul(Je,_e),v=v+Math.imul(De,Oe)|0,x=(x=x+Math.imul(De,Ye)|0)+Math.imul(et,Oe)|0,w=w+Math.imul(et,Ye)|0,v=v+Math.imul(Me,Pe)|0,x=(x=x+Math.imul(Me,at)|0)+Math.imul(Ee,Pe)|0,w=w+Math.imul(Ee,at)|0,v=v+Math.imul(ge,ct)|0,x=(x=x+Math.imul(ge,ue)|0)+Math.imul(ve,ct)|0,w=w+Math.imul(ve,ue)|0,v=v+Math.imul(se,Se)|0,x=(x=x+Math.imul(se,$e)|0)+Math.imul(me,Se)|0,w=w+Math.imul(me,$e)|0,v=v+Math.imul(ae,Ge)|0,x=(x=x+Math.imul(ae,ut)|0)+Math.imul(J,Ge)|0,w=w+Math.imul(J,ut)|0;var ce=(O+(v=v+Math.imul(Q,st)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ft)|0)+Math.imul(Z,st)|0))<<13)|0;O=((w=w+Math.imul(Z,ft)|0)+(x>>>13)|0)+(ce>>>26)|0,ce&=67108863,v=Math.imul(Ze,Oe),x=(x=Math.imul(Ze,Ye))+Math.imul(Je,Oe)|0,w=Math.imul(Je,Ye),v=v+Math.imul(De,Pe)|0,x=(x=x+Math.imul(De,at)|0)+Math.imul(et,Pe)|0,w=w+Math.imul(et,at)|0,v=v+Math.imul(Me,ct)|0,x=(x=x+Math.imul(Me,ue)|0)+Math.imul(Ee,ct)|0,w=w+Math.imul(Ee,ue)|0,v=v+Math.imul(ge,Se)|0,x=(x=x+Math.imul(ge,$e)|0)+Math.imul(ve,Se)|0,w=w+Math.imul(ve,$e)|0,v=v+Math.imul(se,Ge)|0,x=(x=x+Math.imul(se,ut)|0)+Math.imul(me,Ge)|0,w=w+Math.imul(me,ut)|0;var pe=(O+(v=v+Math.imul(ae,st)|0)|0)+((8191&(x=(x=x+Math.imul(ae,ft)|0)+Math.imul(J,st)|0))<<13)|0;O=((w=w+Math.imul(J,ft)|0)+(x>>>13)|0)+(pe>>>26)|0,pe&=67108863,v=Math.imul(Ze,Pe),x=(x=Math.imul(Ze,at))+Math.imul(Je,Pe)|0,w=Math.imul(Je,at),v=v+Math.imul(De,ct)|0,x=(x=x+Math.imul(De,ue)|0)+Math.imul(et,ct)|0,w=w+Math.imul(et,ue)|0,v=v+Math.imul(Me,Se)|0,x=(x=x+Math.imul(Me,$e)|0)+Math.imul(Ee,Se)|0,w=w+Math.imul(Ee,$e)|0,v=v+Math.imul(ge,Ge)|0,x=(x=x+Math.imul(ge,ut)|0)+Math.imul(ve,Ge)|0,w=w+Math.imul(ve,ut)|0;var Te=(O+(v=v+Math.imul(se,st)|0)|0)+((8191&(x=(x=x+Math.imul(se,ft)|0)+Math.imul(me,st)|0))<<13)|0;O=((w=w+Math.imul(me,ft)|0)+(x>>>13)|0)+(Te>>>26)|0,Te&=67108863,v=Math.imul(Ze,ct),x=(x=Math.imul(Ze,ue))+Math.imul(Je,ct)|0,w=Math.imul(Je,ue),v=v+Math.imul(De,Se)|0,x=(x=x+Math.imul(De,$e)|0)+Math.imul(et,Se)|0,w=w+Math.imul(et,$e)|0,v=v+Math.imul(Me,Ge)|0,x=(x=x+Math.imul(Me,ut)|0)+Math.imul(Ee,Ge)|0,w=w+Math.imul(Ee,ut)|0;var ke=(O+(v=v+Math.imul(ge,st)|0)|0)+((8191&(x=(x=x+Math.imul(ge,ft)|0)+Math.imul(ve,st)|0))<<13)|0;O=((w=w+Math.imul(ve,ft)|0)+(x>>>13)|0)+(ke>>>26)|0,ke&=67108863,v=Math.imul(Ze,Se),x=(x=Math.imul(Ze,$e))+Math.imul(Je,Se)|0,w=Math.imul(Je,$e),v=v+Math.imul(De,Ge)|0,x=(x=x+Math.imul(De,ut)|0)+Math.imul(et,Ge)|0,w=w+Math.imul(et,ut)|0;var we=(O+(v=v+Math.imul(Me,st)|0)|0)+((8191&(x=(x=x+Math.imul(Me,ft)|0)+Math.imul(Ee,st)|0))<<13)|0;O=((w=w+Math.imul(Ee,ft)|0)+(x>>>13)|0)+(we>>>26)|0,we&=67108863,v=Math.imul(Ze,Ge),x=(x=Math.imul(Ze,ut))+Math.imul(Je,Ge)|0,w=Math.imul(Je,ut);var xe=(O+(v=v+Math.imul(De,st)|0)|0)+((8191&(x=(x=x+Math.imul(De,ft)|0)+Math.imul(et,st)|0))<<13)|0;O=((w=w+Math.imul(et,ft)|0)+(x>>>13)|0)+(xe>>>26)|0,xe&=67108863;var je=(O+(v=Math.imul(Ze,st))|0)+((8191&(x=(x=Math.imul(Ze,ft))+Math.imul(Je,st)|0))<<13)|0;return O=((w=Math.imul(Je,ft))+(x>>>13)|0)+(je>>>26)|0,je&=67108863,R[0]=pt,R[1]=vt,R[2]=Dt,R[3]=Tt,R[4]=$t,R[5]=Wt,R[6]=Gt,R[7]=te,R[8]=be,R[9]=q,R[10]=G,R[11]=ie,R[12]=ce,R[13]=pe,R[14]=Te,R[15]=ke,R[16]=we,R[17]=xe,R[18]=je,O!==0&&(R[19]=O,k.length++),k};function S(T,A,k){return new C().mulp(T,A,k)}function C(T,A){this.x=T,this.y=A}Math.imul||(m=b),i.prototype.mulTo=function(T,A){var k=this.length+T.length;return this.length===10&&T.length===10?m(this,T,A):k<63?b(this,T,A):k<1024?function(v,x,w){w.negative=x.negative^v.negative,w.length=v.length+x.length;for(var _=0,E=0,R=0;R<w.length-1;R++){var O=E;E=0;for(var W=67108863&_,V=Math.min(R,x.length-1),X=Math.max(0,R-v.length+1);X<=V;X++){var D=R-X,K=(0|v.words[D])*(0|x.words[X]),N=67108863&K;W=67108863&(N=N+W|0),E+=(O=(O=O+(K/67108864|0)|0)+(N>>>26)|0)>>>26,O&=67108863}w.words[R]=W,_=O,O=E}return _!==0?w.words[R]=_:w.length--,w.strip()}(this,T,A):S(this,T,A)},C.prototype.makeRBT=function(T){for(var A=new Array(T),k=i.prototype._countBits(T)-1,v=0;v<T;v++)A[v]=this.revBin(v,k,T);return A},C.prototype.revBin=function(T,A,k){if(T===0||T===k-1)return T;for(var v=0,x=0;x<A;x++)v|=(1&T)<<A-x-1,T>>=1;return v},C.prototype.permute=function(T,A,k,v,x,w){for(var _=0;_<w;_++)v[_]=A[T[_]],x[_]=k[T[_]]},C.prototype.transform=function(T,A,k,v,x,w){this.permute(w,T,A,k,v,x);for(var _=1;_<x;_<<=1)for(var E=_<<1,R=Math.cos(2*Math.PI/E),O=Math.sin(2*Math.PI/E),W=0;W<x;W+=E)for(var V=R,X=O,D=0;D<_;D++){var K=k[W+D],N=v[W+D],M=k[W+D+_],$=v[W+D+_],Y=V*M-X*$;$=V*$+X*M,M=Y,k[W+D]=K+M,v[W+D]=N+$,k[W+D+_]=K-M,v[W+D+_]=N-$,D!==E&&(Y=R*V-O*X,X=R*X+O*V,V=Y)}},C.prototype.guessLen13b=function(T,A){var k=1|Math.max(A,T),v=1&k,x=0;for(k=k/2|0;k;k>>>=1)x++;return 1<<x+1+v},C.prototype.conjugate=function(T,A,k){if(!(k<=1))for(var v=0;v<k/2;v++){var x=T[v];T[v]=T[k-v-1],T[k-v-1]=x,x=A[v],A[v]=-A[k-v-1],A[k-v-1]=-x}},C.prototype.normalize13b=function(T,A){for(var k=0,v=0;v<A/2;v++){var x=8192*Math.round(T[2*v+1]/A)+Math.round(T[2*v]/A)+k;T[v]=67108863&x,k=x<67108864?0:x/67108864|0}return T},C.prototype.convert13b=function(T,A,k,v){for(var x=0,w=0;w<A;w++)x+=0|T[w],k[2*w]=8191&x,x>>>=13,k[2*w+1]=8191&x,x>>>=13;for(w=2*A;w<v;++w)k[w]=0;c(x===0),c((-8192&x)==0)},C.prototype.stub=function(T){for(var A=new Array(T),k=0;k<T;k++)A[k]=0;return A},C.prototype.mulp=function(T,A,k){var v=2*this.guessLen13b(T.length,A.length),x=this.makeRBT(v),w=this.stub(v),_=new Array(v),E=new Array(v),R=new Array(v),O=new Array(v),W=new Array(v),V=new Array(v),X=k.words;X.length=v,this.convert13b(T.words,T.length,_,v),this.convert13b(A.words,A.length,O,v),this.transform(_,w,E,R,v,x),this.transform(O,w,W,V,v,x);for(var D=0;D<v;D++){var K=E[D]*W[D]-R[D]*V[D];R[D]=E[D]*V[D]+R[D]*W[D],E[D]=K}return this.conjugate(E,R,v),this.transform(E,R,X,w,v,x),this.conjugate(X,w,v),this.normalize13b(X,v),k.negative=T.negative^A.negative,k.length=T.length+A.length,k.strip()},i.prototype.mul=function(T){var A=new i(null);return A.words=new Array(this.length+T.length),this.mulTo(T,A)},i.prototype.mulf=function(T){var A=new i(null);return A.words=new Array(this.length+T.length),S(this,T,A)},i.prototype.imul=function(T){return this.clone().mulTo(T,this)},i.prototype.imuln=function(T){c(typeof T=="number"),c(T<67108864);for(var A=0,k=0;k<this.length;k++){var v=(0|this.words[k])*T,x=(67108863&v)+(67108863&A);A>>=26,A+=v/67108864|0,A+=x>>>26,this.words[k]=67108863&x}return A!==0&&(this.words[k]=A,this.length++),this},i.prototype.muln=function(T){return this.clone().imuln(T)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(T){var A=function(w){for(var _=new Array(w.bitLength()),E=0;E<_.length;E++){var R=E/26|0,O=E%26;_[E]=(w.words[R]&1<<O)>>>O}return _}(T);if(A.length===0)return new i(1);for(var k=this,v=0;v<A.length&&A[v]===0;v++,k=k.sqr());if(++v<A.length)for(var x=k.sqr();v<A.length;v++,x=x.sqr())A[v]!==0&&(k=k.mul(x));return k},i.prototype.iushln=function(T){c(typeof T=="number"&&T>=0);var A,k=T%26,v=(T-k)/26,x=67108863>>>26-k<<26-k;if(k!==0){var w=0;for(A=0;A<this.length;A++){var _=this.words[A]&x,E=(0|this.words[A])-_<<k;this.words[A]=E|w,w=_>>>26-k}w&&(this.words[A]=w,this.length++)}if(v!==0){for(A=this.length-1;A>=0;A--)this.words[A+v]=this.words[A];for(A=0;A<v;A++)this.words[A]=0;this.length+=v}return this.strip()},i.prototype.ishln=function(T){return c(this.negative===0),this.iushln(T)},i.prototype.iushrn=function(T,A,k){var v;c(typeof T=="number"&&T>=0),v=A?(A-A%26)/26:0;var x=T%26,w=Math.min((T-x)/26,this.length),_=67108863^67108863>>>x<<x,E=k;if(v-=w,v=Math.max(0,v),E){for(var R=0;R<w;R++)E.words[R]=this.words[R];E.length=w}if(w!==0)if(this.length>w)for(this.length-=w,R=0;R<this.length;R++)this.words[R]=this.words[R+w];else this.words[0]=0,this.length=1;var O=0;for(R=this.length-1;R>=0&&(O!==0||R>=v);R--){var W=0|this.words[R];this.words[R]=O<<26-x|W>>>x,O=W&_}return E&&O!==0&&(E.words[E.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(T,A,k){return c(this.negative===0),this.iushrn(T,A,k)},i.prototype.shln=function(T){return this.clone().ishln(T)},i.prototype.ushln=function(T){return this.clone().iushln(T)},i.prototype.shrn=function(T){return this.clone().ishrn(T)},i.prototype.ushrn=function(T){return this.clone().iushrn(T)},i.prototype.testn=function(T){c(typeof T=="number"&&T>=0);var A=T%26,k=(T-A)/26,v=1<<A;return!(this.length<=k)&&!!(this.words[k]&v)},i.prototype.imaskn=function(T){c(typeof T=="number"&&T>=0);var A=T%26,k=(T-A)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(A!==0&&k++,this.length=Math.min(k,this.length),A!==0){var v=67108863^67108863>>>A<<A;this.words[this.length-1]&=v}return this.strip()},i.prototype.maskn=function(T){return this.clone().imaskn(T)},i.prototype.iaddn=function(T){return c(typeof T=="number"),c(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},i.prototype._iaddn=function(T){this.words[0]+=T;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},i.prototype.isubn=function(T){if(c(typeof T=="number"),c(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this.strip()},i.prototype.addn=function(T){return this.clone().iaddn(T)},i.prototype.subn=function(T){return this.clone().isubn(T)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(T,A,k){var v,x,w=T.length+k;this._expand(w);var _=0;for(v=0;v<T.length;v++){x=(0|this.words[v+k])+_;var E=(0|T.words[v])*A;_=((x-=67108863&E)>>26)-(E/67108864|0),this.words[v+k]=67108863&x}for(;v<this.length-k;v++)_=(x=(0|this.words[v+k])+_)>>26,this.words[v+k]=67108863&x;if(_===0)return this.strip();for(c(_===-1),_=0,v=0;v<this.length;v++)_=(x=-(0|this.words[v])+_)>>26,this.words[v]=67108863&x;return this.negative=1,this.strip()},i.prototype._wordDiv=function(T,A){var k=(this.length,T.length),v=this.clone(),x=T,w=0|x.words[x.length-1];(k=26-this._countBits(w))!==0&&(x=x.ushln(k),v.iushln(k),w=0|x.words[x.length-1]);var _,E=v.length-x.length;if(A!=="mod"){(_=new i(null)).length=E+1,_.words=new Array(_.length);for(var R=0;R<_.length;R++)_.words[R]=0}var O=v.clone()._ishlnsubmul(x,1,E);O.negative===0&&(v=O,_&&(_.words[E]=1));for(var W=E-1;W>=0;W--){var V=67108864*(0|v.words[x.length+W])+(0|v.words[x.length+W-1]);for(V=Math.min(V/w|0,67108863),v._ishlnsubmul(x,V,W);v.negative!==0;)V--,v.negative=0,v._ishlnsubmul(x,1,W),v.isZero()||(v.negative^=1);_&&(_.words[W]=V)}return _&&_.strip(),v.strip(),A!=="div"&&k!==0&&v.iushrn(k),{div:_||null,mod:v}},i.prototype.divmod=function(T,A,k){return c(!T.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&T.negative===0?(w=this.neg().divmod(T,A),A!=="mod"&&(v=w.div.neg()),A!=="div"&&(x=w.mod.neg(),k&&x.negative!==0&&x.iadd(T)),{div:v,mod:x}):this.negative===0&&T.negative!==0?(w=this.divmod(T.neg(),A),A!=="mod"&&(v=w.div.neg()),{div:v,mod:w.mod}):this.negative&T.negative?(w=this.neg().divmod(T.neg(),A),A!=="div"&&(x=w.mod.neg(),k&&x.negative!==0&&x.isub(T)),{div:w.div,mod:x}):T.length>this.length||this.cmp(T)<0?{div:new i(0),mod:this}:T.length===1?A==="div"?{div:this.divn(T.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new i(this.modn(T.words[0]))}:this._wordDiv(T,A);var v,x,w},i.prototype.div=function(T){return this.divmod(T,"div",!1).div},i.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},i.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},i.prototype.divRound=function(T){var A=this.divmod(T);if(A.mod.isZero())return A.div;var k=A.div.negative!==0?A.mod.isub(T):A.mod,v=T.ushrn(1),x=T.andln(1),w=k.cmp(v);return w<0||x===1&&w===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},i.prototype.modn=function(T){c(T<=67108863);for(var A=(1<<26)%T,k=0,v=this.length-1;v>=0;v--)k=(A*k+(0|this.words[v]))%T;return k},i.prototype.idivn=function(T){c(T<=67108863);for(var A=0,k=this.length-1;k>=0;k--){var v=(0|this.words[k])+67108864*A;this.words[k]=v/T|0,A=v%T}return this.strip()},i.prototype.divn=function(T){return this.clone().idivn(T)},i.prototype.egcd=function(T){c(T.negative===0),c(!T.isZero());var A=this,k=T.clone();A=A.negative!==0?A.umod(T):A.clone();for(var v=new i(1),x=new i(0),w=new i(0),_=new i(1),E=0;A.isEven()&&k.isEven();)A.iushrn(1),k.iushrn(1),++E;for(var R=k.clone(),O=A.clone();!A.isZero();){for(var W=0,V=1;!(A.words[0]&V)&&W<26;++W,V<<=1);if(W>0)for(A.iushrn(W);W-- >0;)(v.isOdd()||x.isOdd())&&(v.iadd(R),x.isub(O)),v.iushrn(1),x.iushrn(1);for(var X=0,D=1;!(k.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(k.iushrn(X);X-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(R),_.isub(O)),w.iushrn(1),_.iushrn(1);A.cmp(k)>=0?(A.isub(k),v.isub(w),x.isub(_)):(k.isub(A),w.isub(v),_.isub(x))}return{a:w,b:_,gcd:k.iushln(E)}},i.prototype._invmp=function(T){c(T.negative===0),c(!T.isZero());var A=this,k=T.clone();A=A.negative!==0?A.umod(T):A.clone();for(var v,x=new i(1),w=new i(0),_=k.clone();A.cmpn(1)>0&&k.cmpn(1)>0;){for(var E=0,R=1;!(A.words[0]&R)&&E<26;++E,R<<=1);if(E>0)for(A.iushrn(E);E-- >0;)x.isOdd()&&x.iadd(_),x.iushrn(1);for(var O=0,W=1;!(k.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(k.iushrn(O);O-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);A.cmp(k)>=0?(A.isub(k),x.isub(w)):(k.isub(A),w.isub(x))}return(v=A.cmpn(1)===0?x:w).cmpn(0)<0&&v.iadd(T),v},i.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var A=this.clone(),k=T.clone();A.negative=0,k.negative=0;for(var v=0;A.isEven()&&k.isEven();v++)A.iushrn(1),k.iushrn(1);for(;;){for(;A.isEven();)A.iushrn(1);for(;k.isEven();)k.iushrn(1);var x=A.cmp(k);if(x<0){var w=A;A=k,k=w}else if(x===0||k.cmpn(1)===0)break;A.isub(k)}return k.iushln(v)},i.prototype.invm=function(T){return this.egcd(T).a.umod(T)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(T){return this.words[0]&T},i.prototype.bincn=function(T){c(typeof T=="number");var A=T%26,k=(T-A)/26,v=1<<A;if(this.length<=k)return this._expand(k+1),this.words[k]|=v,this;for(var x=v,w=k;x!==0&&w<this.length;w++){var _=0|this.words[w];x=(_+=x)>>>26,_&=67108863,this.words[w]=_}return x!==0&&(this.words[w]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(T){var A,k=T<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)A=1;else{k&&(T=-T),c(T<=67108863,"Number is too big");var v=0|this.words[0];A=v===T?0:v<T?-1:1}return this.negative!==0?0|-A:A},i.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var A=this.ucmp(T);return this.negative!==0?0|-A:A},i.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var A=0,k=this.length-1;k>=0;k--){var v=0|this.words[k],x=0|T.words[k];if(v!==x){v<x?A=-1:v>x&&(A=1);break}}return A},i.prototype.gtn=function(T){return this.cmpn(T)===1},i.prototype.gt=function(T){return this.cmp(T)===1},i.prototype.gten=function(T){return this.cmpn(T)>=0},i.prototype.gte=function(T){return this.cmp(T)>=0},i.prototype.ltn=function(T){return this.cmpn(T)===-1},i.prototype.lt=function(T){return this.cmp(T)===-1},i.prototype.lten=function(T){return this.cmpn(T)<=0},i.prototype.lte=function(T){return this.cmp(T)<=0},i.prototype.eqn=function(T){return this.cmpn(T)===0},i.prototype.eq=function(T){return this.cmp(T)===0},i.red=function(T){return new U(T)},i.prototype.toRed=function(T){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},i.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(T){return this.red=T,this},i.prototype.forceRed=function(T){return c(!this.red,"Already a number in reduction context"),this._forceRed(T)},i.prototype.redAdd=function(T){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},i.prototype.redIAdd=function(T){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},i.prototype.redSub=function(T){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},i.prototype.redISub=function(T){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},i.prototype.redShl=function(T){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},i.prototype.redMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},i.prototype.redIMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},i.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(T){return c(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var I={k256:null,p224:null,p192:null,p25519:null};function P(T,A){this.name=T,this.p=new i(A,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function U(T){if(typeof T=="string"){var A=i._prime(T);this.m=A.p,this.prime=A}else c(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function H(T){U.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var T=new i(null);return T.words=new Array(Math.ceil(this.n/13)),T},P.prototype.ireduce=function(T){var A,k=T;do this.split(k,this.tmp),A=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(A>this.n);var v=A<this.n?-1:k.ucmp(this.p);return v===0?(k.words[0]=0,k.length=1):v>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},P.prototype.split=function(T,A){T.iushrn(this.n,0,A)},P.prototype.imulK=function(T){return T.imul(this.k)},a(L,P),L.prototype.split=function(T,A){for(var k=Math.min(T.length,9),v=0;v<k;v++)A.words[v]=T.words[v];if(A.length=k,T.length<=9)return T.words[0]=0,void(T.length=1);var x=T.words[9];for(A.words[A.length++]=4194303&x,v=10;v<T.length;v++){var w=0|T.words[v];T.words[v-10]=(4194303&w)<<4|x>>>22,x=w}x>>>=22,T.words[v-10]=x,x===0&&T.length>10?T.length-=10:T.length-=9},L.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var A=0,k=0;k<T.length;k++){var v=0|T.words[k];A+=977*v,T.words[k]=67108863&A,A=64*v+(A/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},a(j,P),a(B,P),a(z,P),z.prototype.imulK=function(T){for(var A=0,k=0;k<T.length;k++){var v=19*(0|T.words[k])+A,x=67108863&v;v>>>=26,T.words[k]=x,A=v}return A!==0&&(T.words[T.length++]=A),T},i._prime=function(T){if(I[T])return I[T];var A;if(T==="k256")A=new L;else if(T==="p224")A=new j;else if(T==="p192")A=new B;else{if(T!=="p25519")throw new Error("Unknown prime "+T);A=new z}return I[T]=A,A},U.prototype._verify1=function(T){c(T.negative===0,"red works only with positives"),c(T.red,"red works only with red numbers")},U.prototype._verify2=function(T,A){c((T.negative|A.negative)==0,"red works only with positives"),c(T.red&&T.red===A.red,"red works only with red numbers")},U.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},U.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},U.prototype.add=function(T,A){this._verify2(T,A);var k=T.add(A);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},U.prototype.iadd=function(T,A){this._verify2(T,A);var k=T.iadd(A);return k.cmp(this.m)>=0&&k.isub(this.m),k},U.prototype.sub=function(T,A){this._verify2(T,A);var k=T.sub(A);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},U.prototype.isub=function(T,A){this._verify2(T,A);var k=T.isub(A);return k.cmpn(0)<0&&k.iadd(this.m),k},U.prototype.shl=function(T,A){return this._verify1(T),this.imod(T.ushln(A))},U.prototype.imul=function(T,A){return this._verify2(T,A),this.imod(T.imul(A))},U.prototype.mul=function(T,A){return this._verify2(T,A),this.imod(T.mul(A))},U.prototype.isqr=function(T){return this.imul(T,T.clone())},U.prototype.sqr=function(T){return this.mul(T,T)},U.prototype.sqrt=function(T){if(T.isZero())return T.clone();var A=this.m.andln(3);if(c(A%2==1),A===3){var k=this.m.add(new i(1)).iushrn(2);return this.pow(T,k)}for(var v=this.m.subn(1),x=0;!v.isZero()&&v.andln(1)===0;)x++,v.iushrn(1);c(!v.isZero());var w=new i(1).toRed(this),_=w.redNeg(),E=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new i(2*R*R).toRed(this);this.pow(R,E).cmp(_)!==0;)R.redIAdd(_);for(var O=this.pow(R,v),W=this.pow(T,v.addn(1).iushrn(1)),V=this.pow(T,v),X=x;V.cmp(w)!==0;){for(var D=V,K=0;D.cmp(w)!==0;K++)D=D.redSqr();c(K<X);var N=this.pow(O,new i(1).iushln(X-K-1));W=W.redMul(N),O=N.redSqr(),V=V.redMul(O),X=K}return W},U.prototype.invm=function(T){var A=T._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},U.prototype.pow=function(T,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return T.clone();var k=new Array(16);k[0]=new i(1).toRed(this),k[1]=T;for(var v=2;v<k.length;v++)k[v]=this.mul(k[v-1],T);var x=k[0],w=0,_=0,E=A.bitLength()%26;for(E===0&&(E=26),v=A.length-1;v>=0;v--){for(var R=A.words[v],O=E-1;O>=0;O--){var W=R>>O&1;x!==k[0]&&(x=this.sqr(x)),W!==0||w!==0?(w<<=1,w|=W,(++_===4||v===0&&O===0)&&(x=this.mul(x,k[w]),_=0,w=0)):_=0}E=26}return x},U.prototype.convertTo=function(T){var A=T.umod(this.m);return A===T?A.clone():A},U.prototype.convertFrom=function(T){var A=T.clone();return A.red=null,A},i.mont=function(T){return new H(T)},a(H,U),H.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},H.prototype.convertFrom=function(T){var A=this.imod(T.mul(this.rinv));return A.red=null,A},H.prototype.imul=function(T,A){if(T.isZero()||A.isZero())return T.words[0]=0,T.length=1,T;var k=T.imul(A),v=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=k.isub(v).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},H.prototype.mul=function(T,A){if(T.isZero()||A.isZero())return new i(0)._forceRed(this);var k=T.mul(A),v=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=k.isub(v).iushrn(this.shift),w=x;return x.cmp(this.m)>=0?w=x.isub(this.m):x.cmpn(0)<0&&(w=x.iadd(this.m)),w._forceRed(this)},H.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,l){l.byteLength=function(h){var g=f(h),y=g[0],p=g[1];return 3*(y+p)/4-p},l.toByteArray=function(h){var g,y,p=f(h),b=p[0],m=p[1],S=new c(function(P,L,j){return 3*(L+j)/4-j}(0,b,m)),C=0,I=m>0?b-4:b;for(y=0;y<I;y+=4)g=s[h.charCodeAt(y)]<<18|s[h.charCodeAt(y+1)]<<12|s[h.charCodeAt(y+2)]<<6|s[h.charCodeAt(y+3)],S[C++]=g>>16&255,S[C++]=g>>8&255,S[C++]=255&g;return m===2&&(g=s[h.charCodeAt(y)]<<2|s[h.charCodeAt(y+1)]>>4,S[C++]=255&g),m===1&&(g=s[h.charCodeAt(y)]<<10|s[h.charCodeAt(y+1)]<<4|s[h.charCodeAt(y+2)]>>2,S[C++]=g>>8&255,S[C++]=255&g),S},l.fromByteArray=function(h){for(var g,y=h.length,p=y%3,b=[],m=0,S=y-p;m<S;m+=16383)b.push(d(h,m,m+16383>S?S:m+16383));return p===1?(g=h[y-1],b.push(o[g>>2]+o[g<<4&63]+"==")):p===2&&(g=(h[y-2]<<8)+h[y-1],b.push(o[g>>10]+o[g>>4&63]+o[g<<2&63]+"=")),b.join("")};for(var o=[],s=[],c=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,u=a.length;i<u;++i)o[i]=a[i],s[a.charCodeAt(i)]=i;function f(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function d(h,g,y){for(var p,b,m=[],S=g;S<y;S+=3)p=(h[S]<<16&16711680)+(h[S+1]<<8&65280)+(255&h[S+2]),m.push(o[(b=p)>>18&63]+o[b>>12&63]+o[b>>6&63]+o[63&b]);return m.join("")}s[45]=62,s[95]=63},{}],186:[function(e,n,l){(function(o,s){function c(k,v){if(!k)throw new Error(v||"Assertion failed")}function a(k,v){k.super_=v;var x=function(){};x.prototype=v.prototype,k.prototype=new x,k.prototype.constructor=k}function i(k,v,x){if(i.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(v!=="le"&&v!=="be"||(x=v,v=10),this._init(k||0,v||10,x||"be"))}var u;typeof o=="object"?o.exports=i:(void 0).BN=i,i.BN=i,i.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(k,v){var x=k.charCodeAt(v);return x>=48&&x<=57?x-48:x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:void c(!1,"Invalid character in "+k)}function d(k,v,x){var w=f(k,x);return x-1>=v&&(w|=f(k,x-1)<<4),w}function h(k,v,x,w){for(var _=0,E=0,R=Math.min(k.length,x),O=v;O<R;O++){var W=k.charCodeAt(O)-48;_*=w,E=W>=49?W-49+10:W>=17?W-17+10:W,c(W>=0&&E<w,"Invalid character"),_+=E}return _}function g(k,v){k.words=v.words,k.length=v.length,k.negative=v.negative,k.red=v.red}if(i.isBN=function(k){return k instanceof i||k!==null&&typeof k=="object"&&k.constructor.wordSize===i.wordSize&&Array.isArray(k.words)},i.max=function(k,v){return k.cmp(v)>0?k:v},i.min=function(k,v){return k.cmp(v)<0?k:v},i.prototype._init=function(k,v,x){if(typeof k=="number")return this._initNumber(k,v,x);if(typeof k=="object")return this._initArray(k,v,x);v==="hex"&&(v=16),c(v===(0|v)&&v>=2&&v<=36);var w=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<k.length&&(v===16?this._parseHex(k,w,x):(this._parseBase(k,v,w),x==="le"&&this._initArray(this.toArray(),v,x)))},i.prototype._initNumber=function(k,v,x){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(c(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),v,x)},i.prototype._initArray=function(k,v,x){if(c(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,E,R=0;if(x==="be")for(w=k.length-1,_=0;w>=0;w-=3)E=k[w]|k[w-1]<<8|k[w-2]<<16,this.words[_]|=E<<R&67108863,this.words[_+1]=E>>>26-R&67108863,(R+=24)>=26&&(R-=26,_++);else if(x==="le")for(w=0,_=0;w<k.length;w+=3)E=k[w]|k[w+1]<<8|k[w+2]<<16,this.words[_]|=E<<R&67108863,this.words[_+1]=E>>>26-R&67108863,(R+=24)>=26&&(R-=26,_++);return this._strip()},i.prototype._parseHex=function(k,v,x){this.length=Math.ceil((k.length-v)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,E=0,R=0;if(x==="be")for(w=k.length-1;w>=v;w-=2)_=d(k,v,w)<<E,this.words[R]|=67108863&_,E>=18?(E-=18,R+=1,this.words[R]|=_>>>26):E+=8;else for(w=(k.length-v)%2==0?v+1:v;w<k.length;w+=2)_=d(k,v,w)<<E,this.words[R]|=67108863&_,E>=18?(E-=18,R+=1,this.words[R]|=_>>>26):E+=8;this._strip()},i.prototype._parseBase=function(k,v,x){this.words=[0],this.length=1;for(var w=0,_=1;_<=67108863;_*=v)w++;w--,_=_/v|0;for(var E=k.length-x,R=E%w,O=Math.min(E,E-R)+x,W=0,V=x;V<O;V+=w)W=h(k,V,V+w,v),this.imuln(_),this.words[0]+W<67108864?this.words[0]+=W:this._iaddn(W);if(R!==0){var X=1;for(W=h(k,V,k.length,v),V=0;V<R;V++)X*=v;this.imuln(X),this.words[0]+W<67108864?this.words[0]+=W:this._iaddn(W)}this._strip()},i.prototype.copy=function(k){k.words=new Array(this.length);for(var v=0;v<this.length;v++)k.words[v]=this.words[v];k.length=this.length,k.negative=this.negative,k.red=this.red},i.prototype._move=function(k){g(k,this)},i.prototype.clone=function(){var k=new i(null);return this.copy(k),k},i.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(k,v){var x;if(v=0|v||1,(k=k||10)===16||k==="hex"){x="";for(var w=0,_=0,E=0;E<this.length;E++){var R=this.words[E],O=(16777215&(R<<w|_)).toString(16);_=R>>>24-w&16777215,(w+=2)>=26&&(w-=26,E--),x=_!==0||E!==this.length-1?p[6-O.length]+O+x:O+x}for(_!==0&&(x=_.toString(16)+x);x.length%v!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(k===(0|k)&&k>=2&&k<=36){var W=b[k],V=m[k];x="";var X=this.clone();for(X.negative=0;!X.isZero();){var D=X.modrn(V).toString(k);x=(X=X.idivn(V)).isZero()?D+x:p[W-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%v!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}c(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(k,v){return this.toArrayLike(u,k,v)}),i.prototype.toArray=function(k,v){return this.toArrayLike(Array,k,v)};function S(k,v,x){x.negative=v.negative^k.negative;var w=k.length+v.length|0;x.length=w,w=w-1|0;var _=0|k.words[0],E=0|v.words[0],R=_*E,O=67108863&R,W=R/67108864|0;x.words[0]=O;for(var V=1;V<w;V++){for(var X=W>>>26,D=67108863&W,K=Math.min(V,v.length-1),N=Math.max(0,V-k.length+1);N<=K;N++){var M=V-N|0;X+=(R=(_=0|k.words[M])*(E=0|v.words[N])+D)/67108864|0,D=67108863&R}x.words[V]=0|D,W=0|X}return W!==0?x.words[V]=0|W:x.length--,x._strip()}i.prototype.toArrayLike=function(k,v,x){this._strip();var w=this.byteLength(),_=x||Math.max(1,w);c(w<=_,"byte array longer than desired length"),c(_>0,"Requested array length <= 0");var E=function(R,O){return R.allocUnsafe?R.allocUnsafe(O):new R(O)}(k,_);return this["_toArrayLike"+(v==="le"?"LE":"BE")](E,w),E},i.prototype._toArrayLikeLE=function(k,v){for(var x=0,w=0,_=0,E=0;_<this.length;_++){var R=this.words[_]<<E|w;k[x++]=255&R,x<k.length&&(k[x++]=R>>8&255),x<k.length&&(k[x++]=R>>16&255),E===6?(x<k.length&&(k[x++]=R>>24&255),w=0,E=0):(w=R>>>24,E+=2)}if(x<k.length)for(k[x++]=w;x<k.length;)k[x++]=0},i.prototype._toArrayLikeBE=function(k,v){for(var x=k.length-1,w=0,_=0,E=0;_<this.length;_++){var R=this.words[_]<<E|w;k[x--]=255&R,x>=0&&(k[x--]=R>>8&255),x>=0&&(k[x--]=R>>16&255),E===6?(x>=0&&(k[x--]=R>>24&255),w=0,E=0):(w=R>>>24,E+=2)}if(x>=0)for(k[x--]=w;x>=0;)k[x--]=0},Math.clz32?i.prototype._countBits=function(k){return 32-Math.clz32(k)}:i.prototype._countBits=function(k){var v=k,x=0;return v>=4096&&(x+=13,v>>>=13),v>=64&&(x+=7,v>>>=7),v>=8&&(x+=4,v>>>=4),v>=2&&(x+=2,v>>>=2),x+v},i.prototype._zeroBits=function(k){if(k===0)return 26;var v=k,x=0;return!(8191&v)&&(x+=13,v>>>=13),!(127&v)&&(x+=7,v>>>=7),!(15&v)&&(x+=4,v>>>=4),!(3&v)&&(x+=2,v>>>=2),!(1&v)&&x++,x},i.prototype.bitLength=function(){var k=this.words[this.length-1],v=this._countBits(k);return 26*(this.length-1)+v},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,v=0;v<this.length;v++){var x=this._zeroBits(this.words[v]);if(k+=x,x!==26)break}return k},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},i.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var v=0;v<k.length;v++)this.words[v]=this.words[v]|k.words[v];return this._strip()},i.prototype.ior=function(k){return c((this.negative|k.negative)==0),this.iuor(k)},i.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},i.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},i.prototype.iuand=function(k){var v;v=this.length>k.length?k:this;for(var x=0;x<v.length;x++)this.words[x]=this.words[x]&k.words[x];return this.length=v.length,this._strip()},i.prototype.iand=function(k){return c((this.negative|k.negative)==0),this.iuand(k)},i.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},i.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},i.prototype.iuxor=function(k){var v,x;this.length>k.length?(v=this,x=k):(v=k,x=this);for(var w=0;w<x.length;w++)this.words[w]=v.words[w]^x.words[w];if(this!==v)for(;w<v.length;w++)this.words[w]=v.words[w];return this.length=v.length,this._strip()},i.prototype.ixor=function(k){return c((this.negative|k.negative)==0),this.iuxor(k)},i.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},i.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},i.prototype.inotn=function(k){c(typeof k=="number"&&k>=0);var v=0|Math.ceil(k/26),x=k%26;this._expand(v),x>0&&v--;for(var w=0;w<v;w++)this.words[w]=67108863&~this.words[w];return x>0&&(this.words[w]=~this.words[w]&67108863>>26-x),this._strip()},i.prototype.notn=function(k){return this.clone().inotn(k)},i.prototype.setn=function(k,v){c(typeof k=="number"&&k>=0);var x=k/26|0,w=k%26;return this._expand(x+1),this.words[x]=v?this.words[x]|1<<w:this.words[x]&~(1<<w),this._strip()},i.prototype.iadd=function(k){var v,x,w;if(this.negative!==0&&k.negative===0)return this.negative=0,v=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,v=this.isub(k),k.negative=1,v._normSign();this.length>k.length?(x=this,w=k):(x=k,w=this);for(var _=0,E=0;E<w.length;E++)v=(0|x.words[E])+(0|w.words[E])+_,this.words[E]=67108863&v,_=v>>>26;for(;_!==0&&E<x.length;E++)v=(0|x.words[E])+_,this.words[E]=67108863&v,_=v>>>26;if(this.length=x.length,_!==0)this.words[this.length]=_,this.length++;else if(x!==this)for(;E<x.length;E++)this.words[E]=x.words[E];return this},i.prototype.add=function(k){var v;return k.negative!==0&&this.negative===0?(k.negative=0,v=this.sub(k),k.negative^=1,v):k.negative===0&&this.negative!==0?(this.negative=0,v=k.sub(this),this.negative=1,v):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},i.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var v=this.iadd(k);return k.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var x,w,_=this.cmp(k);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(x=this,w=k):(x=k,w=this);for(var E=0,R=0;R<w.length;R++)E=(v=(0|x.words[R])-(0|w.words[R])+E)>>26,this.words[R]=67108863&v;for(;E!==0&&R<x.length;R++)E=(v=(0|x.words[R])+E)>>26,this.words[R]=67108863&v;if(E===0&&R<x.length&&x!==this)for(;R<x.length;R++)this.words[R]=x.words[R];return this.length=Math.max(this.length,R),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(k){return this.clone().isub(k)};var C=function(k,v,x){var w,_,E,R=k.words,O=v.words,W=x.words,V=0,X=0|R[0],D=8191&X,K=X>>>13,N=0|R[1],M=8191&N,$=N>>>13,Y=0|R[2],ee=8191&Y,Q=Y>>>13,Z=0|R[3],le=8191&Z,ae=Z>>>13,J=0|R[4],ne=8191&J,se=J>>>13,me=0|R[5],de=8191&me,ge=me>>>13,ve=0|R[6],he=8191&ve,Me=ve>>>13,Ee=0|R[7],Fe=8191&Ee,De=Ee>>>13,et=0|R[8],He=8191&et,Ze=et>>>13,Je=0|R[9],We=8191&Je,Ce=Je>>>13,Be=0|O[0],Xe=8191&Be,Ke=Be>>>13,rt=0|O[1],dt=8191&rt,Le=rt>>>13,yt=0|O[2],ht=8191&yt,re=yt>>>13,_e=0|O[3],Ae=8191&_e,Oe=_e>>>13,Ye=0|O[4],Ve=8191&Ye,Pe=Ye>>>13,at=0|O[5],wt=8191&at,ct=at>>>13,ue=0|O[6],ye=8191&ue,Se=ue>>>13,$e=0|O[7],ot=8191&$e,Ge=$e>>>13,ut=0|O[8],it=8191&ut,st=ut>>>13,ft=0|O[9],pt=8191&ft,vt=ft>>>13;x.negative=k.negative^v.negative,x.length=19;var Dt=(V+(w=Math.imul(D,Xe))|0)+((8191&(_=(_=Math.imul(D,Ke))+Math.imul(K,Xe)|0))<<13)|0;V=((E=Math.imul(K,Ke))+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,w=Math.imul(M,Xe),_=(_=Math.imul(M,Ke))+Math.imul($,Xe)|0,E=Math.imul($,Ke);var Tt=(V+(w=w+Math.imul(D,dt)|0)|0)+((8191&(_=(_=_+Math.imul(D,Le)|0)+Math.imul(K,dt)|0))<<13)|0;V=((E=E+Math.imul(K,Le)|0)+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(ee,Xe),_=(_=Math.imul(ee,Ke))+Math.imul(Q,Xe)|0,E=Math.imul(Q,Ke),w=w+Math.imul(M,dt)|0,_=(_=_+Math.imul(M,Le)|0)+Math.imul($,dt)|0,E=E+Math.imul($,Le)|0;var $t=(V+(w=w+Math.imul(D,ht)|0)|0)+((8191&(_=(_=_+Math.imul(D,re)|0)+Math.imul(K,ht)|0))<<13)|0;V=((E=E+Math.imul(K,re)|0)+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(le,Xe),_=(_=Math.imul(le,Ke))+Math.imul(ae,Xe)|0,E=Math.imul(ae,Ke),w=w+Math.imul(ee,dt)|0,_=(_=_+Math.imul(ee,Le)|0)+Math.imul(Q,dt)|0,E=E+Math.imul(Q,Le)|0,w=w+Math.imul(M,ht)|0,_=(_=_+Math.imul(M,re)|0)+Math.imul($,ht)|0,E=E+Math.imul($,re)|0;var Wt=(V+(w=w+Math.imul(D,Ae)|0)|0)+((8191&(_=(_=_+Math.imul(D,Oe)|0)+Math.imul(K,Ae)|0))<<13)|0;V=((E=E+Math.imul(K,Oe)|0)+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,w=Math.imul(ne,Xe),_=(_=Math.imul(ne,Ke))+Math.imul(se,Xe)|0,E=Math.imul(se,Ke),w=w+Math.imul(le,dt)|0,_=(_=_+Math.imul(le,Le)|0)+Math.imul(ae,dt)|0,E=E+Math.imul(ae,Le)|0,w=w+Math.imul(ee,ht)|0,_=(_=_+Math.imul(ee,re)|0)+Math.imul(Q,ht)|0,E=E+Math.imul(Q,re)|0,w=w+Math.imul(M,Ae)|0,_=(_=_+Math.imul(M,Oe)|0)+Math.imul($,Ae)|0,E=E+Math.imul($,Oe)|0;var Gt=(V+(w=w+Math.imul(D,Ve)|0)|0)+((8191&(_=(_=_+Math.imul(D,Pe)|0)+Math.imul(K,Ve)|0))<<13)|0;V=((E=E+Math.imul(K,Pe)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(de,Xe),_=(_=Math.imul(de,Ke))+Math.imul(ge,Xe)|0,E=Math.imul(ge,Ke),w=w+Math.imul(ne,dt)|0,_=(_=_+Math.imul(ne,Le)|0)+Math.imul(se,dt)|0,E=E+Math.imul(se,Le)|0,w=w+Math.imul(le,ht)|0,_=(_=_+Math.imul(le,re)|0)+Math.imul(ae,ht)|0,E=E+Math.imul(ae,re)|0,w=w+Math.imul(ee,Ae)|0,_=(_=_+Math.imul(ee,Oe)|0)+Math.imul(Q,Ae)|0,E=E+Math.imul(Q,Oe)|0,w=w+Math.imul(M,Ve)|0,_=(_=_+Math.imul(M,Pe)|0)+Math.imul($,Ve)|0,E=E+Math.imul($,Pe)|0;var te=(V+(w=w+Math.imul(D,wt)|0)|0)+((8191&(_=(_=_+Math.imul(D,ct)|0)+Math.imul(K,wt)|0))<<13)|0;V=((E=E+Math.imul(K,ct)|0)+(_>>>13)|0)+(te>>>26)|0,te&=67108863,w=Math.imul(he,Xe),_=(_=Math.imul(he,Ke))+Math.imul(Me,Xe)|0,E=Math.imul(Me,Ke),w=w+Math.imul(de,dt)|0,_=(_=_+Math.imul(de,Le)|0)+Math.imul(ge,dt)|0,E=E+Math.imul(ge,Le)|0,w=w+Math.imul(ne,ht)|0,_=(_=_+Math.imul(ne,re)|0)+Math.imul(se,ht)|0,E=E+Math.imul(se,re)|0,w=w+Math.imul(le,Ae)|0,_=(_=_+Math.imul(le,Oe)|0)+Math.imul(ae,Ae)|0,E=E+Math.imul(ae,Oe)|0,w=w+Math.imul(ee,Ve)|0,_=(_=_+Math.imul(ee,Pe)|0)+Math.imul(Q,Ve)|0,E=E+Math.imul(Q,Pe)|0,w=w+Math.imul(M,wt)|0,_=(_=_+Math.imul(M,ct)|0)+Math.imul($,wt)|0,E=E+Math.imul($,ct)|0;var be=(V+(w=w+Math.imul(D,ye)|0)|0)+((8191&(_=(_=_+Math.imul(D,Se)|0)+Math.imul(K,ye)|0))<<13)|0;V=((E=E+Math.imul(K,Se)|0)+(_>>>13)|0)+(be>>>26)|0,be&=67108863,w=Math.imul(Fe,Xe),_=(_=Math.imul(Fe,Ke))+Math.imul(De,Xe)|0,E=Math.imul(De,Ke),w=w+Math.imul(he,dt)|0,_=(_=_+Math.imul(he,Le)|0)+Math.imul(Me,dt)|0,E=E+Math.imul(Me,Le)|0,w=w+Math.imul(de,ht)|0,_=(_=_+Math.imul(de,re)|0)+Math.imul(ge,ht)|0,E=E+Math.imul(ge,re)|0,w=w+Math.imul(ne,Ae)|0,_=(_=_+Math.imul(ne,Oe)|0)+Math.imul(se,Ae)|0,E=E+Math.imul(se,Oe)|0,w=w+Math.imul(le,Ve)|0,_=(_=_+Math.imul(le,Pe)|0)+Math.imul(ae,Ve)|0,E=E+Math.imul(ae,Pe)|0,w=w+Math.imul(ee,wt)|0,_=(_=_+Math.imul(ee,ct)|0)+Math.imul(Q,wt)|0,E=E+Math.imul(Q,ct)|0,w=w+Math.imul(M,ye)|0,_=(_=_+Math.imul(M,Se)|0)+Math.imul($,ye)|0,E=E+Math.imul($,Se)|0;var q=(V+(w=w+Math.imul(D,ot)|0)|0)+((8191&(_=(_=_+Math.imul(D,Ge)|0)+Math.imul(K,ot)|0))<<13)|0;V=((E=E+Math.imul(K,Ge)|0)+(_>>>13)|0)+(q>>>26)|0,q&=67108863,w=Math.imul(He,Xe),_=(_=Math.imul(He,Ke))+Math.imul(Ze,Xe)|0,E=Math.imul(Ze,Ke),w=w+Math.imul(Fe,dt)|0,_=(_=_+Math.imul(Fe,Le)|0)+Math.imul(De,dt)|0,E=E+Math.imul(De,Le)|0,w=w+Math.imul(he,ht)|0,_=(_=_+Math.imul(he,re)|0)+Math.imul(Me,ht)|0,E=E+Math.imul(Me,re)|0,w=w+Math.imul(de,Ae)|0,_=(_=_+Math.imul(de,Oe)|0)+Math.imul(ge,Ae)|0,E=E+Math.imul(ge,Oe)|0,w=w+Math.imul(ne,Ve)|0,_=(_=_+Math.imul(ne,Pe)|0)+Math.imul(se,Ve)|0,E=E+Math.imul(se,Pe)|0,w=w+Math.imul(le,wt)|0,_=(_=_+Math.imul(le,ct)|0)+Math.imul(ae,wt)|0,E=E+Math.imul(ae,ct)|0,w=w+Math.imul(ee,ye)|0,_=(_=_+Math.imul(ee,Se)|0)+Math.imul(Q,ye)|0,E=E+Math.imul(Q,Se)|0,w=w+Math.imul(M,ot)|0,_=(_=_+Math.imul(M,Ge)|0)+Math.imul($,ot)|0,E=E+Math.imul($,Ge)|0;var G=(V+(w=w+Math.imul(D,it)|0)|0)+((8191&(_=(_=_+Math.imul(D,st)|0)+Math.imul(K,it)|0))<<13)|0;V=((E=E+Math.imul(K,st)|0)+(_>>>13)|0)+(G>>>26)|0,G&=67108863,w=Math.imul(We,Xe),_=(_=Math.imul(We,Ke))+Math.imul(Ce,Xe)|0,E=Math.imul(Ce,Ke),w=w+Math.imul(He,dt)|0,_=(_=_+Math.imul(He,Le)|0)+Math.imul(Ze,dt)|0,E=E+Math.imul(Ze,Le)|0,w=w+Math.imul(Fe,ht)|0,_=(_=_+Math.imul(Fe,re)|0)+Math.imul(De,ht)|0,E=E+Math.imul(De,re)|0,w=w+Math.imul(he,Ae)|0,_=(_=_+Math.imul(he,Oe)|0)+Math.imul(Me,Ae)|0,E=E+Math.imul(Me,Oe)|0,w=w+Math.imul(de,Ve)|0,_=(_=_+Math.imul(de,Pe)|0)+Math.imul(ge,Ve)|0,E=E+Math.imul(ge,Pe)|0,w=w+Math.imul(ne,wt)|0,_=(_=_+Math.imul(ne,ct)|0)+Math.imul(se,wt)|0,E=E+Math.imul(se,ct)|0,w=w+Math.imul(le,ye)|0,_=(_=_+Math.imul(le,Se)|0)+Math.imul(ae,ye)|0,E=E+Math.imul(ae,Se)|0,w=w+Math.imul(ee,ot)|0,_=(_=_+Math.imul(ee,Ge)|0)+Math.imul(Q,ot)|0,E=E+Math.imul(Q,Ge)|0,w=w+Math.imul(M,it)|0,_=(_=_+Math.imul(M,st)|0)+Math.imul($,it)|0,E=E+Math.imul($,st)|0;var ie=(V+(w=w+Math.imul(D,pt)|0)|0)+((8191&(_=(_=_+Math.imul(D,vt)|0)+Math.imul(K,pt)|0))<<13)|0;V=((E=E+Math.imul(K,vt)|0)+(_>>>13)|0)+(ie>>>26)|0,ie&=67108863,w=Math.imul(We,dt),_=(_=Math.imul(We,Le))+Math.imul(Ce,dt)|0,E=Math.imul(Ce,Le),w=w+Math.imul(He,ht)|0,_=(_=_+Math.imul(He,re)|0)+Math.imul(Ze,ht)|0,E=E+Math.imul(Ze,re)|0,w=w+Math.imul(Fe,Ae)|0,_=(_=_+Math.imul(Fe,Oe)|0)+Math.imul(De,Ae)|0,E=E+Math.imul(De,Oe)|0,w=w+Math.imul(he,Ve)|0,_=(_=_+Math.imul(he,Pe)|0)+Math.imul(Me,Ve)|0,E=E+Math.imul(Me,Pe)|0,w=w+Math.imul(de,wt)|0,_=(_=_+Math.imul(de,ct)|0)+Math.imul(ge,wt)|0,E=E+Math.imul(ge,ct)|0,w=w+Math.imul(ne,ye)|0,_=(_=_+Math.imul(ne,Se)|0)+Math.imul(se,ye)|0,E=E+Math.imul(se,Se)|0,w=w+Math.imul(le,ot)|0,_=(_=_+Math.imul(le,Ge)|0)+Math.imul(ae,ot)|0,E=E+Math.imul(ae,Ge)|0,w=w+Math.imul(ee,it)|0,_=(_=_+Math.imul(ee,st)|0)+Math.imul(Q,it)|0,E=E+Math.imul(Q,st)|0;var ce=(V+(w=w+Math.imul(M,pt)|0)|0)+((8191&(_=(_=_+Math.imul(M,vt)|0)+Math.imul($,pt)|0))<<13)|0;V=((E=E+Math.imul($,vt)|0)+(_>>>13)|0)+(ce>>>26)|0,ce&=67108863,w=Math.imul(We,ht),_=(_=Math.imul(We,re))+Math.imul(Ce,ht)|0,E=Math.imul(Ce,re),w=w+Math.imul(He,Ae)|0,_=(_=_+Math.imul(He,Oe)|0)+Math.imul(Ze,Ae)|0,E=E+Math.imul(Ze,Oe)|0,w=w+Math.imul(Fe,Ve)|0,_=(_=_+Math.imul(Fe,Pe)|0)+Math.imul(De,Ve)|0,E=E+Math.imul(De,Pe)|0,w=w+Math.imul(he,wt)|0,_=(_=_+Math.imul(he,ct)|0)+Math.imul(Me,wt)|0,E=E+Math.imul(Me,ct)|0,w=w+Math.imul(de,ye)|0,_=(_=_+Math.imul(de,Se)|0)+Math.imul(ge,ye)|0,E=E+Math.imul(ge,Se)|0,w=w+Math.imul(ne,ot)|0,_=(_=_+Math.imul(ne,Ge)|0)+Math.imul(se,ot)|0,E=E+Math.imul(se,Ge)|0,w=w+Math.imul(le,it)|0,_=(_=_+Math.imul(le,st)|0)+Math.imul(ae,it)|0,E=E+Math.imul(ae,st)|0;var pe=(V+(w=w+Math.imul(ee,pt)|0)|0)+((8191&(_=(_=_+Math.imul(ee,vt)|0)+Math.imul(Q,pt)|0))<<13)|0;V=((E=E+Math.imul(Q,vt)|0)+(_>>>13)|0)+(pe>>>26)|0,pe&=67108863,w=Math.imul(We,Ae),_=(_=Math.imul(We,Oe))+Math.imul(Ce,Ae)|0,E=Math.imul(Ce,Oe),w=w+Math.imul(He,Ve)|0,_=(_=_+Math.imul(He,Pe)|0)+Math.imul(Ze,Ve)|0,E=E+Math.imul(Ze,Pe)|0,w=w+Math.imul(Fe,wt)|0,_=(_=_+Math.imul(Fe,ct)|0)+Math.imul(De,wt)|0,E=E+Math.imul(De,ct)|0,w=w+Math.imul(he,ye)|0,_=(_=_+Math.imul(he,Se)|0)+Math.imul(Me,ye)|0,E=E+Math.imul(Me,Se)|0,w=w+Math.imul(de,ot)|0,_=(_=_+Math.imul(de,Ge)|0)+Math.imul(ge,ot)|0,E=E+Math.imul(ge,Ge)|0,w=w+Math.imul(ne,it)|0,_=(_=_+Math.imul(ne,st)|0)+Math.imul(se,it)|0,E=E+Math.imul(se,st)|0;var Te=(V+(w=w+Math.imul(le,pt)|0)|0)+((8191&(_=(_=_+Math.imul(le,vt)|0)+Math.imul(ae,pt)|0))<<13)|0;V=((E=E+Math.imul(ae,vt)|0)+(_>>>13)|0)+(Te>>>26)|0,Te&=67108863,w=Math.imul(We,Ve),_=(_=Math.imul(We,Pe))+Math.imul(Ce,Ve)|0,E=Math.imul(Ce,Pe),w=w+Math.imul(He,wt)|0,_=(_=_+Math.imul(He,ct)|0)+Math.imul(Ze,wt)|0,E=E+Math.imul(Ze,ct)|0,w=w+Math.imul(Fe,ye)|0,_=(_=_+Math.imul(Fe,Se)|0)+Math.imul(De,ye)|0,E=E+Math.imul(De,Se)|0,w=w+Math.imul(he,ot)|0,_=(_=_+Math.imul(he,Ge)|0)+Math.imul(Me,ot)|0,E=E+Math.imul(Me,Ge)|0,w=w+Math.imul(de,it)|0,_=(_=_+Math.imul(de,st)|0)+Math.imul(ge,it)|0,E=E+Math.imul(ge,st)|0;var ke=(V+(w=w+Math.imul(ne,pt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,vt)|0)+Math.imul(se,pt)|0))<<13)|0;V=((E=E+Math.imul(se,vt)|0)+(_>>>13)|0)+(ke>>>26)|0,ke&=67108863,w=Math.imul(We,wt),_=(_=Math.imul(We,ct))+Math.imul(Ce,wt)|0,E=Math.imul(Ce,ct),w=w+Math.imul(He,ye)|0,_=(_=_+Math.imul(He,Se)|0)+Math.imul(Ze,ye)|0,E=E+Math.imul(Ze,Se)|0,w=w+Math.imul(Fe,ot)|0,_=(_=_+Math.imul(Fe,Ge)|0)+Math.imul(De,ot)|0,E=E+Math.imul(De,Ge)|0,w=w+Math.imul(he,it)|0,_=(_=_+Math.imul(he,st)|0)+Math.imul(Me,it)|0,E=E+Math.imul(Me,st)|0;var we=(V+(w=w+Math.imul(de,pt)|0)|0)+((8191&(_=(_=_+Math.imul(de,vt)|0)+Math.imul(ge,pt)|0))<<13)|0;V=((E=E+Math.imul(ge,vt)|0)+(_>>>13)|0)+(we>>>26)|0,we&=67108863,w=Math.imul(We,ye),_=(_=Math.imul(We,Se))+Math.imul(Ce,ye)|0,E=Math.imul(Ce,Se),w=w+Math.imul(He,ot)|0,_=(_=_+Math.imul(He,Ge)|0)+Math.imul(Ze,ot)|0,E=E+Math.imul(Ze,Ge)|0,w=w+Math.imul(Fe,it)|0,_=(_=_+Math.imul(Fe,st)|0)+Math.imul(De,it)|0,E=E+Math.imul(De,st)|0;var xe=(V+(w=w+Math.imul(he,pt)|0)|0)+((8191&(_=(_=_+Math.imul(he,vt)|0)+Math.imul(Me,pt)|0))<<13)|0;V=((E=E+Math.imul(Me,vt)|0)+(_>>>13)|0)+(xe>>>26)|0,xe&=67108863,w=Math.imul(We,ot),_=(_=Math.imul(We,Ge))+Math.imul(Ce,ot)|0,E=Math.imul(Ce,Ge),w=w+Math.imul(He,it)|0,_=(_=_+Math.imul(He,st)|0)+Math.imul(Ze,it)|0,E=E+Math.imul(Ze,st)|0;var je=(V+(w=w+Math.imul(Fe,pt)|0)|0)+((8191&(_=(_=_+Math.imul(Fe,vt)|0)+Math.imul(De,pt)|0))<<13)|0;V=((E=E+Math.imul(De,vt)|0)+(_>>>13)|0)+(je>>>26)|0,je&=67108863,w=Math.imul(We,it),_=(_=Math.imul(We,st))+Math.imul(Ce,it)|0,E=Math.imul(Ce,st);var qe=(V+(w=w+Math.imul(He,pt)|0)|0)+((8191&(_=(_=_+Math.imul(He,vt)|0)+Math.imul(Ze,pt)|0))<<13)|0;V=((E=E+Math.imul(Ze,vt)|0)+(_>>>13)|0)+(qe>>>26)|0,qe&=67108863;var Ne=(V+(w=Math.imul(We,pt))|0)+((8191&(_=(_=Math.imul(We,vt))+Math.imul(Ce,pt)|0))<<13)|0;return V=((E=Math.imul(Ce,vt))+(_>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,W[0]=Dt,W[1]=Tt,W[2]=$t,W[3]=Wt,W[4]=Gt,W[5]=te,W[6]=be,W[7]=q,W[8]=G,W[9]=ie,W[10]=ce,W[11]=pe,W[12]=Te,W[13]=ke,W[14]=we,W[15]=xe,W[16]=je,W[17]=qe,W[18]=Ne,V!==0&&(W[19]=V,x.length++),x};function I(k,v,x){x.negative=v.negative^k.negative,x.length=k.length+v.length;for(var w=0,_=0,E=0;E<x.length-1;E++){var R=_;_=0;for(var O=67108863&w,W=Math.min(E,v.length-1),V=Math.max(0,E-k.length+1);V<=W;V++){var X=E-V,D=(0|k.words[X])*(0|v.words[V]),K=67108863&D;O=67108863&(K=K+O|0),_+=(R=(R=R+(D/67108864|0)|0)+(K>>>26)|0)>>>26,R&=67108863}x.words[E]=O,w=R,R=_}return w!==0?x.words[E]=w:x.length--,x._strip()}function P(k,v,x){return I(k,v,x)}Math.imul||(C=S),i.prototype.mulTo=function(k,v){var x=this.length+k.length;return this.length===10&&k.length===10?C(this,k,v):x<63?S(this,k,v):x<1024?I(this,k,v):P(this,k,v)},i.prototype.mul=function(k){var v=new i(null);return v.words=new Array(this.length+k.length),this.mulTo(k,v)},i.prototype.mulf=function(k){var v=new i(null);return v.words=new Array(this.length+k.length),P(this,k,v)},i.prototype.imul=function(k){return this.clone().mulTo(k,this)},i.prototype.imuln=function(k){var v=k<0;v&&(k=-k),c(typeof k=="number"),c(k<67108864);for(var x=0,w=0;w<this.length;w++){var _=(0|this.words[w])*k,E=(67108863&_)+(67108863&x);x>>=26,x+=_/67108864|0,x+=E>>>26,this.words[w]=67108863&E}return x!==0&&(this.words[w]=x,this.length++),v?this.ineg():this},i.prototype.muln=function(k){return this.clone().imuln(k)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(k){var v=function(E){for(var R=new Array(E.bitLength()),O=0;O<R.length;O++){var W=O/26|0,V=O%26;R[O]=E.words[W]>>>V&1}return R}(k);if(v.length===0)return new i(1);for(var x=this,w=0;w<v.length&&v[w]===0;w++,x=x.sqr());if(++w<v.length)for(var _=x.sqr();w<v.length;w++,_=_.sqr())v[w]!==0&&(x=x.mul(_));return x},i.prototype.iushln=function(k){c(typeof k=="number"&&k>=0);var v,x=k%26,w=(k-x)/26,_=67108863>>>26-x<<26-x;if(x!==0){var E=0;for(v=0;v<this.length;v++){var R=this.words[v]&_,O=(0|this.words[v])-R<<x;this.words[v]=O|E,E=R>>>26-x}E&&(this.words[v]=E,this.length++)}if(w!==0){for(v=this.length-1;v>=0;v--)this.words[v+w]=this.words[v];for(v=0;v<w;v++)this.words[v]=0;this.length+=w}return this._strip()},i.prototype.ishln=function(k){return c(this.negative===0),this.iushln(k)},i.prototype.iushrn=function(k,v,x){var w;c(typeof k=="number"&&k>=0),w=v?(v-v%26)/26:0;var _=k%26,E=Math.min((k-_)/26,this.length),R=67108863^67108863>>>_<<_,O=x;if(w-=E,w=Math.max(0,w),O){for(var W=0;W<E;W++)O.words[W]=this.words[W];O.length=E}if(E!==0)if(this.length>E)for(this.length-=E,W=0;W<this.length;W++)this.words[W]=this.words[W+E];else this.words[0]=0,this.length=1;var V=0;for(W=this.length-1;W>=0&&(V!==0||W>=w);W--){var X=0|this.words[W];this.words[W]=V<<26-_|X>>>_,V=X&R}return O&&V!==0&&(O.words[O.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(k,v,x){return c(this.negative===0),this.iushrn(k,v,x)},i.prototype.shln=function(k){return this.clone().ishln(k)},i.prototype.ushln=function(k){return this.clone().iushln(k)},i.prototype.shrn=function(k){return this.clone().ishrn(k)},i.prototype.ushrn=function(k){return this.clone().iushrn(k)},i.prototype.testn=function(k){c(typeof k=="number"&&k>=0);var v=k%26,x=(k-v)/26,w=1<<v;return!(this.length<=x)&&!!(this.words[x]&w)},i.prototype.imaskn=function(k){c(typeof k=="number"&&k>=0);var v=k%26,x=(k-v)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(v!==0&&x++,this.length=Math.min(x,this.length),v!==0){var w=67108863^67108863>>>v<<v;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(k){return this.clone().imaskn(k)},i.prototype.iaddn=function(k){return c(typeof k=="number"),c(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},i.prototype._iaddn=function(k){this.words[0]+=k;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(k){if(c(typeof k=="number"),c(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},i.prototype.addn=function(k){return this.clone().iaddn(k)},i.prototype.subn=function(k){return this.clone().isubn(k)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(k,v,x){var w,_,E=k.length+x;this._expand(E);var R=0;for(w=0;w<k.length;w++){_=(0|this.words[w+x])+R;var O=(0|k.words[w])*v;R=((_-=67108863&O)>>26)-(O/67108864|0),this.words[w+x]=67108863&_}for(;w<this.length-x;w++)R=(_=(0|this.words[w+x])+R)>>26,this.words[w+x]=67108863&_;if(R===0)return this._strip();for(c(R===-1),R=0,w=0;w<this.length;w++)R=(_=-(0|this.words[w])+R)>>26,this.words[w]=67108863&_;return this.negative=1,this._strip()},i.prototype._wordDiv=function(k,v){var x=(this.length,k.length),w=this.clone(),_=k,E=0|_.words[_.length-1];(x=26-this._countBits(E))!==0&&(_=_.ushln(x),w.iushln(x),E=0|_.words[_.length-1]);var R,O=w.length-_.length;if(v!=="mod"){(R=new i(null)).length=O+1,R.words=new Array(R.length);for(var W=0;W<R.length;W++)R.words[W]=0}var V=w.clone()._ishlnsubmul(_,1,O);V.negative===0&&(w=V,R&&(R.words[O]=1));for(var X=O-1;X>=0;X--){var D=67108864*(0|w.words[_.length+X])+(0|w.words[_.length+X-1]);for(D=Math.min(D/E|0,67108863),w._ishlnsubmul(_,D,X);w.negative!==0;)D--,w.negative=0,w._ishlnsubmul(_,1,X),w.isZero()||(w.negative^=1);R&&(R.words[X]=D)}return R&&R._strip(),w._strip(),v!=="div"&&x!==0&&w.iushrn(x),{div:R||null,mod:w}},i.prototype.divmod=function(k,v,x){return c(!k.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&k.negative===0?(E=this.neg().divmod(k,v),v!=="mod"&&(w=E.div.neg()),v!=="div"&&(_=E.mod.neg(),x&&_.negative!==0&&_.iadd(k)),{div:w,mod:_}):this.negative===0&&k.negative!==0?(E=this.divmod(k.neg(),v),v!=="mod"&&(w=E.div.neg()),{div:w,mod:E.mod}):this.negative&k.negative?(E=this.neg().divmod(k.neg(),v),v!=="div"&&(_=E.mod.neg(),x&&_.negative!==0&&_.isub(k)),{div:E.div,mod:_}):k.length>this.length||this.cmp(k)<0?{div:new i(0),mod:this}:k.length===1?v==="div"?{div:this.divn(k.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new i(this.modrn(k.words[0]))}:this._wordDiv(k,v);var w,_,E},i.prototype.div=function(k){return this.divmod(k,"div",!1).div},i.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},i.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},i.prototype.divRound=function(k){var v=this.divmod(k);if(v.mod.isZero())return v.div;var x=v.div.negative!==0?v.mod.isub(k):v.mod,w=k.ushrn(1),_=k.andln(1),E=x.cmp(w);return E<0||_===1&&E===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modrn=function(k){var v=k<0;v&&(k=-k),c(k<=67108863);for(var x=(1<<26)%k,w=0,_=this.length-1;_>=0;_--)w=(x*w+(0|this.words[_]))%k;return v?-w:w},i.prototype.modn=function(k){return this.modrn(k)},i.prototype.idivn=function(k){var v=k<0;v&&(k=-k),c(k<=67108863);for(var x=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*x;this.words[w]=_/k|0,x=_%k}return this._strip(),v?this.ineg():this},i.prototype.divn=function(k){return this.clone().idivn(k)},i.prototype.egcd=function(k){c(k.negative===0),c(!k.isZero());var v=this,x=k.clone();v=v.negative!==0?v.umod(k):v.clone();for(var w=new i(1),_=new i(0),E=new i(0),R=new i(1),O=0;v.isEven()&&x.isEven();)v.iushrn(1),x.iushrn(1),++O;for(var W=x.clone(),V=v.clone();!v.isZero();){for(var X=0,D=1;!(v.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(v.iushrn(X);X-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(W),_.isub(V)),w.iushrn(1),_.iushrn(1);for(var K=0,N=1;!(x.words[0]&N)&&K<26;++K,N<<=1);if(K>0)for(x.iushrn(K);K-- >0;)(E.isOdd()||R.isOdd())&&(E.iadd(W),R.isub(V)),E.iushrn(1),R.iushrn(1);v.cmp(x)>=0?(v.isub(x),w.isub(E),_.isub(R)):(x.isub(v),E.isub(w),R.isub(_))}return{a:E,b:R,gcd:x.iushln(O)}},i.prototype._invmp=function(k){c(k.negative===0),c(!k.isZero());var v=this,x=k.clone();v=v.negative!==0?v.umod(k):v.clone();for(var w,_=new i(1),E=new i(0),R=x.clone();v.cmpn(1)>0&&x.cmpn(1)>0;){for(var O=0,W=1;!(v.words[0]&W)&&O<26;++O,W<<=1);if(O>0)for(v.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(R),_.iushrn(1);for(var V=0,X=1;!(x.words[0]&X)&&V<26;++V,X<<=1);if(V>0)for(x.iushrn(V);V-- >0;)E.isOdd()&&E.iadd(R),E.iushrn(1);v.cmp(x)>=0?(v.isub(x),_.isub(E)):(x.isub(v),E.isub(_))}return(w=v.cmpn(1)===0?_:E).cmpn(0)<0&&w.iadd(k),w},i.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var v=this.clone(),x=k.clone();v.negative=0,x.negative=0;for(var w=0;v.isEven()&&x.isEven();w++)v.iushrn(1),x.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;x.isEven();)x.iushrn(1);var _=v.cmp(x);if(_<0){var E=v;v=x,x=E}else if(_===0||x.cmpn(1)===0)break;v.isub(x)}return x.iushln(w)},i.prototype.invm=function(k){return this.egcd(k).a.umod(k)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(k){return this.words[0]&k},i.prototype.bincn=function(k){c(typeof k=="number");var v=k%26,x=(k-v)/26,w=1<<v;if(this.length<=x)return this._expand(x+1),this.words[x]|=w,this;for(var _=w,E=x;_!==0&&E<this.length;E++){var R=0|this.words[E];_=(R+=_)>>>26,R&=67108863,this.words[E]=R}return _!==0&&(this.words[E]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(k){var v,x=k<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;if(this._strip(),this.length>1)v=1;else{x&&(k=-k),c(k<=67108863,"Number is too big");var w=0|this.words[0];v=w===k?0:w<k?-1:1}return this.negative!==0?0|-v:v},i.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var v=this.ucmp(k);return this.negative!==0?0|-v:v},i.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var v=0,x=this.length-1;x>=0;x--){var w=0|this.words[x],_=0|k.words[x];if(w!==_){w<_?v=-1:w>_&&(v=1);break}}return v},i.prototype.gtn=function(k){return this.cmpn(k)===1},i.prototype.gt=function(k){return this.cmp(k)===1},i.prototype.gten=function(k){return this.cmpn(k)>=0},i.prototype.gte=function(k){return this.cmp(k)>=0},i.prototype.ltn=function(k){return this.cmpn(k)===-1},i.prototype.lt=function(k){return this.cmp(k)===-1},i.prototype.lten=function(k){return this.cmpn(k)<=0},i.prototype.lte=function(k){return this.cmp(k)<=0},i.prototype.eqn=function(k){return this.cmpn(k)===0},i.prototype.eq=function(k){return this.cmp(k)===0},i.red=function(k){return new T(k)},i.prototype.toRed=function(k){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},i.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(k){return this.red=k,this},i.prototype.forceRed=function(k){return c(!this.red,"Already a number in reduction context"),this._forceRed(k)},i.prototype.redAdd=function(k){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},i.prototype.redIAdd=function(k){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},i.prototype.redSub=function(k){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},i.prototype.redISub=function(k){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},i.prototype.redShl=function(k){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},i.prototype.redMul=function(k){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},i.prototype.redIMul=function(k){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},i.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(k){return c(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var L={k256:null,p224:null,p192:null,p25519:null};function j(k,v){this.name=k,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(k){if(typeof k=="string"){var v=i._prime(k);this.m=v.p,this.prime=v}else c(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function A(k){T.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var k=new i(null);return k.words=new Array(Math.ceil(this.n/13)),k},j.prototype.ireduce=function(k){var v,x=k;do this.split(x,this.tmp),v=(x=(x=this.imulK(x)).iadd(this.tmp)).bitLength();while(v>this.n);var w=v<this.n?-1:x.ucmp(this.p);return w===0?(x.words[0]=0,x.length=1):w>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},j.prototype.split=function(k,v){k.iushrn(this.n,0,v)},j.prototype.imulK=function(k){return k.imul(this.k)},a(B,j),B.prototype.split=function(k,v){for(var x=Math.min(k.length,9),w=0;w<x;w++)v.words[w]=k.words[w];if(v.length=x,k.length<=9)return k.words[0]=0,void(k.length=1);var _=k.words[9];for(v.words[v.length++]=4194303&_,w=10;w<k.length;w++){var E=0|k.words[w];k.words[w-10]=(4194303&E)<<4|_>>>22,_=E}_>>>=22,k.words[w-10]=_,_===0&&k.length>10?k.length-=10:k.length-=9},B.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var v=0,x=0;x<k.length;x++){var w=0|k.words[x];v+=977*w,k.words[x]=67108863&v,v=64*w+(v/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},a(z,j),a(U,j),a(H,j),H.prototype.imulK=function(k){for(var v=0,x=0;x<k.length;x++){var w=19*(0|k.words[x])+v,_=67108863&w;w>>>=26,k.words[x]=_,v=w}return v!==0&&(k.words[k.length++]=v),k},i._prime=function(k){if(L[k])return L[k];var v;if(k==="k256")v=new B;else if(k==="p224")v=new z;else if(k==="p192")v=new U;else{if(k!=="p25519")throw new Error("Unknown prime "+k);v=new H}return L[k]=v,v},T.prototype._verify1=function(k){c(k.negative===0,"red works only with positives"),c(k.red,"red works only with red numbers")},T.prototype._verify2=function(k,v){c((k.negative|v.negative)==0,"red works only with positives"),c(k.red&&k.red===v.red,"red works only with red numbers")},T.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(g(k,k.umod(this.m)._forceRed(this)),k)},T.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},T.prototype.add=function(k,v){this._verify2(k,v);var x=k.add(v);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},T.prototype.iadd=function(k,v){this._verify2(k,v);var x=k.iadd(v);return x.cmp(this.m)>=0&&x.isub(this.m),x},T.prototype.sub=function(k,v){this._verify2(k,v);var x=k.sub(v);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},T.prototype.isub=function(k,v){this._verify2(k,v);var x=k.isub(v);return x.cmpn(0)<0&&x.iadd(this.m),x},T.prototype.shl=function(k,v){return this._verify1(k),this.imod(k.ushln(v))},T.prototype.imul=function(k,v){return this._verify2(k,v),this.imod(k.imul(v))},T.prototype.mul=function(k,v){return this._verify2(k,v),this.imod(k.mul(v))},T.prototype.isqr=function(k){return this.imul(k,k.clone())},T.prototype.sqr=function(k){return this.mul(k,k)},T.prototype.sqrt=function(k){if(k.isZero())return k.clone();var v=this.m.andln(3);if(c(v%2==1),v===3){var x=this.m.add(new i(1)).iushrn(2);return this.pow(k,x)}for(var w=this.m.subn(1),_=0;!w.isZero()&&w.andln(1)===0;)_++,w.iushrn(1);c(!w.isZero());var E=new i(1).toRed(this),R=E.redNeg(),O=this.m.subn(1).iushrn(1),W=this.m.bitLength();for(W=new i(2*W*W).toRed(this);this.pow(W,O).cmp(R)!==0;)W.redIAdd(R);for(var V=this.pow(W,w),X=this.pow(k,w.addn(1).iushrn(1)),D=this.pow(k,w),K=_;D.cmp(E)!==0;){for(var N=D,M=0;N.cmp(E)!==0;M++)N=N.redSqr();c(M<K);var $=this.pow(V,new i(1).iushln(K-M-1));X=X.redMul($),V=$.redSqr(),D=D.redMul(V),K=M}return X},T.prototype.invm=function(k){var v=k._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},T.prototype.pow=function(k,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return k.clone();var x=new Array(16);x[0]=new i(1).toRed(this),x[1]=k;for(var w=2;w<x.length;w++)x[w]=this.mul(x[w-1],k);var _=x[0],E=0,R=0,O=v.bitLength()%26;for(O===0&&(O=26),w=v.length-1;w>=0;w--){for(var W=v.words[w],V=O-1;V>=0;V--){var X=W>>V&1;_!==x[0]&&(_=this.sqr(_)),X!==0||E!==0?(E<<=1,E|=X,(++R===4||w===0&&V===0)&&(_=this.mul(_,x[E]),R=0,E=0)):R=0}O=26}return _},T.prototype.convertTo=function(k){var v=k.umod(this.m);return v===k?v.clone():v},T.prototype.convertFrom=function(k){var v=k.clone();return v.red=null,v},i.mont=function(k){return new A(k)},a(A,T),A.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},A.prototype.convertFrom=function(k){var v=this.imod(k.mul(this.rinv));return v.red=null,v},A.prototype.imul=function(k,v){if(k.isZero()||v.isZero())return k.words[0]=0,k.length=1,k;var x=k.imul(v),w=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=x.isub(w).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},A.prototype.mul=function(k,v){if(k.isZero()||v.isZero())return new i(0)._forceRed(this);var x=k.mul(v),w=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=x.isub(w).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},A.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,l){var o;function s(a){this.rand=a}if(n.exports=function(a){return o||(o=new s(null)),o.generate(a)},n.exports.Rand=s,s.prototype.generate=function(a){return this._rand(a)},s.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var i=new Uint8Array(a),u=0;u<i.length;u++)i[u]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(a){var i=new Uint8Array(a);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(a){var i=new Uint8Array(a);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(a){return c.randomBytes(a)}}catch{}},{crypto:188}],188:[function(e,n,l){},{}],189:[function(e,n,l){var o=e("safe-buffer").Buffer;function s(d){o.isBuffer(d)||(d=o.from(d));for(var h=d.length/4|0,g=new Array(h),y=0;y<h;y++)g[y]=d.readUInt32BE(4*y);return g}function c(d){for(;0<d.length;d++)d[0]=0}function a(d,h,g,y,p){for(var b,m,S,C,I=g[0],P=g[1],L=g[2],j=g[3],B=d[0]^h[0],z=d[1]^h[1],U=d[2]^h[2],H=d[3]^h[3],T=4,A=1;A<p;A++)b=I[B>>>24]^P[z>>>16&255]^L[U>>>8&255]^j[255&H]^h[T++],m=I[z>>>24]^P[U>>>16&255]^L[H>>>8&255]^j[255&B]^h[T++],S=I[U>>>24]^P[H>>>16&255]^L[B>>>8&255]^j[255&z]^h[T++],C=I[H>>>24]^P[B>>>16&255]^L[z>>>8&255]^j[255&U]^h[T++],B=b,z=m,U=S,H=C;return b=(y[B>>>24]<<24|y[z>>>16&255]<<16|y[U>>>8&255]<<8|y[255&H])^h[T++],m=(y[z>>>24]<<24|y[U>>>16&255]<<16|y[H>>>8&255]<<8|y[255&B])^h[T++],S=(y[U>>>24]<<24|y[H>>>16&255]<<16|y[B>>>8&255]<<8|y[255&z])^h[T++],C=(y[H>>>24]<<24|y[B>>>16&255]<<16|y[z>>>8&255]<<8|y[255&U])^h[T++],[b>>>=0,m>>>=0,S>>>=0,C>>>=0]}var i=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var g=[],y=[],p=[[],[],[],[]],b=[[],[],[],[]],m=0,S=0,C=0;C<256;++C){var I=S^S<<1^S<<2^S<<3^S<<4;I=I>>>8^255&I^99,g[m]=I,y[I]=m;var P=d[m],L=d[P],j=d[L],B=257*d[I]^16843008*I;p[0][m]=B<<24|B>>>8,p[1][m]=B<<16|B>>>16,p[2][m]=B<<8|B>>>24,p[3][m]=B,B=16843009*j^65537*L^257*P^16843008*m,b[0][I]=B<<24|B>>>8,b[1][I]=B<<16|B>>>16,b[2][I]=B<<8|B>>>24,b[3][I]=B,m===0?m=S=1:(m=P^d[d[d[j^P]]],S^=d[d[S]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:p,INV_SUB_MIX:b}}();function f(d){this._key=s(d),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var d=this._key,h=d.length,g=h+6,y=4*(g+1),p=[],b=0;b<h;b++)p[b]=d[b];for(b=h;b<y;b++){var m=p[b-1];b%h==0?(m=m<<8|m>>>24,m=u.SBOX[m>>>24]<<24|u.SBOX[m>>>16&255]<<16|u.SBOX[m>>>8&255]<<8|u.SBOX[255&m],m^=i[b/h|0]<<24):h>6&&b%h==4&&(m=u.SBOX[m>>>24]<<24|u.SBOX[m>>>16&255]<<16|u.SBOX[m>>>8&255]<<8|u.SBOX[255&m]),p[b]=p[b-h]^m}for(var S=[],C=0;C<y;C++){var I=y-C,P=p[I-(C%4?0:4)];S[C]=C<4||I<=4?P:u.INV_SUB_MIX[0][u.SBOX[P>>>24]]^u.INV_SUB_MIX[1][u.SBOX[P>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[P>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&P]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=S},f.prototype.encryptBlockRaw=function(d){return a(d=s(d),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),g=o.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},f.prototype.decryptBlock=function(d){var h=(d=s(d))[1];d[1]=d[3],d[3]=h;var g=a(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),y=o.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},f.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(e,n,l){var o=e("./aes"),s=e("safe-buffer").Buffer,c=e("cipher-base"),a=e("inherits"),i=e("./ghash"),u=e("buffer-xor"),f=e("./incr32");function d(h,g,y,p){c.call(this);var b=s.alloc(4,0);this._cipher=new o.AES(g);var m=this._cipher.encryptBlock(b);this._ghash=new i(m),y=function(S,C,I){if(C.length===12)return S._finID=s.concat([C,s.from([0,0,0,1])]),s.concat([C,s.from([0,0,0,2])]);var P=new i(I),L=C.length,j=L%16;P.update(C),j&&(j=16-j,P.update(s.alloc(j,0))),P.update(s.alloc(8,0));var B=8*L,z=s.alloc(8);z.writeUIntBE(B,0,8),P.update(z),S._finID=P.state;var U=s.from(S._finID);return f(U),U}(this,y,m),this._prev=s.from(y),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}a(d,c),d.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=s.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(y),this._len+=h.length,y},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,y){var p=0;g.length!==y.length&&p++;for(var b=Math.min(g.length,y.length),m=0;m<b;++m)p+=g[m]^y[m];return p}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,l){var o=e("./encrypter"),s=e("./decrypter"),c=e("./modes/list.json");l.createCipher=l.Cipher=o.createCipher,l.createCipheriv=l.Cipheriv=o.createCipheriv,l.createDecipher=l.Decipher=s.createDecipher,l.createDecipheriv=l.Decipheriv=s.createDecipheriv,l.listCiphers=l.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,l){var o=e("./authCipher"),s=e("safe-buffer").Buffer,c=e("./modes"),a=e("./streamCipher"),i=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function d(y,p,b){i.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(p),this._prev=s.from(b),this._mode=y,this._autopadding=!0}function h(){this.cache=s.allocUnsafe(0)}function g(y,p,b){var m=c[y.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=s.from(b)),m.mode!=="GCM"&&b.length!==m.iv)throw new TypeError("invalid iv length "+b.length);if(typeof p=="string"&&(p=s.from(p)),p.length!==m.key/8)throw new TypeError("invalid key length "+p.length);return m.type==="stream"?new a(m.module,p,b,!0):m.type==="auth"?new o(m.module,p,b,!0):new d(m.module,p,b)}e("inherits")(d,i),d.prototype._update=function(y){var p,b;this._cache.add(y);for(var m=[];p=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,p),m.push(b);return s.concat(m)},d.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return function(p){var b=p[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var m=-1;++m<b;)if(p[m+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return p.slice(0,16-b)}(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},h.prototype.add=function(y){this.cache=s.concat([this.cache,y])},h.prototype.get=function(y){var p;if(y){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},l.createDecipher=function(y,p){var b=c[y.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var m=f(p,!1,b.key,b.iv);return g(y,m.key,m.iv)},l.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,l){var o=e("./modes"),s=e("./authCipher"),c=e("safe-buffer").Buffer,a=e("./streamCipher"),i=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function d(p,b,m){i.call(this),this._cache=new g,this._cipher=new u.AES(b),this._prev=c.from(m),this._mode=p,this._autopadding=!0}e("inherits")(d,i),d.prototype._update=function(p){var b,m;this._cache.add(p);for(var S=[];b=this._cache.get();)m=this._mode.encrypt(this,b),S.push(m);return c.concat(S)};var h=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function y(p,b,m){var S=o[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=c.from(b)),b.length!==S.key/8)throw new TypeError("invalid key length "+b.length);if(typeof m=="string"&&(m=c.from(m)),S.mode!=="GCM"&&m.length!==S.iv)throw new TypeError("invalid iv length "+m.length);return S.type==="stream"?new a(S.module,b,m):S.type==="auth"?new s(S.module,b,m):new d(S.module,b,m)}d.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=c.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,b=c.allocUnsafe(p),m=-1;++m<p;)b.writeUInt8(p,m);return c.concat([this.cache,b])},l.createCipheriv=y,l.createCipher=function(p,b){var m=o[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var S=f(b,!1,m.key,m.iv);return y(p,S.key,S.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,l){var o=e("safe-buffer").Buffer,s=o.alloc(16,0);function c(i){var u=o.allocUnsafe(16);return u.writeUInt32BE(i[0]>>>0,0),u.writeUInt32BE(i[1]>>>0,4),u.writeUInt32BE(i[2]>>>0,8),u.writeUInt32BE(i[3]>>>0,12),u}function a(i){this.h=i,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}a.prototype.ghash=function(i){for(var u=-1;++u<i.length;)this.state[u]^=i[u];this._multiply()},a.prototype._multiply=function(){for(var i,u,f,d=[(i=this.h).readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),f=(1&d[3])!=0,u=3;u>0;u--)d[u]=d[u]>>>1|(1&d[u-1])<<31;d[0]=d[0]>>>1,f&&(d[0]=d[0]^225<<24)}this.state=c(h)},a.prototype.update=function(i){var u;for(this.cache=o.concat([this.cache,i]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},a.prototype.final=function(i,u){return this.cache.length&&this.ghash(o.concat([this.cache,s],16)),this.ghash(c([0,i,0,u])),this.state},n.exports=a},{"safe-buffer":494}],195:[function(e,n,l){n.exports=function(o){for(var s,c=o.length;c--;){if((s=o.readUInt8(c))!==255){s++,o.writeUInt8(s,c);break}o.writeUInt8(0,c)}}},{}],196:[function(e,n,l){var o=e("buffer-xor");l.encrypt=function(s,c){var a=o(c,s._prev);return s._prev=s._cipher.encryptBlock(a),s._prev},l.decrypt=function(s,c){var a=s._prev;s._prev=c;var i=s._cipher.decryptBlock(c);return o(i,a)}},{"buffer-xor":219}],197:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("buffer-xor");function c(a,i,u){var f=i.length,d=s(i,a._cache);return a._cache=a._cache.slice(f),a._prev=o.concat([a._prev,u?i:d]),d}l.encrypt=function(a,i,u){for(var f,d=o.allocUnsafe(0);i.length;){if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=o.allocUnsafe(0)),!(a._cache.length<=i.length)){d=o.concat([d,c(a,i,u)]);break}f=a._cache.length,d=o.concat([d,c(a,i.slice(0,f),u)]),i=i.slice(f)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,l){var o=e("safe-buffer").Buffer;function s(a,i,u){for(var f,d,h=-1,g=0;++h<8;)f=i&1<<7-h?128:0,g+=(128&(d=a._cipher.encryptBlock(a._prev)[0]^f))>>h%8,a._prev=c(a._prev,u?f:d);return g}function c(a,i){var u=a.length,f=-1,d=o.allocUnsafe(a.length);for(a=o.concat([a,o.from([i])]);++f<u;)d[f]=a[f]<<1|a[f+1]>>7;return d}l.encrypt=function(a,i,u){for(var f=i.length,d=o.allocUnsafe(f),h=-1;++h<f;)d[h]=s(a,i[h],u);return d}},{"safe-buffer":494}],199:[function(e,n,l){var o=e("safe-buffer").Buffer;function s(c,a,i){var u=c._cipher.encryptBlock(c._prev)[0]^a;return c._prev=o.concat([c._prev.slice(1),o.from([i?a:u])]),u}l.encrypt=function(c,a,i){for(var u=a.length,f=o.allocUnsafe(u),d=-1;++d<u;)f[d]=s(c,a[d],i);return f}},{"safe-buffer":494}],200:[function(e,n,l){var o=e("buffer-xor"),s=e("safe-buffer").Buffer,c=e("../incr32");function a(i){var u=i._cipher.encryptBlockRaw(i._prev);return c(i._prev),u}l.encrypt=function(i,u){var f=Math.ceil(u.length/16),d=i._cache.length;i._cache=s.concat([i._cache,s.allocUnsafe(16*f)]);for(var h=0;h<f;h++){var g=a(i),y=d+16*h;i._cache.writeUInt32BE(g[0],y+0),i._cache.writeUInt32BE(g[1],y+4),i._cache.writeUInt32BE(g[2],y+8),i._cache.writeUInt32BE(g[3],y+12)}var p=i._cache.slice(0,u.length);return i._cache=i._cache.slice(u.length),o(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,l){l.encrypt=function(o,s){return o._cipher.encryptBlock(s)},l.decrypt=function(o,s){return o._cipher.decryptBlock(s)}},{}],202:[function(e,n,l){var o={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},s=e("./list.json");for(var c in s)s[c].module=o[s[c].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,l){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,l){(function(o){(function(){var s=e("buffer-xor");function c(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}l.encrypt=function(a,i){for(;a._cache.length<i.length;)a._cache=o.concat([a._cache,c(a)]);var u=a._cache.slice(0,i.length);return a._cache=a._cache.slice(i.length),s(i,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,l){var o=e("./aes"),s=e("safe-buffer").Buffer,c=e("cipher-base");function a(i,u,f,d){c.call(this),this._cipher=new o.AES(u),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=d,this._mode=i}e("inherits")(a,c),a.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},n.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,l){var o=e("browserify-des"),s=e("browserify-aes/browser"),c=e("browserify-aes/modes"),a=e("browserify-des/modes"),i=e("evp_bytestokey");function u(d,h,g){if(d=d.toLowerCase(),c[d])return s.createCipheriv(d,h,g);if(a[d])return new o({key:h,iv:g,mode:d});throw new TypeError("invalid suite type")}function f(d,h,g){if(d=d.toLowerCase(),c[d])return s.createDecipheriv(d,h,g);if(a[d])return new o({key:h,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}l.createCipher=l.Cipher=function(d,h){var g,y;if(d=d.toLowerCase(),c[d])g=c[d].key,y=c[d].iv;else{if(!a[d])throw new TypeError("invalid suite type");g=8*a[d].key,y=a[d].iv}var p=i(h,!1,g,y);return u(d,p.key,p.iv)},l.createCipheriv=l.Cipheriv=u,l.createDecipher=l.Decipher=function(d,h){var g,y;if(d=d.toLowerCase(),c[d])g=c[d].key,y=c[d].iv;else{if(!a[d])throw new TypeError("invalid suite type");g=8*a[d].key,y=a[d].iv}var p=i(h,!1,g,y);return f(d,p.key,p.iv)},l.createDecipheriv=l.Decipheriv=f,l.listCiphers=l.getCiphers=function(){return Object.keys(a).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,l){var o=e("cipher-base"),s=e("des.js"),c=e("inherits"),a=e("safe-buffer").Buffer,i={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function u(f){o.call(this);var d,h=f.mode.toLowerCase(),g=i[h];d=f.decrypt?"decrypt":"encrypt";var y=f.key;a.isBuffer(y)||(y=a.from(y)),h!=="des-ede"&&h!=="des-ede-cbc"||(y=a.concat([y,y.slice(0,8)]));var p=f.iv;a.isBuffer(p)||(p=a.from(p)),this._des=g.create({key:y,iv:p,type:d})}i.des=i["des-cbc"],i.des3=i["des-ede3-cbc"],n.exports=u,c(u,o),u.prototype._update=function(f){return a.from(this._des.update(f))},u.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,l){l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,l){(function(o){(function(){var s=e("bn.js"),c=e("randombytes");function a(u){var f,d=u.modulus.byteLength();do f=new s(c(d));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function i(u,f){var d=function(L){var j=a(L);return{blinder:j.toRed(s.mont(L.modulus)).redPow(new s(L.publicExponent)).fromRed(),unblinder:j.invm(L.modulus)}}(f),h=f.modulus.byteLength(),g=new s(u).mul(d.blinder).umod(f.modulus),y=g.toRed(s.mont(f.prime1)),p=g.toRed(s.mont(f.prime2)),b=f.coefficient,m=f.prime1,S=f.prime2,C=y.redPow(f.exponent1).fromRed(),I=p.redPow(f.exponent2).fromRed(),P=C.isub(I).imul(b).umod(m).imul(S);return I.iadd(P).imul(d.unblinder).umod(f.modulus).toArrayLike(o,"be",h)}i.getr=a,n.exports=i}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,l){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,l){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,l){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("create-hash"),c=e("readable-stream"),a=e("inherits"),i=e("./sign"),u=e("./verify"),f=e("./algorithms.json");function d(p){c.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=s(b.hash),this._tag=b.id,this._signType=b.sign}function h(p){c.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hash=s(b.hash),this._tag=b.id,this._signType=b.sign}function g(p){return new d(p)}function y(p){return new h(p)}Object.keys(f).forEach(function(p){f[p].id=o.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]}),a(d,c.Writable),d.prototype._write=function(p,b,m){this._hash.update(p),m()},d.prototype.update=function(p,b){return typeof p=="string"&&(p=o.from(p,b)),this._hash.update(p),this},d.prototype.sign=function(p,b){this.end();var m=this._hash.digest(),S=i(m,p,this._hashType,this._signType,this._tag);return b?S.toString(b):S},a(h,c.Writable),h.prototype._write=function(p,b,m){this._hash.update(p),m()},h.prototype.update=function(p,b){return typeof p=="string"&&(p=o.from(p,b)),this._hash.update(p),this},h.prototype.verify=function(p,b,m){typeof b=="string"&&(b=o.from(b,m)),this.end();var S=this._hash.digest();return u(b,S,p,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("create-hmac"),c=e("browserify-rsa"),a=e("elliptic").ec,i=e("bn.js"),u=e("parse-asn1"),f=e("./curves.json");function d(p,b,m,S){if((p=o.from(p.toArray())).length<b.byteLength()){var C=o.alloc(b.byteLength()-p.length);p=o.concat([C,p])}var I=m.length,P=function(B,z){B=(B=h(B,z)).mod(z);var U=o.from(B.toArray());if(U.length<z.byteLength()){var H=o.alloc(z.byteLength()-U.length);U=o.concat([H,U])}return U}(m,b),L=o.alloc(I);L.fill(1);var j=o.alloc(I);return j=s(S,j).update(L).update(o.from([0])).update(p).update(P).digest(),L=s(S,j).update(L).digest(),{k:j=s(S,j).update(L).update(o.from([1])).update(p).update(P).digest(),v:L=s(S,j).update(L).digest()}}function h(p,b){var m=new i(p),S=(p.length<<3)-b.bitLength();return S>0&&m.ishrn(S),m}function g(p,b,m){var S,C;do{for(S=o.alloc(0);8*S.length<p.bitLength();)b.v=s(m,b.k).update(b.v).digest(),S=o.concat([S,b.v]);C=h(S,p),b.k=s(m,b.k).update(b.v).update(o.from([0])).digest(),b.v=s(m,b.k).update(b.v).digest()}while(C.cmp(p)!==-1);return C}function y(p,b,m,S){return p.toRed(i.mont(m)).redPow(b).fromRed().mod(S)}n.exports=function(p,b,m,S,C){var I=u(b);if(I.curve){if(S!=="ecdsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");return function(B,z){var U=f[z.curve.join(".")];if(!U)throw new Error("unknown curve "+z.curve.join("."));var H=new a(U).keyFromPrivate(z.privateKey).sign(B);return o.from(H.toDER())}(p,I)}if(I.type==="dsa"){if(S!=="dsa")throw new Error("wrong private key type");return function(B,z,U){for(var H,T=z.params.priv_key,A=z.params.p,k=z.params.q,v=z.params.g,x=new i(0),w=h(B,k).mod(k),_=!1,E=d(T,k,B,U);_===!1;)H=g(k,E,U),x=y(v,H,A,k),(_=H.invm(k).imul(w.add(T.mul(x))).mod(k)).cmpn(0)===0&&(_=!1,x=new i(0));return function(R,O){R=R.toArray(),O=O.toArray(),128&R[0]&&(R=[0].concat(R)),128&O[0]&&(O=[0].concat(O));var W=[48,R.length+O.length+4,2,R.length];return W=W.concat(R,[2,O.length],O),o.from(W)}(x,_)}(p,I,m)}if(S!=="rsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");p=o.concat([C,p]);for(var P=I.modulus.byteLength(),L=[0,1];p.length+L.length+1<P;)L.push(255);L.push(0);for(var j=-1;++j<p.length;)L.push(p[j]);return c(L,I)},n.exports.getKey=d,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("bn.js"),c=e("elliptic").ec,a=e("parse-asn1"),i=e("./curves.json");function u(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(f,d,h,g,y){var p=a(h);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(L,j,B){var z=i[B.data.algorithm.curve.join(".")];if(!z)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var U=new c(z),H=B.data.subjectPrivateKey.data;return U.verify(j,L,H)}(f,d,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(L,j,B){var z=B.data.p,U=B.data.q,H=B.data.g,T=B.data.pub_key,A=a.signature.decode(L,"der"),k=A.s,v=A.r;u(k,U),u(v,U);var x=s.mont(z),w=k.invm(U);return H.toRed(x).redPow(new s(j).mul(w).mod(U)).fromRed().mul(T.toRed(x).redPow(v.mul(w).mod(U)).fromRed()).mod(z).mod(U).cmp(v)===0}(f,d,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=o.concat([y,d]);for(var b=p.modulus.byteLength(),m=[1],S=0;d.length+m.length+2<b;)m.push(255),S++;m.push(0);for(var C=-1;++C<d.length;)m.push(d[C]);m=o.from(m);var I=s.mont(p.modulus);f=(f=new s(f).toRed(I)).redPow(new s(p.publicExponent)),f=o.from(f.fromRed().toArray());var P=S<8?1:0;for(b=Math.min(f.length,m.length),f.length!==m.length&&(P=1),C=-1;++C<b;)P|=f[C]^m[C];return P===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,l){},{}],217:[function(e,n,l){var o=e("buffer"),s=o.Buffer;function c(i,u){for(var f in i)u[f]=i[f]}function a(i,u,f){return s(i,u,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=o:(c(o,l),l.Buffer=a),c(s,a),a.from=function(i,u,f){if(typeof i=="number")throw new TypeError("Argument must not be a number");return s(i,u,f)},a.alloc=function(i,u,f){if(typeof i!="number")throw new TypeError("Argument must be a number");var d=s(i);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},a.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return s(i)},a.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(i)}},{buffer:220}],218:[function(e,n,l){var o=e("safe-buffer").Buffer,s=o.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(p){var b;switch(this.encoding=function(m){var S=function(C){if(!C)return"utf8";for(var I;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(I)return;C=(""+C).toLowerCase(),I=!0}}(m);if(typeof S!="string"&&(o.isEncoding===s||!s(m)))throw new Error("Unknown encoding: "+m);return S||m}(p),this.encoding){case"utf16le":this.text=u,this.end=f,b=4;break;case"utf8":this.fillLast=i,b=4;break;case"base64":this.text=d,this.end=h,b=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(b)}function a(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function i(p){var b=this.lastTotal-this.lastNeed,m=function(S,C,I){if((192&C[0])!=128)return S.lastNeed=0,"�";if(S.lastNeed>1&&C.length>1){if((192&C[1])!=128)return S.lastNeed=1,"�";if(S.lastNeed>2&&C.length>2&&(192&C[2])!=128)return S.lastNeed=2,"�"}}(this,p);return m!==void 0?m:this.lastNeed<=p.length?(p.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,b,0,p.length),void(this.lastNeed-=p.length))}function u(p,b){if((p.length-b)%2==0){var m=p.toString("utf16le",b);if(m){var S=m.charCodeAt(m.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",b,p.length-1)}function f(p){var b=p&&p.length?this.write(p):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,m)}return b}function d(p,b){var m=(p.length-b)%3;return m===0?p.toString("base64",b):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",b,p.length-m))}function h(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function g(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}l.StringDecoder=c,c.prototype.write=function(p){if(p.length===0)return"";var b,m;if(this.lastNeed){if((b=this.fillLast(p))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<p.length?b?b+this.text(p,m):this.text(p,m):b||""},c.prototype.end=function(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+"�":b},c.prototype.text=function(p,b){var m=function(C,I,P){var L=I.length-1;if(L<P)return 0;var j=a(I[L]);return j>=0?(j>0&&(C.lastNeed=j-1),j):--L<P||j===-2?0:(j=a(I[L]))>=0?(j>0&&(C.lastNeed=j-2),j):--L<P||j===-2?0:(j=a(I[L]))>=0?(j>0&&(j===2?j=0:C.lastNeed=j-3),j):0}(this,p,b);if(!this.lastNeed)return p.toString("utf8",b);this.lastTotal=m;var S=p.length-(m-this.lastNeed);return p.copy(this.lastChar,0,S),p.toString("utf8",b,S)},c.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,n,l){(function(o){(function(){n.exports=function(s,c){for(var a=Math.min(s.length,c.length),i=new o(a),u=0;u<a;++u)i[u]=s[u]^c[u];return i}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,l){(function(o){(function(){var s=e("base64-js"),c=e("ieee754");l.Buffer=i,l.SlowBuffer=function(N){return+N!=N&&(N=0),i.alloc(+N)},l.INSPECT_MAX_BYTES=50;function a(N){if(N>2147483647)throw new RangeError('The value "'+N+'" is invalid for option "size"');var M=new Uint8Array(N);return M.__proto__=i.prototype,M}function i(N,M,$){if(typeof N=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(N)}return u(N,M,$)}function u(N,M,$){if(typeof N=="string")return function(Q,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!i.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var le=0|y(Q,Z),ae=a(le),J=ae.write(Q,Z);return J!==le&&(ae=ae.slice(0,J)),ae}(N,M);if(ArrayBuffer.isView(N))return h(N);if(N==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(D(N,ArrayBuffer)||N&&D(N.buffer,ArrayBuffer))return function(Q,Z,le){if(Z<0||Q.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<Z+(le||0))throw new RangeError('"length" is outside of buffer bounds');var ae;return ae=Z===void 0&&le===void 0?new Uint8Array(Q):le===void 0?new Uint8Array(Q,Z):new Uint8Array(Q,Z,le),ae.__proto__=i.prototype,ae}(N,M,$);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=N.valueOf&&N.valueOf();if(Y!=null&&Y!==N)return i.from(Y,M,$);var ee=function(Q){if(i.isBuffer(Q)){var Z=0|g(Q.length),le=a(Z);return le.length===0||Q.copy(le,0,0,Z),le}if(Q.length!==void 0)return typeof Q.length!="number"||K(Q.length)?a(0):h(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return h(Q.data)}(N);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return i.from(N[Symbol.toPrimitive]("string"),M,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function f(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function d(N){return f(N),a(N<0?0:0|g(N))}function h(N){for(var M=N.length<0?0:0|g(N.length),$=a(M),Y=0;Y<M;Y+=1)$[Y]=255&N[Y];return $}function g(N){if(N>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|N}function y(N,M){if(i.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||D(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var $=N.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&$===0)return 0;for(var ee=!1;;)switch(M){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return W(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return V(N).length;default:if(ee)return Y?-1:W(N).length;M=(""+M).toLowerCase(),ee=!0}}function p(N,M,$){var Y=!1;if((M===void 0||M<0)&&(M=0),M>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(M>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return A(this,M,$);case"utf8":case"utf-8":return U(this,M,$);case"ascii":return H(this,M,$);case"latin1":case"binary":return T(this,M,$);case"base64":return z(this,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,M,$);default:if(Y)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),Y=!0}}function b(N,M,$){var Y=N[M];N[M]=N[$],N[$]=Y}function m(N,M,$,Y,ee){if(N.length===0)return-1;if(typeof $=="string"?(Y=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),K($=+$)&&($=ee?0:N.length-1),$<0&&($=N.length+$),$>=N.length){if(ee)return-1;$=N.length-1}else if($<0){if(!ee)return-1;$=0}if(typeof M=="string"&&(M=i.from(M,Y)),i.isBuffer(M))return M.length===0?-1:S(N,M,$,Y,ee);if(typeof M=="number")return M&=255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(N,M,$):Uint8Array.prototype.lastIndexOf.call(N,M,$):S(N,[M],$,Y,ee);throw new TypeError("val must be string, number or Buffer")}function S(N,M,$,Y,ee){var Q,Z=1,le=N.length,ae=M.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(N.length<2||M.length<2)return-1;Z=2,le/=2,ae/=2,$/=2}function J(de,ge){return Z===1?de[ge]:de.readUInt16BE(ge*Z)}if(ee){var ne=-1;for(Q=$;Q<le;Q++)if(J(N,Q)===J(M,ne===-1?0:Q-ne)){if(ne===-1&&(ne=Q),Q-ne+1===ae)return ne*Z}else ne!==-1&&(Q-=Q-ne),ne=-1}else for($+ae>le&&($=le-ae),Q=$;Q>=0;Q--){for(var se=!0,me=0;me<ae;me++)if(J(N,Q+me)!==J(M,me)){se=!1;break}if(se)return Q}return-1}function C(N,M,$,Y){$=Number($)||0;var ee=N.length-$;Y?(Y=Number(Y))>ee&&(Y=ee):Y=ee;var Q=M.length;Y>Q/2&&(Y=Q/2);for(var Z=0;Z<Y;++Z){var le=parseInt(M.substr(2*Z,2),16);if(K(le))return Z;N[$+Z]=le}return Z}function I(N,M,$,Y){return X(W(M,N.length-$),N,$,Y)}function P(N,M,$,Y){return X(function(ee){for(var Q=[],Z=0;Z<ee.length;++Z)Q.push(255&ee.charCodeAt(Z));return Q}(M),N,$,Y)}function L(N,M,$,Y){return P(N,M,$,Y)}function j(N,M,$,Y){return X(V(M),N,$,Y)}function B(N,M,$,Y){return X(function(ee,Q){for(var Z,le,ae,J=[],ne=0;ne<ee.length&&!((Q-=2)<0);++ne)Z=ee.charCodeAt(ne),le=Z>>8,ae=Z%256,J.push(ae),J.push(le);return J}(M,N.length-$),N,$,Y)}function z(N,M,$){return M===0&&$===N.length?s.fromByteArray(N):s.fromByteArray(N.slice(M,$))}function U(N,M,$){$=Math.min(N.length,$);for(var Y=[],ee=M;ee<$;){var Q,Z,le,ae,J=N[ee],ne=null,se=J>239?4:J>223?3:J>191?2:1;if(ee+se<=$)switch(se){case 1:J<128&&(ne=J);break;case 2:(192&(Q=N[ee+1]))==128&&(ae=(31&J)<<6|63&Q)>127&&(ne=ae);break;case 3:Q=N[ee+1],Z=N[ee+2],(192&Q)==128&&(192&Z)==128&&(ae=(15&J)<<12|(63&Q)<<6|63&Z)>2047&&(ae<55296||ae>57343)&&(ne=ae);break;case 4:Q=N[ee+1],Z=N[ee+2],le=N[ee+3],(192&Q)==128&&(192&Z)==128&&(192&le)==128&&(ae=(15&J)<<18|(63&Q)<<12|(63&Z)<<6|63&le)>65535&&ae<1114112&&(ne=ae)}ne===null?(ne=65533,se=1):ne>65535&&(ne-=65536,Y.push(ne>>>10&1023|55296),ne=56320|1023&ne),Y.push(ne),ee+=se}return function(me){var de=me.length;if(de<=4096)return String.fromCharCode.apply(String,me);for(var ge="",ve=0;ve<de;)ge+=String.fromCharCode.apply(String,me.slice(ve,ve+=4096));return ge}(Y)}l.kMaxLength=2147483647,i.TYPED_ARRAY_SUPPORT=function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},N.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(N,M,$){return u(N,M,$)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(N,M,$){return function(Y,ee,Q){return f(Y),Y<=0?a(Y):ee!==void 0?typeof Q=="string"?a(Y).fill(ee,Q):a(Y).fill(ee):a(Y)}(N,M,$)},i.allocUnsafe=function(N){return d(N)},i.allocUnsafeSlow=function(N){return d(N)},i.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==i.prototype},i.compare=function(N,M){if(D(N,Uint8Array)&&(N=i.from(N,N.offset,N.byteLength)),D(M,Uint8Array)&&(M=i.from(M,M.offset,M.byteLength)),!i.isBuffer(N)||!i.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===M)return 0;for(var $=N.length,Y=M.length,ee=0,Q=Math.min($,Y);ee<Q;++ee)if(N[ee]!==M[ee]){$=N[ee],Y=M[ee];break}return $<Y?-1:Y<$?1:0},i.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(N,M){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return i.alloc(0);var $;if(M===void 0)for(M=0,$=0;$<N.length;++$)M+=N[$].length;var Y=i.allocUnsafe(M),ee=0;for($=0;$<N.length;++$){var Q=N[$];if(D(Q,Uint8Array)&&(Q=i.from(Q)),!i.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(Y,ee),ee+=Q.length}return Y},i.byteLength=y,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<N;M+=2)b(this,M,M+1);return this},i.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<N;M+=4)b(this,M,M+3),b(this,M+1,M+2);return this},i.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<N;M+=8)b(this,M,M+7),b(this,M+1,M+6),b(this,M+2,M+5),b(this,M+3,M+4);return this},i.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?U(this,0,N):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(N){if(!i.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||i.compare(this,N)===0},i.prototype.inspect=function(){var N="",M=l.INSPECT_MAX_BYTES;return N=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(N+=" ... "),"<Buffer "+N+">"},i.prototype.compare=function(N,M,$,Y,ee){if(D(N,Uint8Array)&&(N=i.from(N,N.offset,N.byteLength)),!i.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(M===void 0&&(M=0),$===void 0&&($=N?N.length:0),Y===void 0&&(Y=0),ee===void 0&&(ee=this.length),M<0||$>N.length||Y<0||ee>this.length)throw new RangeError("out of range index");if(Y>=ee&&M>=$)return 0;if(Y>=ee)return-1;if(M>=$)return 1;if(this===N)return 0;for(var Q=(ee>>>=0)-(Y>>>=0),Z=($>>>=0)-(M>>>=0),le=Math.min(Q,Z),ae=this.slice(Y,ee),J=N.slice(M,$),ne=0;ne<le;++ne)if(ae[ne]!==J[ne]){Q=ae[ne],Z=J[ne];break}return Q<Z?-1:Z<Q?1:0},i.prototype.includes=function(N,M,$){return this.indexOf(N,M,$)!==-1},i.prototype.indexOf=function(N,M,$){return m(this,N,M,$,!0)},i.prototype.lastIndexOf=function(N,M,$){return m(this,N,M,$,!1)},i.prototype.write=function(N,M,$,Y){if(M===void 0)Y="utf8",$=this.length,M=0;else if($===void 0&&typeof M=="string")Y=M,$=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite($)?($>>>=0,Y===void 0&&(Y="utf8")):(Y=$,$=void 0)}var ee=this.length-M;if(($===void 0||$>ee)&&($=ee),N.length>0&&($<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(var Q=!1;;)switch(Y){case"hex":return C(this,N,M,$);case"utf8":case"utf-8":return I(this,N,M,$);case"ascii":return P(this,N,M,$);case"latin1":case"binary":return L(this,N,M,$);case"base64":return j(this,N,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,N,M,$);default:if(Q)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),Q=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(N,M,$){var Y="";$=Math.min(N.length,$);for(var ee=M;ee<$;++ee)Y+=String.fromCharCode(127&N[ee]);return Y}function T(N,M,$){var Y="";$=Math.min(N.length,$);for(var ee=M;ee<$;++ee)Y+=String.fromCharCode(N[ee]);return Y}function A(N,M,$){var Y=N.length;(!M||M<0)&&(M=0),(!$||$<0||$>Y)&&($=Y);for(var ee="",Q=M;Q<$;++Q)ee+=O(N[Q]);return ee}function k(N,M,$){for(var Y=N.slice(M,$),ee="",Q=0;Q<Y.length;Q+=2)ee+=String.fromCharCode(Y[Q]+256*Y[Q+1]);return ee}function v(N,M,$){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+M>$)throw new RangeError("Trying to access beyond buffer length")}function x(N,M,$,Y,ee,Q){if(!i.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>ee||M<Q)throw new RangeError('"value" argument is out of bounds');if($+Y>N.length)throw new RangeError("Index out of range")}function w(N,M,$,Y,ee,Q){if($+Y>N.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function _(N,M,$,Y,ee){return M=+M,$>>>=0,ee||w(N,0,$,4),c.write(N,M,$,Y,23,4),$+4}function E(N,M,$,Y,ee){return M=+M,$>>>=0,ee||w(N,0,$,8),c.write(N,M,$,Y,52,8),$+8}i.prototype.slice=function(N,M){var $=this.length;(N=~~N)<0?(N+=$)<0&&(N=0):N>$&&(N=$),(M=M===void 0?$:~~M)<0?(M+=$)<0&&(M=0):M>$&&(M=$),M<N&&(M=N);var Y=this.subarray(N,M);return Y.__proto__=i.prototype,Y},i.prototype.readUIntLE=function(N,M,$){N>>>=0,M>>>=0,$||v(N,M,this.length);for(var Y=this[N],ee=1,Q=0;++Q<M&&(ee*=256);)Y+=this[N+Q]*ee;return Y},i.prototype.readUIntBE=function(N,M,$){N>>>=0,M>>>=0,$||v(N,M,this.length);for(var Y=this[N+--M],ee=1;M>0&&(ee*=256);)Y+=this[N+--M]*ee;return Y},i.prototype.readUInt8=function(N,M){return N>>>=0,M||v(N,1,this.length),this[N]},i.prototype.readUInt16LE=function(N,M){return N>>>=0,M||v(N,2,this.length),this[N]|this[N+1]<<8},i.prototype.readUInt16BE=function(N,M){return N>>>=0,M||v(N,2,this.length),this[N]<<8|this[N+1]},i.prototype.readUInt32LE=function(N,M){return N>>>=0,M||v(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},i.prototype.readUInt32BE=function(N,M){return N>>>=0,M||v(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},i.prototype.readIntLE=function(N,M,$){N>>>=0,M>>>=0,$||v(N,M,this.length);for(var Y=this[N],ee=1,Q=0;++Q<M&&(ee*=256);)Y+=this[N+Q]*ee;return Y>=(ee*=128)&&(Y-=Math.pow(2,8*M)),Y},i.prototype.readIntBE=function(N,M,$){N>>>=0,M>>>=0,$||v(N,M,this.length);for(var Y=M,ee=1,Q=this[N+--Y];Y>0&&(ee*=256);)Q+=this[N+--Y]*ee;return Q>=(ee*=128)&&(Q-=Math.pow(2,8*M)),Q},i.prototype.readInt8=function(N,M){return N>>>=0,M||v(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},i.prototype.readInt16LE=function(N,M){N>>>=0,M||v(N,2,this.length);var $=this[N]|this[N+1]<<8;return 32768&$?4294901760|$:$},i.prototype.readInt16BE=function(N,M){N>>>=0,M||v(N,2,this.length);var $=this[N+1]|this[N]<<8;return 32768&$?4294901760|$:$},i.prototype.readInt32LE=function(N,M){return N>>>=0,M||v(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},i.prototype.readInt32BE=function(N,M){return N>>>=0,M||v(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},i.prototype.readFloatLE=function(N,M){return N>>>=0,M||v(N,4,this.length),c.read(this,N,!0,23,4)},i.prototype.readFloatBE=function(N,M){return N>>>=0,M||v(N,4,this.length),c.read(this,N,!1,23,4)},i.prototype.readDoubleLE=function(N,M){return N>>>=0,M||v(N,8,this.length),c.read(this,N,!0,52,8)},i.prototype.readDoubleBE=function(N,M){return N>>>=0,M||v(N,8,this.length),c.read(this,N,!1,52,8)},i.prototype.writeUIntLE=function(N,M,$,Y){N=+N,M>>>=0,$>>>=0,Y||x(this,N,M,$,Math.pow(2,8*$)-1,0);var ee=1,Q=0;for(this[M]=255&N;++Q<$&&(ee*=256);)this[M+Q]=N/ee&255;return M+$},i.prototype.writeUIntBE=function(N,M,$,Y){N=+N,M>>>=0,$>>>=0,Y||x(this,N,M,$,Math.pow(2,8*$)-1,0);var ee=$-1,Q=1;for(this[M+ee]=255&N;--ee>=0&&(Q*=256);)this[M+ee]=N/Q&255;return M+$},i.prototype.writeUInt8=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,1,255,0),this[M]=255&N,M+1},i.prototype.writeUInt16LE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,2,65535,0),this[M]=255&N,this[M+1]=N>>>8,M+2},i.prototype.writeUInt16BE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,2,65535,0),this[M]=N>>>8,this[M+1]=255&N,M+2},i.prototype.writeUInt32LE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,4,4294967295,0),this[M+3]=N>>>24,this[M+2]=N>>>16,this[M+1]=N>>>8,this[M]=255&N,M+4},i.prototype.writeUInt32BE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,4,4294967295,0),this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=255&N,M+4},i.prototype.writeIntLE=function(N,M,$,Y){if(N=+N,M>>>=0,!Y){var ee=Math.pow(2,8*$-1);x(this,N,M,$,ee-1,-ee)}var Q=0,Z=1,le=0;for(this[M]=255&N;++Q<$&&(Z*=256);)N<0&&le===0&&this[M+Q-1]!==0&&(le=1),this[M+Q]=(N/Z>>0)-le&255;return M+$},i.prototype.writeIntBE=function(N,M,$,Y){if(N=+N,M>>>=0,!Y){var ee=Math.pow(2,8*$-1);x(this,N,M,$,ee-1,-ee)}var Q=$-1,Z=1,le=0;for(this[M+Q]=255&N;--Q>=0&&(Z*=256);)N<0&&le===0&&this[M+Q+1]!==0&&(le=1),this[M+Q]=(N/Z>>0)-le&255;return M+$},i.prototype.writeInt8=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,1,127,-128),N<0&&(N=255+N+1),this[M]=255&N,M+1},i.prototype.writeInt16LE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,2,32767,-32768),this[M]=255&N,this[M+1]=N>>>8,M+2},i.prototype.writeInt16BE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,2,32767,-32768),this[M]=N>>>8,this[M+1]=255&N,M+2},i.prototype.writeInt32LE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,4,2147483647,-2147483648),this[M]=255&N,this[M+1]=N>>>8,this[M+2]=N>>>16,this[M+3]=N>>>24,M+4},i.prototype.writeInt32BE=function(N,M,$){return N=+N,M>>>=0,$||x(this,N,M,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=255&N,M+4},i.prototype.writeFloatLE=function(N,M,$){return _(this,N,M,!0,$)},i.prototype.writeFloatBE=function(N,M,$){return _(this,N,M,!1,$)},i.prototype.writeDoubleLE=function(N,M,$){return E(this,N,M,!0,$)},i.prototype.writeDoubleBE=function(N,M,$){return E(this,N,M,!1,$)},i.prototype.copy=function(N,M,$,Y){if(!i.isBuffer(N))throw new TypeError("argument should be a Buffer");if($||($=0),Y||Y===0||(Y=this.length),M>=N.length&&(M=N.length),M||(M=0),Y>0&&Y<$&&(Y=$),Y===$||N.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),N.length-M<Y-$&&(Y=N.length-M+$);var ee=Y-$;if(this===N&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(M,$,Y);else if(this===N&&$<M&&M<Y)for(var Q=ee-1;Q>=0;--Q)N[Q+M]=this[Q+$];else Uint8Array.prototype.set.call(N,this.subarray($,Y),M);return ee},i.prototype.fill=function(N,M,$,Y){if(typeof N=="string"){if(typeof M=="string"?(Y=M,M=0,$=this.length):typeof $=="string"&&(Y=$,$=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!i.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(N.length===1){var ee=N.charCodeAt(0);(Y==="utf8"&&ee<128||Y==="latin1")&&(N=ee)}}else typeof N=="number"&&(N&=255);if(M<0||this.length<M||this.length<$)throw new RangeError("Out of range index");if($<=M)return this;var Q;if(M>>>=0,$=$===void 0?this.length:$>>>0,N||(N=0),typeof N=="number")for(Q=M;Q<$;++Q)this[Q]=N;else{var Z=i.isBuffer(N)?N:i.from(N,Y),le=Z.length;if(le===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Q=0;Q<$-M;++Q)this[Q+M]=Z[Q%le]}return this};var R=/[^+/0-9A-Za-z-_]/g;function O(N){return N<16?"0"+N.toString(16):N.toString(16)}function W(N,M){var $;M=M||1/0;for(var Y=N.length,ee=null,Q=[],Z=0;Z<Y;++Z){if(($=N.charCodeAt(Z))>55295&&$<57344){if(!ee){if($>56319){(M-=3)>-1&&Q.push(239,191,189);continue}if(Z+1===Y){(M-=3)>-1&&Q.push(239,191,189);continue}ee=$;continue}if($<56320){(M-=3)>-1&&Q.push(239,191,189),ee=$;continue}$=65536+(ee-55296<<10|$-56320)}else ee&&(M-=3)>-1&&Q.push(239,191,189);if(ee=null,$<128){if((M-=1)<0)break;Q.push($)}else if($<2048){if((M-=2)<0)break;Q.push($>>6|192,63&$|128)}else if($<65536){if((M-=3)<0)break;Q.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;Q.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return Q}function V(N){return s.toByteArray(function(M){if((M=(M=M.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M}(N))}function X(N,M,$,Y){for(var ee=0;ee<Y&&!(ee+$>=M.length||ee>=N.length);++ee)M[ee+$]=N[ee];return ee}function D(N,M){return N instanceof M||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===M.name}function K(N){return N!=N}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("stream").Transform,c=e("string_decoder").StringDecoder;function a(i){s.call(this),this.hashMode=typeof i=="string",this.hashMode?this[i]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(a,s),a.prototype.update=function(i,u,f){typeof i=="string"&&(i=o.from(i,u));var d=this._update(i);return this.hashMode?this:(f&&(d=this._toString(d,f)),d)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(i,u,f){var d;try{this.hashMode?this._update(i):this.push(this._update(i))}catch(h){d=h}finally{f(d)}},a.prototype._flush=function(i){var u;try{this.push(this.__final())}catch(f){u=f}i(u)},a.prototype._finalOrDigest=function(i){var u=this.__final()||o.alloc(0);return i&&(u=this._toString(u,i,!0)),u},a.prototype._toString=function(i,u,f){if(this._decoder||(this._decoder=new c(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var d=this._decoder.write(i);return f&&(d+=this._decoder.end()),d},n.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,l){var o=e("../internals/is-callable"),s=e("../internals/try-to-string"),c=TypeError;n.exports=function(a){if(o(a))return a;throw new c(s(a)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,l){var o=e("../internals/is-constructor"),s=e("../internals/try-to-string"),c=TypeError;n.exports=function(a){if(o(a))return a;throw new c(s(a)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,l){var o=e("../internals/is-callable"),s=String,c=TypeError;n.exports=function(a){if(typeof a=="object"||o(a))return a;throw new c("Can't set "+s(a)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,l){var o=e("../internals/well-known-symbol"),s=e("../internals/object-create"),c=e("../internals/object-define-property").f,a=o("unscopables"),i=Array.prototype;i[a]===void 0&&c(i,a,{configurable:!0,value:s(null)}),n.exports=function(u){i[a][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,l){var o=e("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(c,a){if(o(a,c))return c;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,l){var o=e("../internals/is-object"),s=String,c=TypeError;n.exports=function(a){if(o(a))return a;throw new c(s(a)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,l){var o=e("../internals/to-indexed-object"),s=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),a=function(i){return function(u,f,d){var h,g=o(u),y=c(g),p=s(d,y);if(i&&f!=f){for(;y>p;)if((h=g[p++])!=h)return!0}else for(;y>p;p++)if((i||p in g)&&g[p]===f)return i||p||0;return!i&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,l){var o=e("../internals/function-bind-context"),s=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),a=e("../internals/to-object"),i=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),f=s([].push),d=function(h){var g=h===1,y=h===2,p=h===3,b=h===4,m=h===6,S=h===7,C=h===5||m;return function(I,P,L,j){for(var B,z,U=a(I),H=c(U),T=o(P,L),A=i(H),k=0,v=j||u,x=g?v(I,A):y||S?v(I,0):void 0;A>k;k++)if((C||k in H)&&(z=T(B=H[k],k,U),h))if(g)x[k]=z;else if(z)switch(h){case 3:return!0;case 5:return B;case 6:return k;case 2:f(x,B)}else switch(h){case 4:return!1;case 7:f(x,B)}return m?-1:p||b?b:x}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,l){var o=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),c=e("../internals/create-property"),a=Array,i=Math.max;n.exports=function(u,f,d){for(var h=s(u),g=o(f,h),y=o(d===void 0?h:d,h),p=a(i(y-g,0)),b=0;g<y;g++,b++)c(p,b,u[g]);return p.length=b,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,l){var o=e("../internals/function-uncurry-this");n.exports=o([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,l){var o=e("../internals/is-array"),s=e("../internals/is-constructor"),c=e("../internals/is-object"),a=e("../internals/well-known-symbol")("species"),i=Array;n.exports=function(u){var f;return o(u)&&(f=u.constructor,(s(f)&&(f===i||o(f.prototype))||c(f)&&(f=f[a])===null)&&(f=void 0)),f===void 0?i:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,l){var o=e("../internals/array-species-constructor");n.exports=function(s,c){return new(o(s))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,n,l){var o=e("../internals/well-known-symbol")("iterator"),s=!1;try{var c=0,a={next:function(){return{done:!!c++}},return:function(){s=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch{}n.exports=function(i,u){try{if(!u&&!s)return!1}catch{return!1}var f=!1;try{var d={};d[o]=function(){return{next:function(){return{done:f=!0}}}},i(d)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=o({}.toString),c=o("".slice);n.exports=function(a){return c(s(a),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,l){var o=e("../internals/to-string-tag-support"),s=e("../internals/is-callable"),c=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("toStringTag"),i=Object,u=c(function(){return arguments}())==="Arguments";n.exports=o?c:function(f){var d,h,g;return f===void 0?"Undefined":f===null?"Null":typeof(h=function(y,p){try{return y[p]}catch{}}(d=i(f),a))=="string"?h:u?c(d):(g=c(d))==="Object"&&s(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,l){var o=e("../internals/has-own-property"),s=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");n.exports=function(i,u,f){for(var d=s(u),h=a.f,g=c.f,y=0;y<d.length;y++){var p=d[y];o(i,p)||f&&o(f,p)||h(i,p,g(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,l){var o=e("../internals/well-known-symbol")("match");n.exports=function(s){var c=/./;try{"/./"[s](c)}catch{try{return c[o]=!1,"/./"[s](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,l){var o=e("../internals/fails");n.exports=!o(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(e,n,l){n.exports=function(o,s){return{value:o,done:s}}},{}],241:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=o?function(a,i,u){return s.f(a,i,c(1,u))}:function(a,i,u){return a[i]=u,a}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,l){n.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},{}],243:[function(e,n,l){var o=e("../internals/to-property-key"),s=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=function(a,i,u){var f=o(i);f in a?s.f(a,f,c(0,u)):a[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,l){var o=e("../internals/make-built-in"),s=e("../internals/object-define-property");n.exports=function(c,a,i){return i.get&&o(i.get,a,{getter:!0}),i.set&&o(i.set,a,{setter:!0}),s.f(c,a,i)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,l){var o=e("../internals/is-callable"),s=e("../internals/object-define-property"),c=e("../internals/make-built-in"),a=e("../internals/define-global-property");n.exports=function(i,u,f,d){d||(d={});var h=d.enumerable,g=d.name!==void 0?d.name:u;if(o(f)&&c(f,g,d),d.global)h?i[u]=f:a(u,f);else{try{d.unsafe?i[u]&&(h=!0):delete i[u]}catch{}h?i[u]=f:s.f(i,u,{value:f,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return i}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,l){var o=e("../internals/global"),s=Object.defineProperty;n.exports=function(c,a){try{s(o,c,{value:a,configurable:!0,writable:!0})}catch{o[c]=a}return a}},{"../internals/global":274}],247:[function(e,n,l){var o=e("../internals/fails");n.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,l){var o=typeof document=="object"&&document.all,s=o===void 0&&o!==void 0;n.exports={all:o,IS_HTMLDDA:s}},{}],249:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/is-object"),c=o.document,a=s(c)&&s(c.createElement);n.exports=function(i){return a?c.createElement(i):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,l){var o=e("../internals/engine-is-deno"),s=e("../internals/engine-is-node");n.exports=!o&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,l){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,l){var o=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,l){var o=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},{"../internals/engine-user-agent":256}],254:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/classof-raw");n.exports=s(o.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,l){var o=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(o)},{"../internals/engine-user-agent":256}],256:[function(e,n,l){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,l){var o,s,c=e("../internals/global"),a=e("../internals/engine-user-agent"),i=c.process,u=c.Deno,f=i&&i.versions||u&&u.version,d=f&&f.v8;d&&(s=(o=d.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!s&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(s=+o[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,l){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),a=e("../internals/define-built-in"),i=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");n.exports=function(d,h){var g,y,p,b,m,S=d.target,C=d.global,I=d.stat;if(g=C?o:I?o[S]||i(S,{}):(o[S]||{}).prototype)for(y in h){if(b=h[y],p=d.dontCallGetSet?(m=s(g,y))&&m.value:g[y],!f(C?y:S+(I?".":"#")+y,d.forced)&&p!==void 0){if(typeof b==typeof p)continue;u(b,p)}(d.sham||p&&p.sham)&&c(b,"sham",!0),a(g,y,b,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,l){n.exports=function(o){try{return!!o()}catch{return!0}}},{}],261:[function(e,n,l){var o=e("../internals/function-bind-native"),s=Function.prototype,c=s.apply,a=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(o?a.bind(c):function(){return a.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,l){var o=e("../internals/function-uncurry-this-clause"),s=e("../internals/a-callable"),c=e("../internals/function-bind-native"),a=o(o.bind);n.exports=function(i,u){return s(i),u===void 0?i:c?a(i,u):function(){return i.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,l){var o=e("../internals/fails");n.exports=!o(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,l){var o=e("../internals/function-bind-native"),s=Function.prototype.call;n.exports=o?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/has-own-property"),c=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,i=s(c,"name"),u=i&&(function(){}).name==="something",f=i&&(!o||o&&a(c,"name").configurable);n.exports={EXISTS:i,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/a-callable");n.exports=function(c,a,i){try{return o(s(Object.getOwnPropertyDescriptor(c,a)[i]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,l){var o=e("../internals/classof-raw"),s=e("../internals/function-uncurry-this");n.exports=function(c){if(o(c)==="Function")return s(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,l){var o=e("../internals/function-bind-native"),s=Function.prototype,c=s.call,a=o&&s.bind.bind(c,c);n.exports=o?a:function(i){return function(){return c.apply(i,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/is-callable"),c=function(a){return s(a)?a:void 0};n.exports=function(a,i){return arguments.length<2?c(o[a]):o[a]&&o[a][i]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,l){var o=e("../internals/classof"),s=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),a=e("../internals/iterators"),i=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!c(u))return s(u,i)||s(u,"@@iterator")||a[o(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,l){var o=e("../internals/function-call"),s=e("../internals/a-callable"),c=e("../internals/an-object"),a=e("../internals/try-to-string"),i=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(f,d){var h=arguments.length<2?i(f):d;if(s(h))return c(o(h,f));throw new u(a(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/is-array"),c=e("../internals/is-callable"),a=e("../internals/classof-raw"),i=e("../internals/to-string"),u=o([].push);n.exports=function(f){if(c(f))return f;if(s(f)){for(var d=f.length,h=[],g=0;g<d;g++){var y=f[g];typeof y=="string"?u(h,y):typeof y!="number"&&a(y)!=="Number"&&a(y)!=="String"||u(h,i(y))}var p=h.length,b=!0;return function(m,S){if(b)return b=!1,S;if(s(this))return S;for(var C=0;C<p;C++)if(h[C]===m)return S}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,l){var o=e("../internals/a-callable"),s=e("../internals/is-null-or-undefined");n.exports=function(c,a){var i=c[a];return s(i)?void 0:o(i)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,l){(function(o){(function(){var s=function(c){return c&&c.Math===Math&&c};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof o=="object"&&o)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/to-object"),c=o({}.hasOwnProperty);n.exports=Object.hasOwn||function(a,i){return c(s(a),i)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,l){n.exports={}},{}],277:[function(e,n,l){n.exports=function(o,s){try{arguments.length===1?console.error(o):console.error(o,s)}catch{}}},{}],278:[function(e,n,l){var o=e("../internals/get-built-in");n.exports=o("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/fails"),c=e("../internals/document-create-element");n.exports=!o&&!s(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/fails"),c=e("../internals/classof-raw"),a=Object,i=o("".split);n.exports=s(function(){return!a("z").propertyIsEnumerable(0)})?function(u){return c(u)==="String"?i(u,""):a(u)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/is-callable"),c=e("../internals/shared-store"),a=o(Function.toString);s(c.inspectSource)||(c.inspectSource=function(i){return a(i)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,l){var o,s,c,a=e("../internals/weak-map-basic-detection"),i=e("../internals/global"),u=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),y=e("../internals/hidden-keys"),p=i.TypeError,b=i.WeakMap;if(a||h.state){var m=h.state||(h.state=new b);m.get=m.get,m.has=m.has,m.set=m.set,o=function(C,I){if(m.has(C))throw new p("Object already initialized");return I.facade=C,m.set(C,I),I},s=function(C){return m.get(C)||{}},c=function(C){return m.has(C)}}else{var S=g("state");y[S]=!0,o=function(C,I){if(d(C,S))throw new p("Object already initialized");return I.facade=C,f(C,S,I),I},s=function(C){return d(C,S)?C[S]:{}},c=function(C){return d(C,S)}}n.exports={set:o,get:s,has:c,enforce:function(C){return c(C)?s(C):o(C,{})},getterFor:function(C){return function(I){var P;if(!u(I)||(P=s(I)).type!==C)throw new p("Incompatible receiver, "+C+" required");return P}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,l){var o=e("../internals/well-known-symbol"),s=e("../internals/iterators"),c=o("iterator"),a=Array.prototype;n.exports=function(i){return i!==void 0&&(s.Array===i||a[c]===i)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,l){var o=e("../internals/classof-raw");n.exports=Array.isArray||function(s){return o(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,l){var o=e("../internals/document-all"),s=o.all;n.exports=o.IS_HTMLDDA?function(c){return typeof c=="function"||c===s}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/fails"),c=e("../internals/is-callable"),a=e("../internals/classof"),i=e("../internals/get-built-in"),u=e("../internals/inspect-source"),f=function(){},d=[],h=i("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=o(g.exec),p=!g.test(f),b=function(S){if(!c(S))return!1;try{return h(f,d,S),!0}catch{return!1}},m=function(S){if(!c(S))return!1;switch(a(S)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!y(g,u(S))}catch{return!0}};m.sham=!0,n.exports=!h||s(function(){var S;return b(b.call)||!b(Object)||!b(function(){S=!0})||S})?m:b},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,l){var o=e("../internals/fails"),s=e("../internals/is-callable"),c=/#|\.prototype\./,a=function(h,g){var y=u[i(h)];return y===d||y!==f&&(s(g)?o(g):!!g)},i=a.normalize=function(h){return String(h).replace(c,".").toLowerCase()},u=a.data={},f=a.NATIVE="N",d=a.POLYFILL="P";n.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,l){n.exports=function(o){return o==null}},{}],289:[function(e,n,l){var o=e("../internals/is-callable"),s=e("../internals/document-all"),c=s.all;n.exports=s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:o(a)||a===c}:function(a){return typeof a=="object"?a!==null:o(a)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,l){n.exports=!1},{}],291:[function(e,n,l){var o=e("../internals/is-object"),s=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");n.exports=function(a){var i;return o(a)&&((i=a[c])!==void 0?!!i:s(a)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,l){var o=e("../internals/get-built-in"),s=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),a=e("../internals/use-symbol-as-uid"),i=Object;n.exports=a?function(u){return typeof u=="symbol"}:function(u){var f=o("Symbol");return s(f)&&c(f.prototype,i(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,l){var o=e("../internals/function-bind-context"),s=e("../internals/function-call"),c=e("../internals/an-object"),a=e("../internals/try-to-string"),i=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),y=TypeError,p=function(m,S){this.stopped=m,this.result=S},b=p.prototype;n.exports=function(m,S,C){var I,P,L,j,B,z,U,H=C&&C.that,T=!(!C||!C.AS_ENTRIES),A=!(!C||!C.IS_RECORD),k=!(!C||!C.IS_ITERATOR),v=!(!C||!C.INTERRUPTED),x=o(S,H),w=function(E){return I&&g(I,"normal",E),new p(!0,E)},_=function(E){return T?(c(E),v?x(E[0],E[1],w):x(E[0],E[1])):v?x(E,w):x(E)};if(A)I=m.iterator;else if(k)I=m;else{if(!(P=h(m)))throw new y(a(m)+" is not iterable");if(i(P)){for(L=0,j=u(m);j>L;L++)if((B=_(m[L]))&&f(b,B))return B;return new p(!1)}I=d(m,P)}for(z=A?m.next:I.next;!(U=s(z,I)).done;){try{B=_(U.value)}catch(E){g(I,"throw",E)}if(typeof B=="object"&&B&&f(b,B))return B}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,l){var o=e("../internals/function-call"),s=e("../internals/an-object"),c=e("../internals/get-method");n.exports=function(a,i,u){var f,d;s(a);try{if(!(f=c(a,"return"))){if(i==="throw")throw u;return u}f=o(f,a)}catch(h){d=!0,f=h}if(i==="throw")throw u;if(d)throw f;return s(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,l){var o=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),i=e("../internals/iterators"),u=function(){return this};n.exports=function(f,d,h,g){var y=d+" Iterator";return f.prototype=s(o,{next:c(+!g,h)}),a(f,y,!1,!0),i[y]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/function-call"),c=e("../internals/is-pure"),a=e("../internals/function-name"),i=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),b=e("../internals/iterators"),m=e("../internals/iterators-core"),S=a.PROPER,C=a.CONFIGURABLE,I=m.IteratorPrototype,P=m.BUGGY_SAFARI_ITERATORS,L=p("iterator"),j=function(){return this};n.exports=function(B,z,U,H,T,A,k){u(U,z,H);var v,x,w,_=function(D){if(D===T&&V)return V;if(!P&&D&&D in O)return O[D];switch(D){case"keys":case"values":case"entries":return function(){return new U(this,D)}}return function(){return new U(this)}},E=z+" Iterator",R=!1,O=B.prototype,W=O[L]||O["@@iterator"]||T&&O[T],V=!P&&W||_(T),X=z==="Array"&&O.entries||W;if(X&&(v=f(X.call(new B)))!==Object.prototype&&v.next&&(c||f(v)===I||(d?d(v,I):i(v[L])||y(v,L,j)),h(v,E,!0,!0),c&&(b[E]=j)),S&&T==="values"&&W&&W.name!=="values"&&(!c&&C?g(O,"name","values"):(R=!0,V=function(){return s(W,this)})),T)if(x={values:_("values"),keys:A?V:_("keys"),entries:_("entries")},k)for(w in x)(P||R||!(w in O))&&y(O,w,x[w]);else o({target:z,proto:!0,forced:P||R},x);return c&&!k||O[L]===V||y(O,L,V,{name:T}),b[z]=V,x}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,l){var o,s,c,a=e("../internals/fails"),i=e("../internals/is-callable"),u=e("../internals/is-object"),f=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),p=g("iterator"),b=!1;[].keys&&("next"in(c=[].keys())?(s=d(d(c)))!==Object.prototype&&(o=s):b=!0),!u(o)||a(function(){var m={};return o[p].call(m)!==m})?o={}:y&&(o=f(o)),i(o[p])||h(o,p,function(){return this}),n.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:b}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,l){arguments[4][276][0].apply(l,arguments)},{dup:276}],299:[function(e,n,l){var o=e("../internals/to-length");n.exports=function(s){return o(s.length)}},{"../internals/to-length":343}],300:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/fails"),c=e("../internals/is-callable"),a=e("../internals/has-own-property"),i=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),d=e("../internals/internal-state"),h=d.enforce,g=d.get,y=String,p=Object.defineProperty,b=o("".slice),m=o("".replace),S=o([].join),C=i&&!s(function(){return p(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),P=n.exports=function(L,j,B){b(y(j),0,7)==="Symbol("&&(j="["+m(y(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(j="get "+j),B&&B.setter&&(j="set "+j),(!a(L,"name")||u&&L.name!==j)&&(i?p(L,"name",{value:j,configurable:!0}):L.name=j),C&&B&&a(B,"arity")&&L.length!==B.arity&&p(L,"length",{value:B.arity});try{B&&a(B,"constructor")&&B.constructor?i&&p(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var z=h(L);return a(z,"source")||(z.source=S(I,typeof j=="string"?j:"")),L};Function.prototype.toString=P(function(){return c(this)&&g(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,l){var o=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(c){var a=+c;return(a>0?s:o)(a)}},{}],302:[function(e,n,l){var o,s,c,a,i,u=e("../internals/global"),f=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),y=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),b=e("../internals/engine-is-webos-webkit"),m=e("../internals/engine-is-node"),S=u.MutationObserver||u.WebKitMutationObserver,C=u.document,I=u.process,P=u.Promise,L=d(u,"queueMicrotask"),j=L&&L.value;if(!j){var B=new g,z=function(){var U,H;for(m&&(U=I.domain)&&U.exit();H=B.get();)try{H()}catch(T){throw B.head&&o(),T}U&&U.enter()};y||m||b||!S||!C?!p&&P&&P.resolve?((a=P.resolve(void 0)).constructor=P,i=f(a.then,a),o=function(){i(z)}):m?o=function(){I.nextTick(z)}:(h=f(h,u),o=function(){h(z)}):(s=!0,c=C.createTextNode(""),new S(z).observe(c,{characterData:!0}),o=function(){c.data=s=!s}),j=function(U){B.head||o(),B.add(U)}}n.exports=j},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,l){var o=e("../internals/a-callable"),s=TypeError,c=function(a){var i,u;this.promise=new a(function(f,d){if(i!==void 0||u!==void 0)throw new s("Bad Promise constructor");i=f,u=d}),this.resolve=o(i),this.reject=o(u)};n.exports.f=function(a){return new c(a)}},{"../internals/a-callable":222}],304:[function(e,n,l){var o=e("../internals/is-regexp"),s=TypeError;n.exports=function(c){if(o(c))throw new s("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),a=e("../internals/fails"),i=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,p=s([].concat);n.exports=!g||a(function(){if(o&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},m={},S=Symbol("assign detection");return b[S]=7,"abcdefghijklmnopqrst".split("").forEach(function(C){m[C]=C}),g({},b)[S]!==7||i(g({},m)).join("")!=="abcdefghijklmnopqrst"})?function(b,m){for(var S=d(b),C=arguments.length,I=1,P=u.f,L=f.f;C>I;)for(var j,B=h(arguments[I++]),z=P?p(i(B),P(B)):i(B),U=z.length,H=0;U>H;)j=z[H++],o&&!c(L,B,j)||(S[j]=B[j]);return S}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,l){var o,s=e("../internals/an-object"),c=e("../internals/object-define-properties"),a=e("../internals/enum-bug-keys"),i=e("../internals/hidden-keys"),u=e("../internals/html"),f=e("../internals/document-create-element"),d=e("../internals/shared-key"),h=d("IE_PROTO"),g=function(){},y=function(m){return"<script>"+m+"<\/script>"},p=function(m){m.write(y("")),m.close();var S=m.parentWindow.Object;return m=null,S},b=function(){try{o=new ActiveXObject("htmlfile")}catch{}var m,S;b=typeof document<"u"?document.domain&&o?p(o):((S=f("iframe")).style.display="none",u.appendChild(S),S.src="javascript:",(m=S.contentWindow.document).open(),m.write(y("document.F=Object")),m.close(),m.F):p(o);for(var C=a.length;C--;)delete b.prototype[a[C]];return b()};i[h]=!0,n.exports=Object.create||function(m,S){var C;return m!==null?(g.prototype=s(m),C=new g,g.prototype=null,C[h]=m):C=b(),S===void 0?C:c.f(C,S)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),a=e("../internals/an-object"),i=e("../internals/to-indexed-object"),u=e("../internals/object-keys");l.f=o&&!s?Object.defineProperties:function(f,d){a(f);for(var h,g=i(d),y=u(d),p=y.length,b=0;p>b;)c.f(f,h=y[b++],g[h]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),a=e("../internals/an-object"),i=e("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor;l.f=o?c?function(h,g,y){if(a(h),g=i(g),a(y),typeof h=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var p=d(h,g);p&&p.writable&&(h[g]=y.value,y={configurable:"configurable"in y?y.configurable:p.configurable,enumerable:"enumerable"in y?y.enumerable:p.enumerable,writable:!1})}return f(h,g,y)}:f:function(h,g,y){if(a(h),g=i(g),a(y),s)try{return f(h,g,y)}catch{}if("get"in y||"set"in y)throw new u("Accessors not supported");return"value"in y&&(h[g]=y.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),a=e("../internals/create-property-descriptor"),i=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),f=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;l.f=o?h:function(g,y){if(g=i(g),y=u(y),d)try{return h(g,y)}catch{}if(f(g,y))return a(!s(c.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,l){var o=e("../internals/classof-raw"),s=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,a=e("../internals/array-slice-simple"),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return i&&o(u)==="Window"?function(f){try{return c(f)}catch{return a(i)}}(u):c(s(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,l){var o=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(c){return o(c,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,l){l.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,l){var o=e("../internals/has-own-property"),s=e("../internals/is-callable"),c=e("../internals/to-object"),a=e("../internals/shared-key"),i=e("../internals/correct-prototype-getter"),u=a("IE_PROTO"),f=Object,d=f.prototype;n.exports=i?f.getPrototypeOf:function(h){var g=c(h);if(o(g,u))return g[u];var y=g.constructor;return s(y)&&g instanceof y?y.prototype:g instanceof f?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,l){var o=e("../internals/function-uncurry-this");n.exports=o({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,i=e("../internals/hidden-keys"),u=o([].push);n.exports=function(f,d){var h,g=c(f),y=0,p=[];for(h in g)!s(i,h)&&s(g,h)&&u(p,h);for(;d.length>y;)s(g,h=d[y++])&&(~a(p,h)||u(p,h));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,l){var o=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return o(c,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,l){var o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c=s&&!o.call({1:2},1);l.f=c?function(a){var i=s(this,a);return!!i&&i.enumerable}:o},{}],318:[function(e,n,l){var o=e("../internals/function-uncurry-this-accessor"),s=e("../internals/an-object"),c=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,i=!1,u={};try{(a=o(Object.prototype,"__proto__","set"))(u,[]),i=u instanceof Array}catch{}return function(f,d){return s(f),c(d),i?a(f,d):f.__proto__=d,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/fails"),c=e("../internals/function-uncurry-this"),a=e("../internals/object-get-prototype-of"),i=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),f=c(e("../internals/object-property-is-enumerable").f),d=c([].push),h=o&&s(function(){var y=Object.create(null);return y[2]=2,!f(y,2)}),g=function(y){return function(p){for(var b,m=u(p),S=i(m),C=h&&a(m)===null,I=S.length,P=0,L=[];I>P;)b=S[P++],o&&!(C?b in m:f(m,b))||d(L,y?[b,m[b]]:m[b]);return L}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,l){var o=e("../internals/function-call"),s=e("../internals/is-callable"),c=e("../internals/is-object"),a=TypeError;n.exports=function(i,u){var f,d;if(u==="string"&&s(f=i.toString)&&!c(d=o(f,i))||s(f=i.valueOf)&&!c(d=o(f,i))||u!=="string"&&s(f=i.toString)&&!c(d=o(f,i)))return d;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,l){var o=e("../internals/get-built-in"),s=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),a=e("../internals/object-get-own-property-symbols"),i=e("../internals/an-object"),u=s([].concat);n.exports=o("Reflect","ownKeys")||function(f){var d=c.f(i(f)),h=a.f;return h?u(d,h(f)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,l){var o=e("../internals/global");n.exports=o},{"../internals/global":274}],323:[function(e,n,l){n.exports=function(o){try{return{error:!1,value:o()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),a=e("../internals/is-forced"),i=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),y=s&&s.prototype,p=u("species"),b=!1,m=c(o.PromiseRejectionEvent),S=a("Promise",function(){var C=i(s),I=C!==String(s);if(!I&&g===66||h&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(C)){var P=new s(function(j){j(1)}),L=function(j){j(function(){},function(){})};if((P.constructor={})[p]=L,!(b=P.then(function(){})instanceof L))return!0}return!I&&(f||d)&&!m});n.exports={CONSTRUCTOR:S,REJECTION_EVENT:m,SUBCLASSING:b}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,l){var o=e("../internals/global");n.exports=o.Promise},{"../internals/global":274}],326:[function(e,n,l){var o=e("../internals/an-object"),s=e("../internals/is-object"),c=e("../internals/new-promise-capability");n.exports=function(a,i){if(o(a),s(i)&&i.constructor===a)return i;var u=c.f(a);return(0,u.resolve)(i),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,l){var o=e("../internals/promise-native-constructor"),s=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!s(function(a){o.all(a).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,l){var o=function(){this.head=null,this.tail=null};o.prototype={add:function(s){var c={item:s,next:null},a=this.tail;a?a.next=c:this.head=c,this.tail=c},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=o},{}],329:[function(e,n,l){var o=e("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(c){if(o(c))throw new s("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,l){var o=e("../internals/get-built-in"),s=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),i=c("species");n.exports=function(u){var f=o(u);a&&f&&!f[i]&&s(f,i,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,l){var o=e("../internals/object-define-property").f,s=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");n.exports=function(a,i,u){a&&!u&&(a=a.prototype),a&&!s(a,c)&&o(a,c,{configurable:!0,value:i})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,l){var o=e("../internals/shared"),s=e("../internals/uid"),c=o("keys");n.exports=function(a){return c[a]||(c[a]=s(a))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/define-global-property"),c=o["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,l){var o=e("../internals/is-pure"),s=e("../internals/shared-store");(n.exports=function(c,a){return s[c]||(s[c]=a!==void 0?a:{})})("versions",[]).push({version:"3.33.0",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,l){var o=e("../internals/an-object"),s=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),a=e("../internals/well-known-symbol")("species");n.exports=function(i,u){var f,d=o(i).constructor;return d===void 0||c(f=o(d)[a])?u:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,l){var o=e("../internals/engine-v8-version"),s=e("../internals/fails"),c=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var a=Symbol("symbol detection");return!c(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&o&&o<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,l){var o=e("../internals/function-call"),s=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),a=e("../internals/define-built-in");n.exports=function(){var i=s("Symbol"),u=i&&i.prototype,f=u&&u.valueOf,d=c("toPrimitive");u&&!u[d]&&a(u,d,function(h){return o(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,l){var o=e("../internals/symbol-constructor-detection");n.exports=o&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,l){var o,s,c,a,i=e("../internals/global"),u=e("../internals/function-apply"),f=e("../internals/function-bind-context"),d=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),y=e("../internals/html"),p=e("../internals/array-slice"),b=e("../internals/document-create-element"),m=e("../internals/validate-arguments-length"),S=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),I=i.setImmediate,P=i.clearImmediate,L=i.process,j=i.Dispatch,B=i.Function,z=i.MessageChannel,U=i.String,H=0,T={};g(function(){o=i.location});var A=function(w){if(h(T,w)){var _=T[w];delete T[w],_()}},k=function(w){return function(){A(w)}},v=function(w){A(w.data)},x=function(w){i.postMessage(U(w),o.protocol+"//"+o.host)};I&&P||(I=function(w){m(arguments.length,1);var _=d(w)?w:B(w),E=p(arguments,1);return T[++H]=function(){u(_,void 0,E)},s(H),H},P=function(w){delete T[w]},C?s=function(w){L.nextTick(k(w))}:j&&j.now?s=function(w){j.now(k(w))}:z&&!S?(a=(c=new z).port2,c.port1.onmessage=v,s=f(a.postMessage,a)):i.addEventListener&&d(i.postMessage)&&!i.importScripts&&o&&o.protocol!=="file:"&&!g(x)?(s=x,i.addEventListener("message",v,!1)):s="onreadystatechange"in b("script")?function(w){y.appendChild(b("script")).onreadystatechange=function(){y.removeChild(this),A(w)}}:function(w){setTimeout(k(w),0)}),n.exports={set:I,clear:P}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,l){var o=e("../internals/to-integer-or-infinity"),s=Math.max,c=Math.min;n.exports=function(a,i){var u=o(a);return u<0?s(u+i,0):c(u,i)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,l){var o=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");n.exports=function(c){return o(s(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,l){var o=e("../internals/math-trunc");n.exports=function(s){var c=+s;return c!=c||c===0?0:o(c)}},{"../internals/math-trunc":301}],343:[function(e,n,l){var o=e("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(c){return c>0?s(o(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,l){var o=e("../internals/require-object-coercible"),s=Object;n.exports=function(c){return s(o(c))}},{"../internals/require-object-coercible":329}],345:[function(e,n,l){var o=e("../internals/function-call"),s=e("../internals/is-object"),c=e("../internals/is-symbol"),a=e("../internals/get-method"),i=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),f=TypeError,d=u("toPrimitive");n.exports=function(h,g){if(!s(h)||c(h))return h;var y,p=a(h,d);if(p){if(g===void 0&&(g="default"),y=o(p,h,g),!s(y)||c(y))return y;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),i(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,l){var o=e("../internals/to-primitive"),s=e("../internals/is-symbol");n.exports=function(c){var a=o(c,"string");return s(a)?a:a+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,l){var o={};o[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,l){var o=e("../internals/classof"),s=String;n.exports=function(c){if(o(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(c)}},{"../internals/classof":236}],349:[function(e,n,l){var o=String;n.exports=function(s){try{return o(s)}catch{return"Object"}}},{}],350:[function(e,n,l){var o=e("../internals/function-uncurry-this"),s=0,c=Math.random(),a=o(1 .toString);n.exports=function(i){return"Symbol("+(i===void 0?"":i)+")_"+a(++s+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,l){var o=e("../internals/symbol-constructor-detection");n.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,l){var o=e("../internals/descriptors"),s=e("../internals/fails");n.exports=o&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,l){var o=TypeError;n.exports=function(s,c){if(s<c)throw new o("Not enough arguments");return s}},{}],354:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/is-callable"),c=o.WeakMap;n.exports=s(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,l){var o=e("../internals/path"),s=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;n.exports=function(i){var u=o.Symbol||(o.Symbol={});s(u,i)||a(u,i,{value:c.f(i)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,l){var o=e("../internals/well-known-symbol");l.f=o},{"../internals/well-known-symbol":357}],357:[function(e,n,l){var o=e("../internals/global"),s=e("../internals/shared"),c=e("../internals/has-own-property"),a=e("../internals/uid"),i=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),f=o.Symbol,d=s("wks"),h=u?f.for||f:f&&f.withoutSetter||a;n.exports=function(g){return c(d,g)||(d[g]=i&&c(f,g)?f[g]:h("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),o({target:"Array",proto:!0,forced:a},{findIndex:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),o({target:"Array",proto:!0,forced:a},{find:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/array-includes").includes,c=e("../internals/fails"),a=e("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,l){var o=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),a=e("../internals/internal-state"),i=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),h=e("../internals/descriptors"),g=a.set,y=a.getterFor("Array Iterator");n.exports=u(Array,"Array",function(b,m){g(this,{type:"Array Iterator",target:o(b),index:0,kind:m})},function(){var b=y(this),m=b.target,S=b.kind,C=b.index++;if(!m||C>=m.length)return b.target=void 0,f(void 0,!0);switch(S){case"keys":return f(C,!1);case"values":return f(m[C],!1)}return f([C,m[C]],!1)},"values");var p=c.Arguments=c.Array;if(s("keys"),s("values"),s("entries"),!d&&h&&p.name!=="values")try{i(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/get-built-in"),c=e("../internals/function-apply"),a=e("../internals/function-call"),i=e("../internals/function-uncurry-this"),u=e("../internals/fails"),f=e("../internals/is-callable"),d=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),p=String,b=s("JSON","stringify"),m=i(/./.exec),S=i("".charAt),C=i("".charCodeAt),I=i("".replace),P=i(1 .toString),L=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,z=!y||u(function(){var A=s("Symbol")("stringify detection");return b([A])!=="[null]"||b({a:A})!=="{}"||b(Object(A))!=="{}"}),U=u(function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'}),H=function(A,k){var v=h(arguments),x=g(k);if(f(x)||A!==void 0&&!d(A))return v[1]=function(w,_){if(f(x)&&(_=a(x,this,p(w),_)),!d(_))return _},c(b,null,v)},T=function(A,k,v){var x=S(v,k-1),w=S(v,k+1);return m(j,A)&&!m(B,w)||m(B,A)&&!m(j,x)?"\\u"+P(C(A,0),16):A};b&&o({target:"JSON",stat:!0,arity:3,forced:z||U},{stringify:function(A,k,v){var x=h(arguments),w=c(z?H:b,null,x);return U&&typeof w=="string"?I(w,L,T):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,l){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},{"../internals/export":259}],364:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/object-assign");o({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),a=e("../internals/object-get-own-property-symbols"),i=e("../internals/to-object");o({target:"Object",stat:!0,forced:!s||c(function(){a.f(1)})},{getOwnPropertySymbols:function(u){var f=a.f;return f?f(i(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/to-object"),c=e("../internals/object-keys");o({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(a){return c(s(a))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/object-to-array").values;o({target:"Object",stat:!0},{values:function(c){return s(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/function-call"),c=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),i=e("../internals/perform"),u=e("../internals/iterate");o({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var d=this,h=a.f(d),g=h.resolve,y=h.reject,p=i(function(){var b=c(d.resolve),m=[],S=0,C=1;u(f,function(I){var P=S++,L=!1;C++,s(b,d,I).then(function(j){L||(L=!0,m[P]=j,--C||g(m))},y)}),--C||g(m)});return p.error&&y(p.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,a=e("../internals/promise-native-constructor"),i=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/define-built-in"),d=a&&a.prototype;if(o({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!s&&u(a)){var h=i("Promise").prototype.catch;d.catch!==h&&f(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,l){var o,s,c,a=e("../internals/export"),i=e("../internals/is-pure"),u=e("../internals/engine-is-node"),f=e("../internals/global"),d=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),b=e("../internals/a-callable"),m=e("../internals/is-callable"),S=e("../internals/is-object"),C=e("../internals/an-instance"),I=e("../internals/species-constructor"),P=e("../internals/task").set,L=e("../internals/microtask"),j=e("../internals/host-report-errors"),B=e("../internals/perform"),z=e("../internals/queue"),U=e("../internals/internal-state"),H=e("../internals/promise-native-constructor"),T=e("../internals/promise-constructor-detection"),A=e("../internals/new-promise-capability"),k=T.CONSTRUCTOR,v=T.REJECTION_EVENT,x=T.SUBCLASSING,w=U.getterFor("Promise"),_=U.set,E=H&&H.prototype,R=H,O=E,W=f.TypeError,V=f.document,X=f.process,D=A.f,K=D,N=!!(V&&V.createEvent&&f.dispatchEvent),M=function(se){var me;return!(!S(se)||!m(me=se.then))&&me},$=function(se,me){var de,ge,ve,he=me.value,Me=me.state===1,Ee=Me?se.ok:se.fail,Fe=se.resolve,De=se.reject,et=se.domain;try{Ee?(Me||(me.rejection===2&&le(me),me.rejection=1),Ee===!0?de=he:(et&&et.enter(),de=Ee(he),et&&(et.exit(),ve=!0)),de===se.promise?De(new W("Promise-chain cycle")):(ge=M(de))?d(ge,de,Fe,De):Fe(de)):De(he)}catch(He){et&&!ve&&et.exit(),De(He)}},Y=function(se,me){se.notified||(se.notified=!0,L(function(){for(var de,ge=se.reactions;de=ge.get();)$(de,se);se.notified=!1,me&&!se.rejection&&Q(se)}))},ee=function(se,me,de){var ge,ve;N?((ge=V.createEvent("Event")).promise=me,ge.reason=de,ge.initEvent(se,!1,!0),f.dispatchEvent(ge)):ge={promise:me,reason:de},!v&&(ve=f["on"+se])?ve(ge):se==="unhandledrejection"&&j("Unhandled promise rejection",de)},Q=function(se){d(P,f,function(){var me,de=se.facade,ge=se.value;if(Z(se)&&(me=B(function(){u?X.emit("unhandledRejection",ge,de):ee("unhandledrejection",de,ge)}),se.rejection=u||Z(se)?2:1,me.error))throw me.value})},Z=function(se){return se.rejection!==1&&!se.parent},le=function(se){d(P,f,function(){var me=se.facade;u?X.emit("rejectionHandled",me):ee("rejectionhandled",me,se.value)})},ae=function(se,me,de){return function(ge){se(me,ge,de)}},J=function(se,me,de){se.done||(se.done=!0,de&&(se=de),se.value=me,se.state=2,Y(se,!0))},ne=function(se,me,de){if(!se.done){se.done=!0,de&&(se=de);try{if(se.facade===me)throw new W("Promise can't be resolved itself");var ge=M(me);ge?L(function(){var ve={done:!1};try{d(ge,me,ae(ne,ve,se),ae(J,ve,se))}catch(he){J(ve,he,se)}}):(se.value=me,se.state=1,Y(se,!1))}catch(ve){J({done:!1},ve,se)}}};if(k&&(O=(R=function(se){C(this,O),b(se),d(o,this);var me=w(this);try{se(ae(ne,me),ae(J,me))}catch(de){J(me,de)}}).prototype,(o=function(se){_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new z,rejection:!1,state:0,value:void 0})}).prototype=h(O,"then",function(se,me){var de=w(this),ge=D(I(this,R));return de.parent=!0,ge.ok=!m(se)||se,ge.fail=m(me)&&me,ge.domain=u?X.domain:void 0,de.state===0?de.reactions.add(ge):L(function(){$(ge,de)}),ge.promise}),s=function(){var se=new o,me=w(se);this.promise=se,this.resolve=ae(ne,me),this.reject=ae(J,me)},A.f=D=function(se){return se===R||se===void 0?new s(se):K(se)},!i&&m(H)&&E!==Object.prototype)){c=E.then,x||h(E,"then",function(se,me){var de=this;return new R(function(ge,ve){d(c,de,ge,ve)}).then(se,me)},{unsafe:!0});try{delete E.constructor}catch{}g&&g(E,O)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:R}),y(R,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),a=e("../internals/fails"),i=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=c&&c.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!c&&a(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(p){var b=f(this,i("Promise")),m=u(p);return this.then(m?function(S){return d(b,p()).then(function(){return S})}:p,m?function(S){return d(b,p()).then(function(){throw S})}:p)}}),!s&&u(c)){var y=i("Promise").prototype.finally;g.finally!==y&&h(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,l){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/function-call"),c=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),i=e("../internals/perform"),u=e("../internals/iterate");o({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var d=this,h=a.f(d),g=h.reject,y=i(function(){var p=c(d.resolve);u(f,function(b){s(p,d,b).then(h.resolve,g)})});return y.error&&g(y.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/function-call"),c=e("../internals/new-promise-capability");o({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(a){var i=c.f(this);return s(i.reject,void 0,a),i.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/get-built-in"),c=e("../internals/is-pure"),a=e("../internals/promise-native-constructor"),i=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),f=s("Promise"),d=c&&!i;o({target:"Promise",stat:!0,forced:c||i},{resolve:function(h){return u(d&&this===f?a:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),a=RangeError,i=String.fromCharCode,u=String.fromCodePoint,f=s([].join);o({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(d){for(var h,g=[],y=arguments.length,p=0;y>p;){if(h=+arguments[p++],c(h,1114111)!==h)throw new a(h+" is not a valid code point");g[p]=h<65536?i(h):i(55296+((h-=65536)>>10),h%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),a=e("../internals/require-object-coercible"),i=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),f=s("".indexOf);o({target:"String",proto:!0,forced:!u("includes")},{includes:function(d){return!!~f(i(a(this)),i(c(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,l){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/global"),c=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),i=e("../internals/is-pure"),u=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),p=e("../internals/to-indexed-object"),b=e("../internals/to-property-key"),m=e("../internals/to-string"),S=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),I=e("../internals/object-keys"),P=e("../internals/object-get-own-property-names"),L=e("../internals/object-get-own-property-names-external"),j=e("../internals/object-get-own-property-symbols"),B=e("../internals/object-get-own-property-descriptor"),z=e("../internals/object-define-property"),U=e("../internals/object-define-properties"),H=e("../internals/object-property-is-enumerable"),T=e("../internals/define-built-in"),A=e("../internals/define-built-in-accessor"),k=e("../internals/shared"),v=e("../internals/shared-key"),x=e("../internals/hidden-keys"),w=e("../internals/uid"),_=e("../internals/well-known-symbol"),E=e("../internals/well-known-symbol-wrapped"),R=e("../internals/well-known-symbol-define"),O=e("../internals/symbol-define-to-primitive"),W=e("../internals/set-to-string-tag"),V=e("../internals/internal-state"),X=e("../internals/array-iteration").forEach,D=v("hidden"),K=V.set,N=V.getterFor("Symbol"),M=Object.prototype,$=s.Symbol,Y=$&&$.prototype,ee=s.RangeError,Q=s.TypeError,Z=s.QObject,le=B.f,ae=z.f,J=L.f,ne=H.f,se=a([].push),me=k("symbols"),de=k("op-symbols"),ge=k("wks"),ve=!Z||!Z.prototype||!Z.prototype.findChild,he=function(We,Ce,Be){var Xe=le(M,Ce);Xe&&delete M[Ce],ae(We,Ce,Be),Xe&&We!==M&&ae(M,Ce,Xe)},Me=u&&d(function(){return C(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a!==7})?he:ae,Ee=function(We,Ce){var Be=me[We]=C(Y);return K(Be,{type:"Symbol",tag:We,description:Ce}),u||(Be.description=Ce),Be},Fe=function(We,Ce,Be){We===M&&Fe(de,Ce,Be),y(We);var Xe=b(Ce);return y(Be),h(me,Xe)?(Be.enumerable?(h(We,D)&&We[D][Xe]&&(We[D][Xe]=!1),Be=C(Be,{enumerable:S(0,!1)})):(h(We,D)||ae(We,D,S(1,{})),We[D][Xe]=!0),Me(We,Xe,Be)):ae(We,Xe,Be)},De=function(We,Ce){y(We);var Be=p(Ce),Xe=I(Be).concat(Je(Be));return X(Xe,function(Ke){u&&!c(et,Be,Ke)||Fe(We,Ke,Be[Ke])}),We},et=function(We){var Ce=b(We),Be=c(ne,this,Ce);return!(this===M&&h(me,Ce)&&!h(de,Ce))&&(!(Be||!h(this,Ce)||!h(me,Ce)||h(this,D)&&this[D][Ce])||Be)},He=function(We,Ce){var Be=p(We),Xe=b(Ce);if(Be!==M||!h(me,Xe)||h(de,Xe)){var Ke=le(Be,Xe);return!Ke||!h(me,Xe)||h(Be,D)&&Be[D][Xe]||(Ke.enumerable=!0),Ke}},Ze=function(We){var Ce=J(p(We)),Be=[];return X(Ce,function(Xe){h(me,Xe)||h(x,Xe)||se(Be,Xe)}),Be},Je=function(We){var Ce=We===M,Be=J(Ce?de:p(We)),Xe=[];return X(Be,function(Ke){!h(me,Ke)||Ce&&!h(M,Ke)||se(Xe,me[Ke])}),Xe};f||(T(Y=($=function(){if(g(Y,this))throw new Q("Symbol is not a constructor");var We=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,Ce=w(We),Be=function(Xe){this===M&&c(Be,de,Xe),h(this,D)&&h(this[D],Ce)&&(this[D][Ce]=!1);var Ke=S(1,Xe);try{Me(this,Ce,Ke)}catch(rt){if(!(rt instanceof ee))throw rt;he(this,Ce,Ke)}};return u&&ve&&Me(M,Ce,{configurable:!0,set:Be}),Ee(Ce,We)}).prototype,"toString",function(){return N(this).tag}),T($,"withoutSetter",function(We){return Ee(w(We),We)}),H.f=et,z.f=Fe,U.f=De,B.f=He,P.f=L.f=Ze,j.f=Je,E.f=function(We){return Ee(_(We),We)},u&&(A(Y,"description",{configurable:!0,get:function(){return N(this).description}}),i||T(M,"propertyIsEnumerable",et,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:$}),X(I(ge),function(We){R(We)}),o({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),o({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(We,Ce){return Ce===void 0?C(We):De(C(We),Ce)},defineProperty:Fe,defineProperties:De,getOwnPropertyDescriptor:He}),o({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ze}),O(),W($,"Symbol"),x[D]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/get-built-in"),c=e("../internals/has-own-property"),a=e("../internals/to-string"),i=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=i("string-to-symbol-registry"),d=i("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{for:function(h){var g=a(h);if(c(f,g))return f[g];var y=s("Symbol")(g);return f[g]=y,d[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,l){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,l){var o=e("../internals/export"),s=e("../internals/has-own-property"),c=e("../internals/is-symbol"),a=e("../internals/try-to-string"),i=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=i("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{keyFor:function(d){if(!c(d))throw new TypeError(a(d)+" is not a symbol");if(s(f,d))return f[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,l){function o(s){return Object.prototype.toString.call(s)}l.isArray=function(s){return Array.isArray?Array.isArray(s):o(s)==="[object Array]"},l.isBoolean=function(s){return typeof s=="boolean"},l.isNull=function(s){return s===null},l.isNullOrUndefined=function(s){return s==null},l.isNumber=function(s){return typeof s=="number"},l.isString=function(s){return typeof s=="string"},l.isSymbol=function(s){return typeof s=="symbol"},l.isUndefined=function(s){return s===void 0},l.isRegExp=function(s){return o(s)==="[object RegExp]"},l.isObject=function(s){return typeof s=="object"&&s!==null},l.isDate=function(s){return o(s)==="[object Date]"},l.isError=function(s){return o(s)==="[object Error]"||s instanceof Error},l.isFunction=function(s){return typeof s=="function"},l.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},l.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,l){(function(o){(function(){var s=e("elliptic"),c=e("bn.js");n.exports=function(f){return new i(f)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function i(f){this.curveType=a[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function u(f,d,h){Array.isArray(f)||(f=f.toArray());var g=new o(f);if(h&&g.length<h){var y=new o(h-g.length);y.fill(0),g=o.concat([y,g])}return d?g.toString(d):g}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,i.prototype.generateKeys=function(f,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,d)},i.prototype.computeSecret=function(f,d,h){return d=d||"utf8",o.isBuffer(f)||(f=new o(f,d)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},i.prototype.getPublicKey=function(f,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),u(h,f)},i.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},i.prototype.setPublicKey=function(f,d){return d=d||"utf8",o.isBuffer(f)||(f=new o(f,d)),this.keys._importPublic(f),this},i.prototype.setPrivateKey=function(f,d){d=d||"utf8",o.isBuffer(f)||(f=new o(f,d));var h=new c(f);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],386:[function(e,n,l){var o=e("inherits"),s=e("md5.js"),c=e("ripemd160"),a=e("sha.js"),i=e("cipher-base");function u(f){i.call(this,"digest"),this._hash=f}o(u,i),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new c:new u(a(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,l){var o=e("md5.js");n.exports=function(s){return new o().update(s).digest()}},{"md5.js":450}],388:[function(e,n,l){var o=e("inherits"),s=e("./legacy"),c=e("cipher-base"),a=e("safe-buffer").Buffer,i=e("create-hash/md5"),u=e("ripemd160"),f=e("sha.js"),d=a.alloc(128);function h(g,y){c.call(this,"digest"),typeof y=="string"&&(y=a.from(y));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>p?y=(g==="rmd160"?new u:f(g)).update(y).digest():y.length<p&&(y=a.concat([y,d],p));for(var b=this._ipad=a.allocUnsafe(p),m=this._opad=a.allocUnsafe(p),S=0;S<p;S++)b[S]=54^y[S],m[S]=92^y[S];this._hash=g==="rmd160"?new u:f(g),this._hash.update(b)}o(h,c),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",y):g==="md5"?new s(i,y):new h(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,l){var o=e("inherits"),s=e("safe-buffer").Buffer,c=e("cipher-base"),a=s.alloc(128);function i(u,f){c.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=s.concat([f,a],64));for(var d=this._ipad=s.allocUnsafe(64),h=this._opad=s.allocUnsafe(64),g=0;g<64;g++)d[g]=54^f[g],h[g]=92^f[g];this._hash=[d]}o(i,c),i.prototype._update=function(u){this._hash.push(u)},i.prototype._final=function(){var u=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,u]))},n.exports=i},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,l){l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=e("randombytes"),l.createHash=l.Hash=e("create-hash"),l.createHmac=l.Hmac=e("create-hmac");var o=e("browserify-sign/algos"),s=Object.keys(o),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);l.getHashes=function(){return c};var a=e("pbkdf2");l.pbkdf2=a.pbkdf2,l.pbkdf2Sync=a.pbkdf2Sync;var i=e("browserify-cipher");l.Cipher=i.Cipher,l.createCipher=i.createCipher,l.Cipheriv=i.Cipheriv,l.createCipheriv=i.createCipheriv,l.Decipher=i.Decipher,l.createDecipher=i.createDecipher,l.Decipheriv=i.Decipheriv,l.createDecipheriv=i.createDecipheriv,l.getCiphers=i.getCiphers,l.listCiphers=i.listCiphers;var u=e("diffie-hellman");l.DiffieHellmanGroup=u.DiffieHellmanGroup,l.createDiffieHellmanGroup=u.createDiffieHellmanGroup,l.getDiffieHellman=u.getDiffieHellman,l.createDiffieHellman=u.createDiffieHellman,l.DiffieHellman=u.DiffieHellman;var f=e("browserify-sign");l.createSign=f.createSign,l.Sign=f.Sign,l.createVerify=f.createVerify,l.Verify=f.Verify,l.createECDH=e("create-ecdh");var d=e("public-encrypt");l.publicEncrypt=d.publicEncrypt,l.privateEncrypt=d.privateEncrypt,l.publicDecrypt=d.publicDecrypt,l.privateDecrypt=d.privateDecrypt;var h=e("randomfill");l.randomFill=h.randomFill,l.randomFillSync=h.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,l){(function(o,s){typeof l=="object"&&n!==void 0?n.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs=s()})(void 0,function(){var o=6e4,s=36e5,c="millisecond",a="second",i="minute",u="hour",f="day",d="week",h="month",g="quarter",y="year",p="date",b="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var x=["th","st","nd","rd"],w=v%100;return"["+v+(x[(w-20)%10]||x[w]||x[0])+"]"}},I=function(v,x,w){var _=String(v);return!_||_.length>=x?v:""+Array(x+1-_.length).join(w)+v},P={s:I,z:function(v){var x=-v.utcOffset(),w=Math.abs(x),_=Math.floor(w/60),E=w%60;return(x<=0?"+":"-")+I(_,2,"0")+":"+I(E,2,"0")},m:function v(x,w){if(x.date()<w.date())return-v(w,x);var _=12*(w.year()-x.year())+(w.month()-x.month()),E=x.clone().add(_,h),R=w-E<0,O=x.clone().add(_+(R?-1:1),h);return+(-(_+(w-E)/(R?E-O:O-E))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:h,y,w:d,d:f,D:p,h:u,m:i,s:a,ms:c,Q:g}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},L="en",j={};j[L]=C;var B="$isDayjsObject",z=function(v){return v instanceof A||!(!v||!v[B])},U=function v(x,w,_){var E;if(!x)return L;if(typeof x=="string"){var R=x.toLowerCase();j[R]&&(E=R),w&&(j[R]=w,E=R);var O=x.split("-");if(!E&&O.length>1)return v(O[0])}else{var W=x.name;j[W]=x,E=W}return!_&&E&&(L=E),E||!_&&L},H=function(v,x){if(z(v))return v.clone();var w=typeof x=="object"?x:{};return w.date=v,w.args=arguments,new A(w)},T=P;T.l=U,T.i=z,T.w=function(v,x){return H(v,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var A=function(){function v(w){this.$L=U(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[B]=!0}var x=v.prototype;return x.parse=function(w){this.$d=function(_){var E=_.date,R=_.utc;if(E===null)return new Date(NaN);if(T.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var O=E.match(m);if(O){var W=O[2]-1||0,V=(O[7]||"0").substring(0,3);return R?new Date(Date.UTC(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(E)}(w),this.init()},x.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},x.$utils=function(){return T},x.isValid=function(){return this.$d.toString()!==b},x.isSame=function(w,_){var E=H(w);return this.startOf(_)<=E&&E<=this.endOf(_)},x.isAfter=function(w,_){return H(w)<this.startOf(_)},x.isBefore=function(w,_){return this.endOf(_)<H(w)},x.$g=function(w,_,E){return T.u(w)?this[_]:this.set(E,w)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(w,_){var E=this,R=!!T.u(_)||_,O=T.p(w),W=function(Y,ee){var Q=T.w(E.$u?Date.UTC(E.$y,ee,Y):new Date(E.$y,ee,Y),E);return R?Q:Q.endOf(f)},V=function(Y,ee){return T.w(E.toDate()[Y].apply(E.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(ee)),E)},X=this.$W,D=this.$M,K=this.$D,N="set"+(this.$u?"UTC":"");switch(O){case y:return R?W(1,0):W(31,11);case h:return R?W(1,D):W(0,D+1);case d:var M=this.$locale().weekStart||0,$=(X<M?X+7:X)-M;return W(R?K-$:K+(6-$),D);case f:case p:return V(N+"Hours",0);case u:return V(N+"Minutes",1);case i:return V(N+"Seconds",2);case a:return V(N+"Milliseconds",3);default:return this.clone()}},x.endOf=function(w){return this.startOf(w,!1)},x.$set=function(w,_){var E,R=T.p(w),O="set"+(this.$u?"UTC":""),W=(E={},E[f]=O+"Date",E[p]=O+"Date",E[h]=O+"Month",E[y]=O+"FullYear",E[u]=O+"Hours",E[i]=O+"Minutes",E[a]=O+"Seconds",E[c]=O+"Milliseconds",E)[R],V=R===f?this.$D+(_-this.$W):_;if(R===h||R===y){var X=this.clone().set(p,1);X.$d[W](V),X.init(),this.$d=X.set(p,Math.min(this.$D,X.daysInMonth())).$d}else W&&this.$d[W](V);return this.init(),this},x.set=function(w,_){return this.clone().$set(w,_)},x.get=function(w){return this[T.p(w)]()},x.add=function(w,_){var E,R=this;w=Number(w);var O=T.p(_),W=function(D){var K=H(R);return T.w(K.date(K.date()+Math.round(D*w)),R)};if(O===h)return this.set(h,this.$M+w);if(O===y)return this.set(y,this.$y+w);if(O===f)return W(1);if(O===d)return W(7);var V=(E={},E[i]=o,E[u]=s,E[a]=1e3,E)[O]||1,X=this.$d.getTime()+w*V;return T.w(X,this)},x.subtract=function(w,_){return this.add(-1*w,_)},x.format=function(w){var _=this,E=this.$locale();if(!this.isValid())return E.invalidDate||b;var R=w||"YYYY-MM-DDTHH:mm:ssZ",O=T.z(this),W=this.$H,V=this.$m,X=this.$M,D=E.weekdays,K=E.months,N=E.meridiem,M=function(ee,Q,Z,le){return ee&&(ee[Q]||ee(_,R))||Z[Q].slice(0,le)},$=function(ee){return T.s(W%12||12,ee,"0")},Y=N||function(ee,Q,Z){var le=ee<12?"AM":"PM";return Z?le.toLowerCase():le};return R.replace(S,function(ee,Q){return Q||function(Z){switch(Z){case"YY":return String(_.$y).slice(-2);case"YYYY":return T.s(_.$y,4,"0");case"M":return X+1;case"MM":return T.s(X+1,2,"0");case"MMM":return M(E.monthsShort,X,K,3);case"MMMM":return M(K,X);case"D":return _.$D;case"DD":return T.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return M(E.weekdaysMin,_.$W,D,2);case"ddd":return M(E.weekdaysShort,_.$W,D,3);case"dddd":return D[_.$W];case"H":return String(W);case"HH":return T.s(W,2,"0");case"h":return $(1);case"hh":return $(2);case"a":return Y(W,V,!0);case"A":return Y(W,V,!1);case"m":return String(V);case"mm":return T.s(V,2,"0");case"s":return String(_.$s);case"ss":return T.s(_.$s,2,"0");case"SSS":return T.s(_.$ms,3,"0");case"Z":return O}return null}(ee)||O.replace(":","")})},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(w,_,E){var R,O=this,W=T.p(_),V=H(w),X=(V.utcOffset()-this.utcOffset())*o,D=this-V,K=function(){return T.m(O,V)};switch(W){case y:R=K()/12;break;case h:R=K();break;case g:R=K()/3;break;case d:R=(D-X)/6048e5;break;case f:R=(D-X)/864e5;break;case u:R=D/s;break;case i:R=D/o;break;case a:R=D/1e3;break;default:R=D}return E?R:T.a(R)},x.daysInMonth=function(){return this.endOf(h).$D},x.$locale=function(){return j[this.$L]},x.locale=function(w,_){if(!w)return this.$L;var E=this.clone(),R=U(w,_,!0);return R&&(E.$L=R),E},x.clone=function(){return T.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},v}(),k=A.prototype;return H.prototype=k,[["$ms",c],["$s",a],["$m",i],["$H",u],["$W",f],["$M",h],["$y",y],["$D",p]].forEach(function(v){k[v[1]]=function(x){return this.$g(x,v[0],v[1])}}),H.extend=function(v,x){return v.$i||(v(x,A,H),v.$i=!0),H},H.locale=U,H.isDayjs=z,H.unix=function(v){return H(1e3*v)},H.en=j[L],H.Ls=j,H.p={},H})},{}],392:[function(e,n,l){(function(o,s){typeof l=="object"&&n!==void 0?n.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,u={},f=function(m){return(m=+m)+(m>68?1900:2e3)},d=function(m){return function(S){this[m]=+S}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(S){if(!S||S==="Z")return 0;var C=S.match(/([+-]|\d\d)/g),I=60*C[1]+(+C[2]||0);return I===0?0:C[0]==="+"?-I:I}(m)}],g=function(m){var S=u[m];return S&&(S.indexOf?S:S.s.concat(S.f))},y=function(m,S){var C,I=u.meridiem;if(I){for(var P=1;P<=24;P+=1)if(m.indexOf(I(P,0,S))>-1){C=P>12;break}}else C=m===(S?"pm":"PM");return C},p={A:[i,function(m){this.afternoon=y(m,!1)}],a:[i,function(m){this.afternoon=y(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[c,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[a,d("seconds")],ss:[a,d("seconds")],m:[a,d("minutes")],mm:[a,d("minutes")],H:[a,d("hours")],h:[a,d("hours")],HH:[a,d("hours")],hh:[a,d("hours")],D:[a,d("day")],DD:[c,d("day")],Do:[i,function(m){var S=u.ordinal,C=m.match(/\d+/);if(this.day=C[0],S)for(var I=1;I<=31;I+=1)S(I).replace(/\[|\]/g,"")===m&&(this.day=I)}],M:[a,d("month")],MM:[c,d("month")],MMM:[i,function(m){var S=g("months"),C=(g("monthsShort")||S.map(function(I){return I.slice(0,3)})).indexOf(m)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[i,function(m){var S=g("months").indexOf(m)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,d("year")],YY:[c,function(m){this.year=f(m)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function b(m){var S,C;S=m,C=u&&u.formats;for(var I=(m=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,T,A){var k=A&&A.toUpperCase();return T||C[A]||o[A]||C[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,x,w){return x||w.slice(1)})})).match(s),P=I.length,L=0;L<P;L+=1){var j=I[L],B=p[j],z=B&&B[0],U=B&&B[1];I[L]=U?{regex:z,parser:U}:j.replace(/^\[|\]$/g,"")}return function(H){for(var T={},A=0,k=0;A<P;A+=1){var v=I[A];if(typeof v=="string")k+=v.length;else{var x=v.regex,w=v.parser,_=H.slice(k),E=x.exec(_)[0];w.call(T,E),H=H.replace(E,"")}}return function(R){var O=R.afternoon;if(O!==void 0){var W=R.hours;O?W<12&&(R.hours+=12):W===12&&(R.hours=0),delete R.afternoon}}(T),T}}return function(m,S,C){C.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(f=m.parseTwoDigitYear);var I=S.prototype,P=I.parse;I.parse=function(L){var j=L.date,B=L.utc,z=L.args;this.$u=B;var U=z[1];if(typeof U=="string"){var H=z[2]===!0,T=z[3]===!0,A=H||T,k=z[2];T&&(k=z[2]),u=this.$locale(),!H&&k&&(u=C.Ls[k]),this.$d=function(_,E,R){try{if(["x","X"].indexOf(E)>-1)return new Date((E==="X"?1e3:1)*_);var O=b(E)(_),W=O.year,V=O.month,X=O.day,D=O.hours,K=O.minutes,N=O.seconds,M=O.milliseconds,$=O.zone,Y=new Date,ee=X||(W||V?1:Y.getDate()),Q=W||Y.getFullYear(),Z=0;W&&!V||(Z=V>0?V-1:Y.getMonth());var le=D||0,ae=K||0,J=N||0,ne=M||0;return $?new Date(Date.UTC(Q,Z,ee,le,ae,J,ne+60*$.offset*1e3)):R?new Date(Date.UTC(Q,Z,ee,le,ae,J,ne)):new Date(Q,Z,ee,le,ae,J,ne)}catch{return new Date("")}}(j,U,B),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),A&&j!=this.format(U)&&(this.$d=new Date("")),u={}}else if(U instanceof Array)for(var v=U.length,x=1;x<=v;x+=1){z[1]=U[x-1];var w=C.apply(this,z);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}x===v&&(this.$d=new Date(""))}else P.call(this,L)}}})},{}],393:[function(e,n,l){(function(o,s){typeof l=="object"&&n!==void 0?n.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_utc=s()})(void 0,function(){var o="minute",s=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(a,i,u){var f=i.prototype;u.utc=function(m){var S={date:m,utc:!0,args:arguments};return new i(S)},f.utc=function(m){var S=u(this.toDate(),{locale:this.$L,utc:!0});return m?S.add(this.utcOffset(),o):S},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var d=f.parse;f.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),d.call(this,m)};var h=f.init;f.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else h.call(this)};var g=f.utcOffset;f.utcOffset=function(m,S){var C=this.$utils().u;if(C(m))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof m=="string"&&(m=function(j){j===void 0&&(j="");var B=j.match(s);if(!B)return null;var z=(""+B[0]).match(c)||["-",0,0],U=z[0],H=60*+z[1]+ +z[2];return H===0?0:U==="+"?H:-H}(m))===null)return this;var I=Math.abs(m)<=16?60*m:m,P=this;if(S)return P.$offset=I,P.$u=m===0,P;if(m!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(P=this.local().add(I+L,o)).$offset=I,P.$x.$localOffset=L}else P=this.utc();return P};var y=f.format;f.format=function(m){var S=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,S)},f.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(m){return m==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var b=f.diff;f.diff=function(m,S,C){if(m&&this.$u===m.$u)return b.call(this,m,S,C);var I=this.local(),P=u(m).local();return b.call(I,P,S,C)}}})},{}],394:[function(e,n,l){l.utils=e("./des/utils"),l.Cipher=e("./des/cipher"),l.DES=e("./des/des"),l.CBC=e("./des/cbc"),l.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,l){var o=e("minimalistic-assert"),s=e("inherits"),c={};function a(i){o.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=i[u]}l.instantiate=function(i){function u(g){i.call(this,g),this._cbcInit()}s(u,i);for(var f=Object.keys(c),d=0;d<f.length;d++){var h=f[d];u.prototype[h]=c[h]}return u.create=function(g){return new u(g)},u},c._cbcInit=function(){var i=new a(this.options.iv);this._cbcState=i},c._update=function(i,u,f,d){var h=this._cbcState,g=this.constructor.super_.prototype,y=h.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=i[u+p];for(g._update.call(this,y,0,f,d),p=0;p<this.blockSize;p++)y[p]=f[d+p]}else{for(g._update.call(this,i,u,f,d),p=0;p<this.blockSize;p++)f[d+p]^=y[p];for(p=0;p<this.blockSize;p++)y[p]=i[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,l){var o=e("minimalistic-assert");function s(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},s.prototype._buffer=function(c,a){for(var i=Math.min(this.buffer.length-this.bufferOff,c.length-a),u=0;u<i;u++)this.buffer[this.bufferOff+u]=c[a+u];return this.bufferOff+=i,i},s.prototype._flushBuffer=function(c,a){return this._update(this.buffer,0,c,a),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(c){var a=0,i=0,u=(this.bufferOff+c.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(c,a),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(f,i)));for(var d=c.length-(c.length-a)%this.blockSize;a<d;a+=this.blockSize)this._update(c,a,f,i),i+=this.blockSize;for(;a<c.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=c[a];return f},s.prototype._updateDecrypt=function(c){for(var a=0,i=0,u=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)a+=this._buffer(c,a),i+=this._flushBuffer(f,i);return a+=this._buffer(c,a),f},s.prototype.final=function(c){var a,i;return c&&(a=this.update(c)),i=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),a?a.concat(i):i},s.prototype._pad=function(c,a){if(a===0)return!1;for(;a<c.length;)c[a++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},s.prototype._unpad=function(c){return c},s.prototype._finalDecrypt=function(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,n,l){var o=e("minimalistic-assert"),s=e("inherits"),c=e("./utils"),a=e("./cipher");function i(){this.tmp=new Array(2),this.keys=null}function u(d){a.call(this,d);var h=new i;this._desState=h,this.deriveKeys(h,d.key)}s(u,a),n.exports=u,u.create=function(d){return new u(d)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(d,h){d.keys=new Array(32),o.equal(h.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(h,0),y=c.readUInt32BE(h,4);c.pc1(g,y,d.tmp,0),g=d.tmp[0],y=d.tmp[1];for(var p=0;p<d.keys.length;p+=2){var b=f[p>>>1];g=c.r28shl(g,b),y=c.r28shl(y,b),c.pc2(g,y,d.keys,p)}},u.prototype._update=function(d,h,g,y){var p=this._desState,b=c.readUInt32BE(d,h),m=c.readUInt32BE(d,h+4);c.ip(b,m,p.tmp,0),b=p.tmp[0],m=p.tmp[1],this.type==="encrypt"?this._encrypt(p,b,m,p.tmp,0):this._decrypt(p,b,m,p.tmp,0),b=p.tmp[0],m=p.tmp[1],c.writeUInt32BE(g,b,y),c.writeUInt32BE(g,m,y+4)},u.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var g=d.length-h,y=h;y<d.length;y++)d[y]=g;return!0},u.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],g=d.length-h;g<d.length;g++)o.equal(d[g],h);return d.slice(0,d.length-h)},u.prototype._encrypt=function(d,h,g,y,p){for(var b=h,m=g,S=0;S<d.keys.length;S+=2){var C=d.keys[S],I=d.keys[S+1];c.expand(m,d.tmp,0),C^=d.tmp[0],I^=d.tmp[1];var P=c.substitute(C,I),L=m;m=(b^c.permute(P))>>>0,b=L}c.rip(m,b,y,p)},u.prototype._decrypt=function(d,h,g,y,p){for(var b=g,m=h,S=d.keys.length-2;S>=0;S-=2){var C=d.keys[S],I=d.keys[S+1];c.expand(b,d.tmp,0),C^=d.tmp[0],I^=d.tmp[1];var P=c.substitute(C,I),L=b;b=(m^c.permute(P))>>>0,m=L}c.rip(b,m,y,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,l){var o=e("minimalistic-assert"),s=e("inherits"),c=e("./cipher"),a=e("./des");function i(f,d){o.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),g=d.slice(8,16),y=d.slice(16,24);this.ciphers=f==="encrypt"?[a.create({type:"encrypt",key:h}),a.create({type:"decrypt",key:g}),a.create({type:"encrypt",key:y})]:[a.create({type:"decrypt",key:y}),a.create({type:"encrypt",key:g}),a.create({type:"decrypt",key:h})]}function u(f){c.call(this,f);var d=new i(this.type,this.options.key);this._edeState=d}s(u,c),n.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,d,h,g){var y=this._edeState;y.ciphers[0]._update(f,d,h,g),y.ciphers[1]._update(h,g,h,g),y.ciphers[2]._update(h,g,h,g)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,l){l.readUInt32BE=function(a,i){return(a[0+i]<<24|a[1+i]<<16|a[2+i]<<8|a[3+i])>>>0},l.writeUInt32BE=function(a,i,u){a[0+u]=i>>>24,a[1+u]=i>>>16&255,a[2+u]=i>>>8&255,a[3+u]=255&i},l.ip=function(a,i,u,f){for(var d=0,h=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)d<<=1,d|=i>>>y+g&1;for(y=0;y<=24;y+=8)d<<=1,d|=a>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)h<<=1,h|=i>>>y+g&1;for(y=1;y<=25;y+=8)h<<=1,h|=a>>>y+g&1}u[f+0]=d>>>0,u[f+1]=h>>>0},l.rip=function(a,i,u,f){for(var d=0,h=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)d<<=1,d|=i>>>y+g&1,d<<=1,d|=a>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)h<<=1,h|=i>>>y+g&1,h<<=1,h|=a>>>y+g&1;u[f+0]=d>>>0,u[f+1]=h>>>0},l.pc1=function(a,i,u,f){for(var d=0,h=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)d<<=1,d|=i>>y+g&1;for(y=0;y<=24;y+=8)d<<=1,d|=a>>y+g&1}for(y=0;y<=24;y+=8)d<<=1,d|=i>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)h<<=1,h|=i>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=a>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=a>>y+g&1;u[f+0]=d>>>0,u[f+1]=h>>>0},l.r28shl=function(a,i){return a<<i&268435455|a>>>28-i};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(a,i,u,f){for(var d=0,h=0,g=o.length>>>1,y=0;y<g;y++)d<<=1,d|=a>>>o[y]&1;for(y=g;y<o.length;y++)h<<=1,h|=i>>>o[y]&1;u[f+0]=d>>>0,u[f+1]=h>>>0},l.expand=function(a,i,u){var f=0,d=0;f=(1&a)<<5|a>>>27;for(var h=23;h>=15;h-=4)f<<=6,f|=a>>>h&63;for(h=11;h>=3;h-=4)d|=a>>>h&63,d<<=6;d|=(31&a)<<1|a>>>31,i[u+0]=f>>>0,i[u+1]=d>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(a,i){for(var u=0,f=0;f<4;f++)u<<=4,u|=s[64*f+(a>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=s[256+64*f+(i>>>18-6*f&63)];return u>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(a){for(var i=0,u=0;u<c.length;u++)i<<=1,i|=a>>>c[u]&1;return i>>>0},l.padSplit=function(a,i,u){for(var f=a.toString(2);f.length<i;)f="0"+f;for(var d=[],h=0;h<i;h+=u)d.push(f.slice(h,h+u));return d.join(" ")}},{}],400:[function(e,n,l){(function(o){(function(){var s=e("./lib/generatePrime"),c=e("./lib/primes.json"),a=e("./lib/dh"),i={binary:!0,hex:!0,base64:!0};l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=function(u){var f=new o(c[u].prime,"hex"),d=new o(c[u].gen,"hex");return new a(f,d)},l.createDiffieHellman=l.DiffieHellman=function u(f,d,h,g){return o.isBuffer(d)||i[d]===void 0?u(f,"binary",d,h):(d=d||"binary",g=g||"binary",h=h||new o([2]),o.isBuffer(h)||(h=new o(h,g)),typeof f=="number"?new a(s(f,h),h,!0):(o.isBuffer(f)||(f=new o(f,d)),new a(f,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,l){(function(o){(function(){var s=e("bn.js"),c=new(e("miller-rabin")),a=new s(24),i=new s(11),u=new s(10),f=new s(3),d=new s(7),h=e("./generatePrime"),g=e("randombytes");function y(C,I){return I=I||"utf8",o.isBuffer(C)||(C=new o(C,I)),this._pub=new s(C),this}function p(C,I){return I=I||"utf8",o.isBuffer(C)||(C=new o(C,I)),this._priv=new s(C),this}n.exports=m;var b={};function m(C,I,P){this.setGenerator(I),this.__prime=new s(C),this._prime=s.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=y,this.setPrivateKey=p):this._primeCode=8}function S(C,I){var P=new o(C.toArray());return I?P.toString(I):P}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(C,I){var P=I.toString("hex"),L=[P,C.toString(16)].join("_");if(L in b)return b[L];var j,B=0;if(C.isEven()||!h.simpleSieve||!h.fermatTest(C)||!c.test(C))return B+=1,B+=P==="02"||P==="05"?8:4,b[L]=B,B;switch(c.test(C.shrn(1))||(B+=2),P){case"02":C.mod(a).cmp(i)&&(B+=8);break;case"05":(j=C.mod(u)).cmp(f)&&j.cmp(d)&&(B+=8);break;default:B+=4}return b[L]=B,B}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new s(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(C){var I=(C=(C=new s(C)).toRed(this._prime)).redPow(this._priv).fromRed(),P=new o(I.toArray()),L=this.getPrime();if(P.length<L.length){var j=new o(L.length-P.length);j.fill(0),P=o.concat([j,P])}return P},m.prototype.getPublicKey=function(C){return S(this._pub,C)},m.prototype.getPrivateKey=function(C){return S(this._priv,C)},m.prototype.getPrime=function(C){return S(this.__prime,C)},m.prototype.getGenerator=function(C){return S(this._gen,C)},m.prototype.setGenerator=function(C,I){return I=I||"utf8",o.isBuffer(C)||(C=new o(C,I)),this.__gen=C,this._gen=new s(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,l){var o=e("randombytes");n.exports=C,C.simpleSieve=m,C.fermatTest=S;var s=e("bn.js"),c=new s(24),a=new(e("miller-rabin")),i=new s(1),u=new s(2),f=new s(5),d=(new s(16),new s(8),new s(10)),h=new s(3),g=(new s(7),new s(11)),y=new s(4),p=(new s(12),null);function b(){if(p!==null)return p;var I=[];I[0]=2;for(var P=1,L=3;L<1048576;L+=2){for(var j=Math.ceil(Math.sqrt(L)),B=0;B<P&&I[B]<=j&&L%I[B]!=0;B++);P!==B&&I[B]<=j||(I[P++]=L)}return p=I,I}function m(I){for(var P=b(),L=0;L<P.length;L++)if(I.modn(P[L])===0)return I.cmpn(P[L])===0;return!0}function S(I){var P=s.mont(I);return u.toRed(P).redPow(I.subn(1)).fromRed().cmpn(1)===0}function C(I,P){if(I<16)return new s(P===2||P===5?[140,123]:[140,39]);var L,j;for(P=new s(P);;){for(L=new s(o(Math.ceil(I/8)));L.bitLength()>I;)L.ishrn(1);if(L.isEven()&&L.iadd(i),L.testn(1)||L.iadd(u),P.cmp(u)){if(!P.cmp(f))for(;L.mod(d).cmp(h);)L.iadd(y)}else for(;L.mod(c).cmp(g);)L.iadd(y);if(m(j=L.shrn(1))&&m(L)&&S(j)&&S(L)&&a.test(j)&&a.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,l){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],405:[function(e,n,l){var o=l;o.version=e("../package.json").version,o.utils=e("./elliptic/utils"),o.rand=e("brorand"),o.curve=e("./elliptic/curve"),o.curves=e("./elliptic/curves"),o.ec=e("./elliptic/ec"),o.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,l){var o=e("bn.js"),s=e("../utils"),c=s.getNAF,a=s.getJSF,i=s.assert;function u(d,h){this.type=d,this.p=new o(h.p,16),this.red=h.prime?o.red(h.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=h.n&&new o(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(d,h){this.curve=d,this.type=h,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(d,h){i(d.precomputed);var g=d._getDoubles(),y=c(h,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var b,m,S=[];for(b=0;b<y.length;b+=g.step){m=0;for(var C=b+g.step-1;C>=b;C--)m=(m<<1)+y[C];S.push(m)}for(var I=this.jpoint(null,null,null),P=this.jpoint(null,null,null),L=p;L>0;L--){for(b=0;b<S.length;b++)(m=S[b])===L?P=P.mixedAdd(g.points[b]):m===-L&&(P=P.mixedAdd(g.points[b].neg()));I=I.add(P)}return I.toP()},u.prototype._wnafMul=function(d,h){var g=4,y=d._getNAFPoints(g);g=y.wnd;for(var p=y.points,b=c(h,g,this._bitLength),m=this.jpoint(null,null,null),S=b.length-1;S>=0;S--){for(var C=0;S>=0&&b[S]===0;S--)C++;if(S>=0&&C++,m=m.dblp(C),S<0)break;var I=b[S];i(I!==0),m=d.type==="affine"?I>0?m.mixedAdd(p[I-1>>1]):m.mixedAdd(p[-I-1>>1].neg()):I>0?m.add(p[I-1>>1]):m.add(p[-I-1>>1].neg())}return d.type==="affine"?m.toP():m},u.prototype._wnafMulAdd=function(d,h,g,y,p){var b,m,S,C=this._wnafT1,I=this._wnafT2,P=this._wnafT3,L=0;for(b=0;b<y;b++){var j=(S=h[b])._getNAFPoints(d);C[b]=j.wnd,I[b]=j.points}for(b=y-1;b>=1;b-=2){var B=b-1,z=b;if(C[B]===1&&C[z]===1){var U=[h[B],null,null,h[z]];h[B].y.cmp(h[z].y)===0?(U[1]=h[B].add(h[z]),U[2]=h[B].toJ().mixedAdd(h[z].neg())):h[B].y.cmp(h[z].y.redNeg())===0?(U[1]=h[B].toJ().mixedAdd(h[z]),U[2]=h[B].add(h[z].neg())):(U[1]=h[B].toJ().mixedAdd(h[z]),U[2]=h[B].toJ().mixedAdd(h[z].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],T=a(g[B],g[z]);for(L=Math.max(T[0].length,L),P[B]=new Array(L),P[z]=new Array(L),m=0;m<L;m++){var A=0|T[0][m],k=0|T[1][m];P[B][m]=H[3*(A+1)+(k+1)],P[z][m]=0,I[B]=U}}else P[B]=c(g[B],C[B],this._bitLength),P[z]=c(g[z],C[z],this._bitLength),L=Math.max(P[B].length,L),L=Math.max(P[z].length,L)}var v=this.jpoint(null,null,null),x=this._wnafT4;for(b=L;b>=0;b--){for(var w=0;b>=0;){var _=!0;for(m=0;m<y;m++)x[m]=0|P[m][b],x[m]!==0&&(_=!1);if(!_)break;w++,b--}if(b>=0&&w++,v=v.dblp(w),b<0)break;for(m=0;m<y;m++){var E=x[m];E!==0&&(E>0?S=I[m][E-1>>1]:E<0&&(S=I[m][-E-1>>1].neg()),v=S.type==="affine"?v.mixedAdd(S):v.add(S))}}for(b=0;b<y;b++)I[b]=null;return p?v:v.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(d,h){d=s.toArray(d,h);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?i(d[d.length-1]%2==0):d[0]===7&&i(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(d){return this.encode(d,!0)},f.prototype._encode=function(d){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},f.prototype.encode=function(d,h){return s.encode(this._encode(h),d)},f.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},f.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},f.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,p=0;p<h;p+=d){for(var b=0;b<d;b++)y=y.dbl();g.push(y)}return{step:d,points:g}},f.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<d)-1,y=g===1?null:this.dbl(),p=1;p<g;p++)h[p]=h[p-1].add(y);return{wnd:d,points:h}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(d){for(var h=this,g=0;g<d;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,l){var o=e("../utils"),s=e("bn.js"),c=e("inherits"),a=e("./base"),i=o.assert;function u(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",d),this.a=new s(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function f(d,h,g,y,p){a.BasePoint.call(this,d,"projective"),h===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(h,16),this.y=new s(g,16),this.z=y?new s(y,16):this.curve.one,this.t=p&&new s(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(u,a),n.exports=u,u.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},u.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},u.prototype.jpoint=function(d,h,g,y){return this.point(d,h,g,y)},u.prototype.pointFromX=function(d,h){(d=new s(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),y=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),b=y.redMul(p.redInvm()),m=b.redSqrt();if(m.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var S=m.fromRed().isOdd();return(h&&!S||!h&&S)&&(m=m.redNeg()),this.point(d,m)},u.prototype.pointFromY=function(d,h){(d=new s(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),y=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),b=y.redMul(p.redInvm());if(b.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var m=b.redSqrt();if(m.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==h&&(m=m.redNeg()),this.point(m,d)},u.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),g=d.y.redSqr(),y=h.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return y.cmp(p)===0},c(f,a.BasePoint),u.prototype.pointFromJSON=function(d){return f.fromJSON(this,d)},u.prototype.point=function(d,h,g,y){return new f(this,d,h,g,y)},f.fromJSON=function(d,h){return new f(d,h[0],h[1],h[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(d),p=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),b=y.redAdd(h),m=b.redSub(g),S=y.redSub(h),C=p.redMul(m),I=b.redMul(S),P=p.redMul(S),L=m.redMul(b);return this.curve.point(C,I,L,P)},f.prototype._projDbl=function(){var d,h,g,y,p,b,m=this.x.redAdd(this.y).redSqr(),S=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var I=(y=this.curve._mulA(S)).redAdd(C);this.zOne?(d=m.redSub(S).redSub(C).redMul(I.redSub(this.curve.two)),h=I.redMul(y.redSub(C)),g=I.redSqr().redSub(I).redSub(I)):(p=this.z.redSqr(),b=I.redSub(p).redISub(p),d=m.redSub(S).redISub(C).redMul(b),h=I.redMul(y.redSub(C)),g=I.redMul(b))}else y=S.redAdd(C),p=this.curve._mulC(this.z).redSqr(),b=y.redSub(p).redSub(p),d=this.curve._mulC(m.redISub(y)).redMul(b),h=this.curve._mulC(y).redMul(S.redISub(C)),g=y.redMul(b);return this.curve.point(d,h,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),y=this.t.redMul(this.curve.dd).redMul(d.t),p=this.z.redMul(d.z.redAdd(d.z)),b=g.redSub(h),m=p.redSub(y),S=p.redAdd(y),C=g.redAdd(h),I=b.redMul(m),P=S.redMul(C),L=b.redMul(C),j=m.redMul(S);return this.curve.point(I,P,j,L)},f.prototype._projAdd=function(d){var h,g,y=this.z.redMul(d.z),p=y.redSqr(),b=this.x.redMul(d.x),m=this.y.redMul(d.y),S=this.curve.d.redMul(b).redMul(m),C=p.redSub(S),I=p.redAdd(S),P=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(b).redISub(m),L=y.redMul(C).redMul(P);return this.curve.twisted?(h=y.redMul(I).redMul(m.redSub(this.curve._mulA(b))),g=C.redMul(I)):(h=y.redMul(I).redMul(m.redSub(b)),g=this.curve._mulC(C).redMul(I)),this.curve.point(L,h,g)},f.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},f.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!1)},f.prototype.jmulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},f.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=d.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,l){var o=l;o.base=e("./base"),o.short=e("./short"),o.mont=e("./mont"),o.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,l){var o=e("bn.js"),s=e("inherits"),c=e("./base"),a=e("../utils");function i(f){c.call(this,"mont",f),this.a=new o(f.a,16).toRed(this.red),this.b=new o(f.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,d,h){c.BasePoint.call(this,f,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(d,16),this.z=new o(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(i,c),n.exports=i,i.prototype.validate=function(f){var d=f.normalize().x,h=d.redSqr(),g=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},s(u,c.BasePoint),i.prototype.decodePoint=function(f,d){return this.point(a.toArray(f,d),1)},i.prototype.point=function(f,d){return new u(this,f,d)},i.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,d){return new u(f,d[0],d[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=f.redSub(d),g=f.redMul(d),y=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,y)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,d){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(h),b=y.redMul(g),m=d.z.redMul(p.redAdd(b).redSqr()),S=d.x.redMul(p.redISub(b).redSqr());return this.curve.point(m,S)},u.prototype.mul=function(f){for(var d=f.clone(),h=this,g=this.curve.point(null,null),y=[];d.cmpn(0)!==0;d.iushrn(1))y.push(d.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,l){var o=e("../utils"),s=e("bn.js"),c=e("inherits"),a=e("./base"),i=o.assert;function u(h){a.call(this,"short",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(h,g,y,p){a.BasePoint.call(this,h,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(g,16),this.y=new s(y,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,g,y,p){a.BasePoint.call(this,h,"jacobian"),g===null&&y===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(g,16),this.y=new s(y,16),this.z=new s(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(u,a),n.exports=u,u.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(h.beta)g=new s(h.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(h.lambda)y=new s(h.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(g))===0?y=b[0]:(y=b[1],i(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:h.basis?h.basis.map(function(m){return{a:new s(m.a,16),b:new s(m.b,16)}}):this._getEndoBasis(y)}}},u.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:s.mont(h),y=new s(2).toRed(g).redInvm(),p=y.redNeg(),b=new s(3).toRed(g).redNeg().redSqrt().redMul(y);return[p.redAdd(b).fromRed(),p.redSub(b).fromRed()]},u.prototype._getEndoBasis=function(h){for(var g,y,p,b,m,S,C,I,P,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=h,B=this.n.clone(),z=new s(1),U=new s(0),H=new s(0),T=new s(1),A=0;j.cmpn(0)!==0;){var k=B.div(j);I=B.sub(k.mul(j)),P=H.sub(k.mul(z));var v=T.sub(k.mul(U));if(!p&&I.cmp(L)<0)g=C.neg(),y=z,p=I.neg(),b=P;else if(p&&++A==2)break;C=I,B=j,j=I,H=z,z=P,T=U,U=v}m=I.neg(),S=P;var x=p.sqr().add(b.sqr());return m.sqr().add(S.sqr()).cmp(x)>=0&&(m=g,S=y),p.negative&&(p=p.neg(),b=b.neg()),m.negative&&(m=m.neg(),S=S.neg()),[{a:p,b},{a:m,b:S}]},u.prototype._endoSplit=function(h){var g=this.endo.basis,y=g[0],p=g[1],b=p.b.mul(h).divRound(this.n),m=y.b.neg().mul(h).divRound(this.n),S=b.mul(y.a),C=m.mul(p.a),I=b.mul(y.b),P=m.mul(p.b);return{k1:h.sub(S).sub(C),k2:I.add(P).neg()}},u.prototype.pointFromX=function(h,g){(h=new s(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),p=y.redSqrt();if(p.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(g&&!b||!g&&b)&&(p=p.redNeg()),this.point(h,p)},u.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,y=h.y,p=this.a.redMul(g),b=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return y.redSqr().redISub(b).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(h,g,y){for(var p=this._endoWnafT1,b=this._endoWnafT2,m=0;m<h.length;m++){var S=this._endoSplit(g[m]),C=h[m],I=C._getBeta();S.k1.negative&&(S.k1.ineg(),C=C.neg(!0)),S.k2.negative&&(S.k2.ineg(),I=I.neg(!0)),p[2*m]=C,p[2*m+1]=I,b[2*m]=S.k1,b[2*m+1]=S.k2}for(var P=this._wnafMulAdd(1,p,b,2*m,y),L=0;L<2*m;L++)p[L]=null,b[L]=null;return P},c(f,a.BasePoint),u.prototype.point=function(h,g,y){return new f(this,h,g,y)},u.prototype.pointFromJSON=function(h,g){return f.fromJSON(this,h,g)},f.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,p=function(b){return y.point(b.x.redMul(y.endo.beta),b.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(h,g,y){typeof g=="string"&&(g=JSON.parse(g));var p=h.point(g[0],g[1],y);if(!g[2])return p;function b(S){return h.point(S[0],S[1],y)}var m=g[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(b))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(b))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(h.x),p=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,p)},f.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),p=h.redInvm(),b=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(p),m=b.redSqr().redISub(this.x.redAdd(this.x)),S=b.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,S)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(h){return h=new s(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,g,y){var p=[this,g],b=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,b):this.curve._wnafMulAdd(1,p,b,2)},f.prototype.jmulAdd=function(h,g,y){var p=[this,g],b=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,b,!0):this.curve._wnafMulAdd(1,p,b,2,!0)},f.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},f.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,p=function(b){return b.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(p)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(p)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(d,a.BasePoint),u.prototype.jpoint=function(h,g,y){return new d(this,h,g,y)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),y=this.x.redMul(g),p=this.y.redMul(g).redMul(h);return this.curve.point(y,p)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),y=this.z.redSqr(),p=this.x.redMul(g),b=h.x.redMul(y),m=this.y.redMul(g.redMul(h.z)),S=h.y.redMul(y.redMul(this.z)),C=p.redSub(b),I=m.redSub(S);if(C.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=C.redSqr(),L=P.redMul(C),j=p.redMul(P),B=I.redSqr().redIAdd(L).redISub(j).redISub(j),z=I.redMul(j.redISub(B)).redISub(m.redMul(L)),U=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(B,z,U)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),y=this.x,p=h.x.redMul(g),b=this.y,m=h.y.redMul(g).redMul(this.z),S=y.redSub(p),C=b.redSub(m);if(S.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=S.redSqr(),P=I.redMul(S),L=y.redMul(I),j=C.redSqr().redIAdd(P).redISub(L).redISub(L),B=C.redMul(L.redISub(j)).redISub(b.redMul(P)),z=this.z.redMul(S);return this.curve.jpoint(j,B,z)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<h;g++)y=y.dbl();return y}var p=this.curve.a,b=this.curve.tinv,m=this.x,S=this.y,C=this.z,I=C.redSqr().redSqr(),P=S.redAdd(S);for(g=0;g<h;g++){var L=m.redSqr(),j=P.redSqr(),B=j.redSqr(),z=L.redAdd(L).redIAdd(L).redIAdd(p.redMul(I)),U=m.redMul(j),H=z.redSqr().redISub(U.redAdd(U)),T=U.redISub(H),A=z.redMul(T);A=A.redIAdd(A).redISub(B);var k=P.redMul(C);g+1<h&&(I=I.redMul(B)),m=H,C=k,P=A}return this.curve.jpoint(m,P.redMul(b),C)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,g,y;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),m=b.redSqr(),S=this.x.redAdd(b).redSqr().redISub(p).redISub(m);S=S.redIAdd(S);var C=p.redAdd(p).redIAdd(p),I=C.redSqr().redISub(S).redISub(S),P=m.redIAdd(m);P=(P=P.redIAdd(P)).redIAdd(P),h=I,g=C.redMul(S.redISub(I)).redISub(P),y=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),j=this.y.redSqr(),B=j.redSqr(),z=this.x.redAdd(j).redSqr().redISub(L).redISub(B);z=z.redIAdd(z);var U=L.redAdd(L).redIAdd(L),H=U.redSqr(),T=B.redIAdd(B);T=(T=T.redIAdd(T)).redIAdd(T),h=H.redISub(z).redISub(z),g=U.redMul(z.redISub(h)).redISub(T),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(h,g,y)},d.prototype._threeDbl=function(){var h,g,y;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),m=b.redSqr(),S=this.x.redAdd(b).redSqr().redISub(p).redISub(m);S=S.redIAdd(S);var C=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),I=C.redSqr().redISub(S).redISub(S);h=I;var P=m.redIAdd(m);P=(P=P.redIAdd(P)).redIAdd(P),g=C.redMul(S.redISub(I)).redISub(P),y=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),j=this.y.redSqr(),B=this.x.redMul(j),z=this.x.redSub(L).redMul(this.x.redAdd(L));z=z.redAdd(z).redIAdd(z);var U=B.redIAdd(B),H=(U=U.redIAdd(U)).redAdd(U);h=z.redSqr().redISub(H),y=this.y.redAdd(this.z).redSqr().redISub(j).redISub(L);var T=j.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),g=z.redMul(U.redISub(h)).redISub(T)}return this.curve.jpoint(h,g,y)},d.prototype._dbl=function(){var h=this.curve.a,g=this.x,y=this.y,p=this.z,b=p.redSqr().redSqr(),m=g.redSqr(),S=y.redSqr(),C=m.redAdd(m).redIAdd(m).redIAdd(h.redMul(b)),I=g.redAdd(g),P=(I=I.redIAdd(I)).redMul(S),L=C.redSqr().redISub(P.redAdd(P)),j=P.redISub(L),B=S.redSqr();B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var z=C.redMul(j).redISub(B),U=y.redAdd(y).redMul(p);return this.curve.jpoint(L,z,U)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),p=g.redSqr(),b=h.redAdd(h).redIAdd(h),m=b.redSqr(),S=this.x.redAdd(g).redSqr().redISub(h).redISub(p),C=(S=(S=(S=S.redIAdd(S)).redAdd(S).redIAdd(S)).redISub(m)).redSqr(),I=p.redIAdd(p);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var P=b.redIAdd(S).redSqr().redISub(m).redISub(C).redISub(I),L=g.redMul(P);L=(L=L.redIAdd(L)).redIAdd(L);var j=this.x.redMul(C).redISub(L);j=(j=j.redIAdd(j)).redIAdd(j);var B=this.y.redMul(P.redMul(I.redISub(P)).redISub(S.redMul(C)));B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var z=this.z.redAdd(S).redSqr().redISub(y).redISub(C);return this.curve.jpoint(j,B,z)},d.prototype.mul=function(h,g){return h=new s(h,g),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),b=y.redMul(h.z);return this.y.redMul(b).redISub(h.y.redMul(p)).cmpn(0)===0},d.prototype.eqXToP=function(h){var g=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var p=h.clone(),b=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(b),this.x.cmp(y)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,l){var o,s=l,c=e("hash.js"),a=e("./curve"),i=e("./utils").assert;function u(d){d.type==="short"?this.curve=new a.short(d):d.type==="edwards"?this.curve=new a.edwards(d):this.curve=new a.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(d,h){Object.defineProperty(s,d,{configurable:!0,enumerable:!0,get:function(){var g=new u(h);return Object.defineProperty(s,d,{configurable:!0,enumerable:!0,value:g}),g}})}s.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=e("./precomputed/secp256k1")}catch{o=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,l){var o=e("bn.js"),s=e("hmac-drbg"),c=e("../utils"),a=e("../curves"),i=e("brorand"),u=c.assert,f=e("./key"),d=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(a,g),"Unknown curve "+g),g=a[g]),g instanceof a.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new f(this,g)},h.prototype.keyFromPrivate=function(g,y){return f.fromPrivate(this,g,y)},h.prototype.keyFromPublic=function(g,y){return f.fromPublic(this,g,y)},h.prototype.genKeyPair=function(g){g||(g={});for(var y=new s({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||i(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),b=this.n.sub(new o(2));;){var m=new o(y.generate(p));if(!(m.cmp(b)>0))return m.iaddn(1),this.keyFromPrivate(m)}},h.prototype._truncateToN=function(g,y){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,y,p,b){typeof p=="object"&&(b=p,p=null),b||(b={}),y=this.keyFromPrivate(y,p),g=this._truncateToN(new o(g,16));for(var m=this.n.byteLength(),S=y.getPrivate().toArray("be",m),C=g.toArray("be",m),I=new s({hash:this.hash,entropy:S,nonce:C,pers:b.pers,persEnc:b.persEnc||"utf8"}),P=this.n.sub(new o(1)),L=0;;L++){var j=b.k?b.k(L):new o(I.generate(this.n.byteLength()));if(!((j=this._truncateToN(j,!0)).cmpn(1)<=0||j.cmp(P)>=0)){var B=this.g.mul(j);if(!B.isInfinity()){var z=B.getX(),U=z.umod(this.n);if(U.cmpn(0)!==0){var H=j.invm(this.n).mul(U.mul(y.getPrivate()).iadd(g));if((H=H.umod(this.n)).cmpn(0)!==0){var T=(B.getY().isOdd()?1:0)|(z.cmp(U)!==0?2:0);return b.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),T^=1),new d({r:U,s:H,recoveryParam:T})}}}}}},h.prototype.verify=function(g,y,p,b){g=this._truncateToN(new o(g,16)),p=this.keyFromPublic(p,b);var m=(y=new d(y,"hex")).r,S=y.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||S.cmpn(1)<0||S.cmp(this.n)>=0)return!1;var C,I=S.invm(this.n),P=I.mul(g).umod(this.n),L=I.mul(m).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(P,p.getPublic(),L)).isInfinity()&&C.eqXToP(m):!(C=this.g.mulAdd(P,p.getPublic(),L)).isInfinity()&&C.getX().umod(this.n).cmp(m)===0},h.prototype.recoverPubKey=function(g,y,p,b){u((3&p)===p,"The recovery param is more than two bits"),y=new d(y,b);var m=this.n,S=new o(g),C=y.r,I=y.s,P=1&p,L=p>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");C=L?this.curve.pointFromX(C.add(this.curve.n),P):this.curve.pointFromX(C,P);var j=y.r.invm(m),B=m.sub(S).mul(j).umod(m),z=I.mul(j).umod(m);return this.g.mulAdd(B,C,z)},h.prototype.getKeyRecoveryParam=function(g,y,p,b){if((y=new d(y,b)).recoveryParam!==null)return y.recoveryParam;for(var m=0;m<4;m++){var S;try{S=this.recoverPubKey(g,y,m)}catch{continue}if(S.eq(p))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,l){var o=e("bn.js"),s=e("../utils").assert;function c(a,i){this.ec=a,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}n.exports=c,c.fromPublic=function(a,i,u){return i instanceof c?i:new c(a,{pub:i,pubEnc:u})},c.fromPrivate=function(a,i,u){return i instanceof c?i:new c(a,{priv:i,privEnc:u})},c.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(a,i){return typeof a=="string"&&(i=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,a):this.pub},c.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(a,i){this.priv=new o(a,i||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(a,i){if(a.x||a.y)return this.ec.curve.type==="mont"?s(a.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(a.x&&a.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(a.x,a.y));this.pub=this.ec.curve.decodePoint(a,i)},c.prototype.derive=function(a){return a.validate()||s(a.validate(),"public point not validated"),a.mul(this.priv).getX()},c.prototype.sign=function(a,i,u){return this.ec.sign(a,this,i,u)},c.prototype.verify=function(a,i){return this.ec.verify(a,i,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,l){var o=e("bn.js"),s=e("../utils"),c=s.assert;function a(h,g){if(h instanceof a)return h;this._importDER(h,g)||(c(h.r&&h.s,"Signature without r or s"),this.r=new o(h.r,16),this.s=new o(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function i(){this.place=0}function u(h,g){var y=h[g.place++];if(!(128&y))return y;var p=15&y;if(p===0||p>4)return!1;for(var b=0,m=0,S=g.place;m<p;m++,S++)b<<=8,b|=h[S],b>>>=0;return!(b<=127)&&(g.place=S,b)}function f(h){for(var g=0,y=h.length-1;!h[g]&&!(128&h[g+1])&&g<y;)g++;return g===0?h:h.slice(g)}function d(h,g){if(g<128)h.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|y);--y;)h.push(g>>>(y<<3)&255);h.push(g)}}n.exports=a,a.prototype._importDER=function(h,g){h=s.toArray(h,g);var y=new i;if(h[y.place++]!==48)return!1;var p=u(h,y);if(p===!1||p+y.place!==h.length||h[y.place++]!==2)return!1;var b=u(h,y);if(b===!1)return!1;var m=h.slice(y.place,b+y.place);if(y.place+=b,h[y.place++]!==2)return!1;var S=u(h,y);if(S===!1||h.length!==S+y.place)return!1;var C=h.slice(y.place,S+y.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new o(m),this.s=new o(C),this.recoveryParam=null,!0},a.prototype.toDER=function(h){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=f(g),y=f(y);!(y[0]||128&y[1]);)y=y.slice(1);var p=[2];d(p,g.length),(p=p.concat(g)).push(2),d(p,y.length);var b=p.concat(y),m=[48];return d(m,b.length),m=m.concat(b),s.encode(m,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,l){var o=e("hash.js"),s=e("../curves"),c=e("../utils"),a=c.assert,i=c.parseBytes,u=e("./key"),f=e("./signature");function d(h){if(a(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=s[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=o.sha512}n.exports=d,d.prototype.sign=function(h,g){h=i(h);var y=this.keyFromSecret(g),p=this.hashInt(y.messagePrefix(),h),b=this.g.mul(p),m=this.encodePoint(b),S=this.hashInt(m,y.pubBytes(),h).mul(y.priv()),C=p.add(S).umod(this.curve.n);return this.makeSignature({R:b,S:C,Rencoded:m})},d.prototype.verify=function(h,g,y){h=i(h),g=this.makeSignature(g);var p=this.keyFromPublic(y),b=this.hashInt(g.Rencoded(),p.pubBytes(),h),m=this.g.mul(g.S());return g.R().add(p.pub().mul(b)).eq(m)},d.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return c.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return u.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return u.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof f?h:new f(this,h)},d.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(h){var g=(h=c.parseBytes(h)).length-1,y=h.slice(0,g).concat(-129&h[g]),p=(128&h[g])!=0,b=c.intFromLE(y);return this.curve.pointFromY(b,p)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return c.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,l){var o=e("../utils"),s=o.assert,c=o.parseBytes,a=o.cachedProperty;function i(u,f){this.eddsa=u,this._secret=c(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=c(f.pub)}i.fromPublic=function(u,f){return f instanceof i?f:new i(u,{pub:f})},i.fromSecret=function(u,f){return f instanceof i?f:new i(u,{secret:f})},i.prototype.secret=function(){return this._secret},a(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(i,"privBytes",function(){var u=this.eddsa,f=this.hash(),d=u.encodingLength-1,h=f.slice(0,u.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h}),a(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(u){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},i.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},i.prototype.getSecret=function(u){return s(this._secret,"KeyPair is public only"),o.encode(this.secret(),u)},i.prototype.getPublic=function(u){return o.encode(this.pubBytes(),u)},n.exports=i},{"../utils":419}],417:[function(e,n,l){var o=e("bn.js"),s=e("../utils"),c=s.assert,a=s.cachedProperty,i=s.parseBytes;function u(f,d){this.eddsa=f,typeof d!="object"&&(d=i(d)),Array.isArray(d)&&(d={R:d.slice(0,f.encodingLength),S:d.slice(f.encodingLength)}),c(d.R&&d.S,"Signature without R or S"),f.isPoint(d.R)&&(this._R=d.R),d.S instanceof o&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,l){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,l){var o=l,s=e("bn.js"),c=e("minimalistic-assert"),a=e("minimalistic-crypto-utils");o.assert=c,o.toArray=a.toArray,o.zero2=a.zero2,o.toHex=a.toHex,o.encode=a.encode,o.getNAF=function(i,u,f){var d=new Array(Math.max(i.bitLength(),f)+1);d.fill(0);for(var h=1<<u+1,g=i.clone(),y=0;y<d.length;y++){var p,b=g.andln(h-1);g.isOdd()?(p=b>(h>>1)-1?(h>>1)-b:b,g.isubn(p)):p=0,d[y]=p,g.iushrn(1)}return d},o.getJSF=function(i,u){var f=[[],[]];i=i.clone(),u=u.clone();for(var d,h=0,g=0;i.cmpn(-h)>0||u.cmpn(-g)>0;){var y,p,b=i.andln(3)+h&3,m=u.andln(3)+g&3;b===3&&(b=-1),m===3&&(m=-1),y=1&b?(d=i.andln(7)+h&7)!==3&&d!==5||m!==2?b:-b:0,f[0].push(y),p=1&m?(d=u.andln(7)+g&7)!==3&&d!==5||b!==2?m:-m:0,f[1].push(p),2*h===y+1&&(h=1-h),2*g===p+1&&(g=1-g),i.iushrn(1),u.iushrn(1)}return f},o.cachedProperty=function(i,u,f){var d="_"+u;i.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}},o.parseBytes=function(i){return typeof i=="string"?o.toArray(i,"hex"):i},o.intFromLE=function(i){return new s(i,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],421:[function(e,n,l){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,l){var o=Object.create||function(j){var B=function(){};return B.prototype=j,new B},s=Object.keys||function(j){var B=[];for(var z in j)Object.prototype.hasOwnProperty.call(j,z)&&B.push(z);return z},c=Function.prototype.bind||function(j){var B=this;return function(){return B.apply(j,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var i,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),i=f.x===0}catch{i=!1}function d(j){return j._maxListeners===void 0?a.defaultMaxListeners:j._maxListeners}function h(j,B,z){if(B)j.call(z);else for(var U=j.length,H=L(j,U),T=0;T<U;++T)H[T].call(z)}function g(j,B,z,U){if(B)j.call(z,U);else for(var H=j.length,T=L(j,H),A=0;A<H;++A)T[A].call(z,U)}function y(j,B,z,U,H){if(B)j.call(z,U,H);else for(var T=j.length,A=L(j,T),k=0;k<T;++k)A[k].call(z,U,H)}function p(j,B,z,U,H,T){if(B)j.call(z,U,H,T);else for(var A=j.length,k=L(j,A),v=0;v<A;++v)k[v].call(z,U,H,T)}function b(j,B,z,U){if(B)j.apply(z,U);else for(var H=j.length,T=L(j,H),A=0;A<H;++A)T[A].apply(z,U)}function m(j,B,z,U){var H,T,A;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if((T=j._events)?(T.newListener&&(j.emit("newListener",B,z.listener?z.listener:z),T=j._events),A=T[B]):(T=j._events=o(null),j._eventsCount=0),A){if(typeof A=="function"?A=T[B]=U?[z,A]:[A,z]:U?A.unshift(z):A.push(z),!A.warned&&(H=d(j))&&H>0&&A.length>H){A.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+A.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=j,k.type=B,k.count=A.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else A=T[B]=z,++j._eventsCount;return j}function S(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var j=new Array(arguments.length),B=0;B<j.length;++B)j[B]=arguments[B];this.listener.apply(this.target,j)}}function C(j,B,z){var U={fired:!1,wrapFn:void 0,target:j,type:B,listener:z},H=c.call(S,U);return H.listener=z,U.wrapFn=H,H}function I(j,B,z){var U=j._events;if(!U)return[];var H=U[B];return H?typeof H=="function"?z?[H.listener||H]:[H]:z?function(T){for(var A=new Array(T.length),k=0;k<A.length;++k)A[k]=T[k].listener||T[k];return A}(H):L(H,H.length):[]}function P(j){var B=this._events;if(B){var z=B[j];if(typeof z=="function")return 1;if(z)return z.length}return 0}function L(j,B){for(var z=new Array(B),U=0;U<B;++U)z[U]=j[U];return z}i?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||j!=j)throw new TypeError('"defaultMaxListeners" must be a positive number');u=j}}):a.defaultMaxListeners=u,a.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(j){var B,z,U,H,T,A,k=j==="error";if(A=this._events)k=k&&A.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(B=arguments[1]),B instanceof Error)throw B;var v=new Error('Unhandled "error" event. ('+B+")");throw v.context=B,v}if(!(z=A[j]))return!1;var x=typeof z=="function";switch(U=arguments.length){case 1:h(z,x,this);break;case 2:g(z,x,this,arguments[1]);break;case 3:y(z,x,this,arguments[1],arguments[2]);break;case 4:p(z,x,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(U-1),T=1;T<U;T++)H[T-1]=arguments[T];b(z,x,this,H)}return!0},a.prototype.addListener=function(j,B){return m(this,j,B,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(j,B){return m(this,j,B,!0)},a.prototype.once=function(j,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,C(this,j,B)),this},a.prototype.prependOnceListener=function(j,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,C(this,j,B)),this},a.prototype.removeListener=function(j,B){var z,U,H,T,A;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if(!(U=this._events))return this;if(!(z=U[j]))return this;if(z===B||z.listener===B)--this._eventsCount==0?this._events=o(null):(delete U[j],U.removeListener&&this.emit("removeListener",j,z.listener||B));else if(typeof z!="function"){for(H=-1,T=z.length-1;T>=0;T--)if(z[T]===B||z[T].listener===B){A=z[T].listener,H=T;break}if(H<0)return this;H===0?z.shift():function(k,v){for(var x=v,w=x+1,_=k.length;w<_;x+=1,w+=1)k[x]=k[w];k.pop()}(z,H),z.length===1&&(U[j]=z[0]),U.removeListener&&this.emit("removeListener",j,A||B)}return this},a.prototype.removeAllListeners=function(j){var B,z,U;if(!(z=this._events))return this;if(!z.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):z[j]&&(--this._eventsCount==0?this._events=o(null):delete z[j]),this;if(arguments.length===0){var H,T=s(z);for(U=0;U<T.length;++U)(H=T[U])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof(B=z[j])=="function")this.removeListener(j,B);else if(B)for(U=B.length-1;U>=0;U--)this.removeListener(j,B[U]);return this},a.prototype.listeners=function(j){return I(this,j,!0)},a.prototype.rawListeners=function(j){return I(this,j,!1)},a.listenerCount=function(j,B){return typeof j.listenerCount=="function"?j.listenerCount(B):P.call(j,B)},a.prototype.listenerCount=P,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("md5.js");n.exports=function(c,a,i,u){if(o.isBuffer(c)||(c=o.from(c,"binary")),a&&(o.isBuffer(a)||(a=o.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=i/8,d=o.alloc(f),h=o.alloc(u||0),g=o.alloc(0);f>0||u>0;){var y=new s;y.update(g),y.update(c),a&&y.update(a),g=y.digest();var p=0;if(f>0){var b=d.length-f;p=Math.min(f,g.length),g.copy(d,b,0,p),f-=p}if(p<g.length&&u>0){var m=h.length-u,S=Math.min(u,g.length-p);g.copy(h,m,p,p+S),u-=S}}return g.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=l.ParserOptions=l.parseFile=l.parseStream=l.parseString=l.parse=l.FormatterOptions=l.CsvFormatterStream=l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=void 0;var o=e("@fast-csv/format");Object.defineProperty(l,"format",{enumerable:!0,get:function(){return o.format}}),Object.defineProperty(l,"write",{enumerable:!0,get:function(){return o.write}}),Object.defineProperty(l,"writeToStream",{enumerable:!0,get:function(){return o.writeToStream}}),Object.defineProperty(l,"writeToBuffer",{enumerable:!0,get:function(){return o.writeToBuffer}}),Object.defineProperty(l,"writeToString",{enumerable:!0,get:function(){return o.writeToString}}),Object.defineProperty(l,"writeToPath",{enumerable:!0,get:function(){return o.writeToPath}}),Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return o.CsvFormatterStream}}),Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return o.FormatterOptions}});var s=e("@fast-csv/parse");Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(l,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(l,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(l,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("readable-stream").Transform;function c(a){s.call(this),this._block=o.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,s),c.prototype._transform=function(a,i,u){var f=null;try{this.update(a,i)}catch(d){f=d}u(f)},c.prototype._flush=function(a){var i=null;try{this.push(this.digest())}catch(u){i=u}a(i)},c.prototype.update=function(a,i){if(function(y,p){if(!o.isBuffer(y)&&typeof y!="string")throw new TypeError(p+" must be a string or a buffer")}(a,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(a)||(a=o.from(a,i));for(var u=this._block,f=0;this._blockOffset+a.length-f>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=a[f++];this._update(),this._blockOffset=0}for(;f<a.length;)u[this._blockOffset++]=a[f++];for(var h=0,g=8*a.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var i=this._digest();a!==void 0&&(i=i.toString(a)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return i},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,l){var o=l;o.utils=e("./hash/utils"),o.common=e("./hash/common"),o.sha=e("./hash/sha"),o.ripemd=e("./hash/ripemd"),o.hmac=e("./hash/hmac"),o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,l){var o=e("./utils"),s=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=c,c.prototype.update=function(a,i){if(a=o.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var u=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-u,a.length),this.pending.length===0&&(this.pending=null),a=o.join32(a,0,a.length-u,this.endian);for(var f=0;f<a.length;f+=this._delta32)this._update(a,f,f+this._delta32)}return this},c.prototype.digest=function(a){return this.update(this._pad()),s(this.pending===null),this._digest(a)},c.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,u=i-(a+this.padLength)%i,f=new Array(u+this.padLength);f[0]=128;for(var d=1;d<u;d++)f[d]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)f[d++]=0;f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=a>>>24&255,f[d++]=a>>>16&255,f[d++]=a>>>8&255,f[d++]=255&a}else for(f[d++]=255&a,f[d++]=a>>>8&255,f[d++]=a>>>16&255,f[d++]=a>>>24&255,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,h=8;h<this.padLength;h++)f[d++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,l){var o=e("./utils"),s=e("minimalistic-assert");function c(a,i,u){if(!(this instanceof c))return new c(a,i,u);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(o.toArray(i,u))}n.exports=c,c.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),s(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},c.prototype.update=function(a,i){return this.inner.update(a,i),this},c.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,l){var o=e("./utils"),s=e("./common"),c=o.rotl32,a=o.sum32,i=o.sum32_3,u=o.sum32_4,f=s.BlockHash;function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(C,I,P,L){return C<=15?I^P^L:C<=31?I&P|~I&L:C<=47?(I|~P)^L:C<=63?I&L|P&~L:I^(P|~L)}function g(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}o.inherits(d,f),l.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(C,I){for(var P=this.h[0],L=this.h[1],j=this.h[2],B=this.h[3],z=this.h[4],U=P,H=L,T=j,A=B,k=z,v=0;v<80;v++){var x=a(c(u(P,h(v,L,j,B),C[p[v]+I],g(v)),m[v]),z);P=z,z=B,B=c(j,10),j=L,L=x,x=a(c(u(U,h(79-v,H,T,A),C[b[v]+I],y(v)),S[v]),k),U=k,k=A,A=c(T,10),T=H,H=x}x=i(this.h[1],j,A),this.h[1]=i(this.h[2],B,k),this.h[2]=i(this.h[3],z,U),this.h[3]=i(this.h[4],P,H),this.h[4]=i(this.h[0],L,T),this.h[0]=x},d.prototype._digest=function(C){return C==="hex"?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,l){l.sha1=e("./sha/1"),l.sha224=e("./sha/224"),l.sha256=e("./sha/256"),l.sha384=e("./sha/384"),l.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,l){var o=e("../utils"),s=e("../common"),c=e("./common"),a=o.rotl32,i=o.sum32,u=o.sum32_5,f=c.ft_1,d=s.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o.inherits(g,d),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,p){for(var b=this.W,m=0;m<16;m++)b[m]=y[p+m];for(;m<b.length;m++)b[m]=a(b[m-3]^b[m-8]^b[m-14]^b[m-16],1);var S=this.h[0],C=this.h[1],I=this.h[2],P=this.h[3],L=this.h[4];for(m=0;m<b.length;m++){var j=~~(m/20),B=u(a(S,5),f(j,C,I,P),L,b[m],h[j]);L=P,P=I,I=a(C,30),C=S,S=B}this.h[0]=i(this.h[0],S),this.h[1]=i(this.h[1],C),this.h[2]=i(this.h[2],I),this.h[3]=i(this.h[3],P),this.h[4]=i(this.h[4],L)},g.prototype._digest=function(y){return y==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,l){var o=e("../utils"),s=e("./256");function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o.inherits(c,s),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(a){return a==="hex"?o.toHex32(this.h.slice(0,7),"big"):o.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,l){var o=e("../utils"),s=e("../common"),c=e("./common"),a=e("minimalistic-assert"),i=o.sum32,u=o.sum32_4,f=o.sum32_5,d=c.ch32,h=c.maj32,g=c.s0_256,y=c.s1_256,p=c.g0_256,b=c.g1_256,m=s.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}o.inherits(C,m),n.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(I,P){for(var L=this.W,j=0;j<16;j++)L[j]=I[P+j];for(;j<L.length;j++)L[j]=u(b(L[j-2]),L[j-7],p(L[j-15]),L[j-16]);var B=this.h[0],z=this.h[1],U=this.h[2],H=this.h[3],T=this.h[4],A=this.h[5],k=this.h[6],v=this.h[7];for(a(this.k.length===L.length),j=0;j<L.length;j++){var x=f(v,y(T),d(T,A,k),this.k[j],L[j]),w=i(g(B),h(B,z,U));v=k,k=A,A=T,T=i(H,x),H=U,U=z,z=B,B=i(x,w)}this.h[0]=i(this.h[0],B),this.h[1]=i(this.h[1],z),this.h[2]=i(this.h[2],U),this.h[3]=i(this.h[3],H),this.h[4]=i(this.h[4],T),this.h[5]=i(this.h[5],A),this.h[6]=i(this.h[6],k),this.h[7]=i(this.h[7],v)},C.prototype._digest=function(I){return I==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,l){var o=e("../utils"),s=e("./512");function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o.inherits(c,s),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(a){return a==="hex"?o.toHex32(this.h.slice(0,12),"big"):o.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,l){var o=e("../utils"),s=e("../common"),c=e("minimalistic-assert"),a=o.rotr64_hi,i=o.rotr64_lo,u=o.shr64_hi,f=o.shr64_lo,d=o.sum64,h=o.sum64_hi,g=o.sum64_lo,y=o.sum64_4_hi,p=o.sum64_4_lo,b=o.sum64_5_hi,m=o.sum64_5_lo,S=s.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function P(w,_,E,R,O){var W=w&E^~w&O;return W<0&&(W+=4294967296),W}function L(w,_,E,R,O,W){var V=_&R^~_&W;return V<0&&(V+=4294967296),V}function j(w,_,E,R,O){var W=w&E^w&O^E&O;return W<0&&(W+=4294967296),W}function B(w,_,E,R,O,W){var V=_&R^_&W^R&W;return V<0&&(V+=4294967296),V}function z(w,_){var E=a(w,_,28)^a(_,w,2)^a(_,w,7);return E<0&&(E+=4294967296),E}function U(w,_){var E=i(w,_,28)^i(_,w,2)^i(_,w,7);return E<0&&(E+=4294967296),E}function H(w,_){var E=a(w,_,14)^a(w,_,18)^a(_,w,9);return E<0&&(E+=4294967296),E}function T(w,_){var E=i(w,_,14)^i(w,_,18)^i(_,w,9);return E<0&&(E+=4294967296),E}function A(w,_){var E=a(w,_,1)^a(w,_,8)^u(w,_,7);return E<0&&(E+=4294967296),E}function k(w,_){var E=i(w,_,1)^i(w,_,8)^f(w,_,7);return E<0&&(E+=4294967296),E}function v(w,_){var E=a(w,_,19)^a(_,w,29)^u(w,_,6);return E<0&&(E+=4294967296),E}function x(w,_){var E=i(w,_,19)^i(_,w,29)^f(w,_,6);return E<0&&(E+=4294967296),E}o.inherits(I,S),n.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(w,_){for(var E=this.W,R=0;R<32;R++)E[R]=w[_+R];for(;R<E.length;R+=2){var O=v(E[R-4],E[R-3]),W=x(E[R-4],E[R-3]),V=E[R-14],X=E[R-13],D=A(E[R-30],E[R-29]),K=k(E[R-30],E[R-29]),N=E[R-32],M=E[R-31];E[R]=y(O,W,V,X,D,K,N,M),E[R+1]=p(O,W,V,X,D,K,N,M)}},I.prototype._update=function(w,_){this._prepareBlock(w,_);var E=this.W,R=this.h[0],O=this.h[1],W=this.h[2],V=this.h[3],X=this.h[4],D=this.h[5],K=this.h[6],N=this.h[7],M=this.h[8],$=this.h[9],Y=this.h[10],ee=this.h[11],Q=this.h[12],Z=this.h[13],le=this.h[14],ae=this.h[15];c(this.k.length===E.length);for(var J=0;J<E.length;J+=2){var ne=le,se=ae,me=H(M,$),de=T(M,$),ge=P(M,$,Y,ee,Q),ve=L(M,$,Y,ee,Q,Z),he=this.k[J],Me=this.k[J+1],Ee=E[J],Fe=E[J+1],De=b(ne,se,me,de,ge,ve,he,Me,Ee,Fe),et=m(ne,se,me,de,ge,ve,he,Me,Ee,Fe);ne=z(R,O),se=U(R,O),me=j(R,O,W,V,X),de=B(R,O,W,V,X,D);var He=h(ne,se,me,de),Ze=g(ne,se,me,de);le=Q,ae=Z,Q=Y,Z=ee,Y=M,ee=$,M=h(K,N,De,et),$=g(N,N,De,et),K=X,N=D,X=W,D=V,W=R,V=O,R=h(De,et,He,Ze),O=g(De,et,He,Ze)}d(this.h,0,R,O),d(this.h,2,W,V),d(this.h,4,X,D),d(this.h,6,K,N),d(this.h,8,M,$),d(this.h,10,Y,ee),d(this.h,12,Q,Z),d(this.h,14,le,ae)},I.prototype._digest=function(w){return w==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,l){var o=e("../utils").rotr32;function s(i,u,f){return i&u^~i&f}function c(i,u,f){return i&u^i&f^u&f}function a(i,u,f){return i^u^f}l.ft_1=function(i,u,f,d){return i===0?s(u,f,d):i===1||i===3?a(u,f,d):i===2?c(u,f,d):void 0},l.ch32=s,l.maj32=c,l.p32=a,l.s0_256=function(i){return o(i,2)^o(i,13)^o(i,22)},l.s1_256=function(i){return o(i,6)^o(i,11)^o(i,25)},l.g0_256=function(i){return o(i,7)^o(i,18)^i>>>3},l.g1_256=function(i){return o(i,17)^o(i,19)^i>>>10}},{"../utils":437}],437:[function(e,n,l){var o=e("minimalistic-assert"),s=e("inherits");function c(f,d){return(64512&f.charCodeAt(d))==55296&&!(d<0||d+1>=f.length)&&(64512&f.charCodeAt(d+1))==56320}function a(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function i(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}l.inherits=s,l.toArray=function(f,d){if(Array.isArray(f))return f.slice();if(!f)return[];var h=[];if(typeof f=="string")if(d){if(d==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),y=0;y<f.length;y+=2)h.push(parseInt(f[y]+f[y+1],16))}else for(var g=0,y=0;y<f.length;y++){var p=f.charCodeAt(y);p<128?h[g++]=p:p<2048?(h[g++]=p>>6|192,h[g++]=63&p|128):c(f,y)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++y)),h[g++]=p>>18|240,h[g++]=p>>12&63|128,h[g++]=p>>6&63|128,h[g++]=63&p|128):(h[g++]=p>>12|224,h[g++]=p>>6&63|128,h[g++]=63&p|128)}else for(y=0;y<f.length;y++)h[y]=0|f[y];return h},l.toHex=function(f){for(var d="",h=0;h<f.length;h++)d+=i(f[h].toString(16));return d},l.htonl=a,l.toHex32=function(f,d){for(var h="",g=0;g<f.length;g++){var y=f[g];d==="little"&&(y=a(y)),h+=u(y.toString(16))}return h},l.zero2=i,l.zero8=u,l.join32=function(f,d,h,g){var y=h-d;o(y%4==0);for(var p=new Array(y/4),b=0,m=d;b<p.length;b++,m+=4){var S;S=g==="big"?f[m]<<24|f[m+1]<<16|f[m+2]<<8|f[m+3]:f[m+3]<<24|f[m+2]<<16|f[m+1]<<8|f[m],p[b]=S>>>0}return p},l.split32=function(f,d){for(var h=new Array(4*f.length),g=0,y=0;g<f.length;g++,y+=4){var p=f[g];d==="big"?(h[y]=p>>>24,h[y+1]=p>>>16&255,h[y+2]=p>>>8&255,h[y+3]=255&p):(h[y+3]=p>>>24,h[y+2]=p>>>16&255,h[y+1]=p>>>8&255,h[y]=255&p)}return h},l.rotr32=function(f,d){return f>>>d|f<<32-d},l.rotl32=function(f,d){return f<<d|f>>>32-d},l.sum32=function(f,d){return f+d>>>0},l.sum32_3=function(f,d,h){return f+d+h>>>0},l.sum32_4=function(f,d,h,g){return f+d+h+g>>>0},l.sum32_5=function(f,d,h,g,y){return f+d+h+g+y>>>0},l.sum64=function(f,d,h,g){var y=f[d],p=g+f[d+1]>>>0,b=(p<g?1:0)+h+y;f[d]=b>>>0,f[d+1]=p},l.sum64_hi=function(f,d,h,g){return(d+g>>>0<d?1:0)+f+h>>>0},l.sum64_lo=function(f,d,h,g){return d+g>>>0},l.sum64_4_hi=function(f,d,h,g,y,p,b,m){var S=0,C=d;return S+=(C=C+g>>>0)<d?1:0,S+=(C=C+p>>>0)<p?1:0,f+h+y+b+(S+=(C=C+m>>>0)<m?1:0)>>>0},l.sum64_4_lo=function(f,d,h,g,y,p,b,m){return d+g+p+m>>>0},l.sum64_5_hi=function(f,d,h,g,y,p,b,m,S,C){var I=0,P=d;return I+=(P=P+g>>>0)<d?1:0,I+=(P=P+p>>>0)<p?1:0,I+=(P=P+m>>>0)<m?1:0,f+h+y+b+S+(I+=(P=P+C>>>0)<C?1:0)>>>0},l.sum64_5_lo=function(f,d,h,g,y,p,b,m,S,C){return d+g+p+m+C>>>0},l.rotr64_hi=function(f,d,h){return(d<<32-h|f>>>h)>>>0},l.rotr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0},l.shr64_hi=function(f,d,h){return f>>>h},l.shr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,l){var o=e("hash.js"),s=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function a(i){if(!(this instanceof a))return new a(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(i.entropy,i.entropyEnc||"hex"),f=s.toArray(i.nonce,i.nonceEnc||"hex"),d=s.toArray(i.pers,i.persEnc||"hex");c(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,d)}n.exports=a,a.prototype._init=function(i,u,f){var d=i.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new o.hmac(this.hash,this.K)},a.prototype._update=function(i){var u=this._hmac().update(this.V).update([0]);i&&(u=u.update(i)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(i,u,f,d){typeof u!="string"&&(d=f,f=u,u=null),i=s.toArray(i,u),f=s.toArray(f,d),c(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(f||[])),this._reseed=1},a.prototype.generate=function(i,u,f,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(d=f,f=u,u=null),f&&(f=s.toArray(f,d||"hex"),this._update(f));for(var h=[];h.length<i;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,i);return this._update(f),this._reseed++,s.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(o,s,c,a,i){var u,f,d=8*i-a-1,h=(1<<d)-1,g=h>>1,y=-7,p=c?i-1:0,b=c?-1:1,m=o[s+p];for(p+=b,u=m&(1<<-y)-1,m>>=-y,y+=d;y>0;u=256*u+o[s+p],p+=b,y-=8);for(f=u&(1<<-y)-1,u>>=-y,y+=a;y>0;f=256*f+o[s+p],p+=b,y-=8);if(u===0)u=1-g;else{if(u===h)return f?NaN:1/0*(m?-1:1);f+=Math.pow(2,a),u-=g}return(m?-1:1)*f*Math.pow(2,u-a)},l.write=function(o,s,c,a,i,u){var f,d,h,g=8*u-i-1,y=(1<<g)-1,p=y>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:u-1,S=a?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(d=isNaN(s)?1:0,f=y):(f=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-f))<1&&(f--,h*=2),(s+=f+p>=1?b/h:b*Math.pow(2,1-p))*h>=2&&(f++,h/=2),f+p>=y?(d=0,f=y):f+p>=1?(d=(s*h-1)*Math.pow(2,i),f+=p):(d=s*Math.pow(2,p-1)*Math.pow(2,i),f=0));i>=8;o[c+m]=255&d,m+=S,d/=256,i-=8);for(f=f<<i|d,g+=i;g>0;o[c+m]=255&f,m+=S,f/=256,g-=8);o[c+m-S]|=128*C}},{}],440:[function(e,n,l){typeof Object.create=="function"?n.exports=function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(o,s){if(s){o.super_=s;var c=function(){};c.prototype=s.prototype,o.prototype=new c,o.prototype.constructor=o}}},{}],441:[function(e,n,l){(function(o,s,c,a,i,u,f,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof l=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(g,y,p){function b(C,I){if(!y[C]){if(!g[C]){var P=typeof e=="function"&&e;if(!I&&P)return P(C,!0);if(m)return m(C,!0);var L=new Error("Cannot find module '"+C+"'");throw L.code="MODULE_NOT_FOUND",L}var j=y[C]={exports:{}};g[C][0].call(j.exports,function(B){return b(g[C][1][B]||B)},j,j.exports,h,g,y,p)}return y[C].exports}for(var m=typeof e=="function"&&e,S=0;S<p.length;S++)b(p[S]);return b}({1:[function(h,g,y){var p=h("./utils"),b=h("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(S){for(var C,I,P,L,j,B,z,U=[],H=0,T=S.length,A=T,k=p.getTypeOf(S)!=="string";H<S.length;)A=T-H,P=k?(C=S[H++],I=H<T?S[H++]:0,H<T?S[H++]:0):(C=S.charCodeAt(H++),I=H<T?S.charCodeAt(H++):0,H<T?S.charCodeAt(H++):0),L=C>>2,j=(3&C)<<4|I>>4,B=1<A?(15&I)<<2|P>>6:64,z=2<A?63&P:64,U.push(m.charAt(L)+m.charAt(j)+m.charAt(B)+m.charAt(z));return U.join("")},y.decode=function(S){var C,I,P,L,j,B,z=0,U=0,H="data:";if(S.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var T,A=3*(S=S.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(S.charAt(S.length-1)===m.charAt(64)&&A--,S.charAt(S.length-2)===m.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=b.uint8array?new Uint8Array(0|A):new Array(0|A);z<S.length;)C=m.indexOf(S.charAt(z++))<<2|(L=m.indexOf(S.charAt(z++)))>>4,I=(15&L)<<4|(j=m.indexOf(S.charAt(z++)))>>2,P=(3&j)<<6|(B=m.indexOf(S.charAt(z++))),T[U++]=C,j!==64&&(T[U++]=I),B!==64&&(T[U++]=P);return T}},{"./support":30,"./utils":32}],2:[function(h,g,y){var p=h("./external"),b=h("./stream/DataWorker"),m=h("./stream/Crc32Probe"),S=h("./stream/DataLengthProbe");function C(I,P,L,j,B){this.compressedSize=I,this.uncompressedSize=P,this.crc32=L,this.compression=j,this.compressedContent=B}C.prototype={getContentWorker:function(){var I=new b(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new S("data_length")),P=this;return I.on("end",function(){if(this.streamInfo.data_length!==P.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new b(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(I,P,L){return I.pipe(new m).pipe(new S("uncompressedSize")).pipe(P.compressWorker(L)).pipe(new S("compressedSize")).withStreamInfo("compression",P)},g.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,y){var p=h("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},y.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,y){var p=h("./utils"),b=function(){for(var m,S=[],C=0;C<256;C++){m=C;for(var I=0;I<8;I++)m=1&m?3988292384^m>>>1:m>>>1;S[C]=m}return S}();g.exports=function(m,S){return m!==void 0&&m.length?p.getTypeOf(m)!=="string"?function(C,I,P,L){var j=b,B=0+P;C^=-1;for(var z=0;z<B;z++)C=C>>>8^j[255&(C^I[z])];return-1^C}(0|S,m,m.length):function(C,I,P,L){var j=b,B=0+P;C^=-1;for(var z=0;z<B;z++)C=C>>>8^j[255&(C^I.charCodeAt(z))];return-1^C}(0|S,m,m.length):0}},{"./utils":32}],5:[function(h,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(h,g,y){var p;p=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:p}},{lie:37}],7:[function(h,g,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=h("pako"),m=h("./utils"),S=h("./stream/GenericWorker"),C=p?"uint8array":"array";function I(P,L){S.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=L,this.meta={}}y.magic="\b\0",m.inherits(I,S),I.prototype.processChunk=function(P){this.meta=P.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(C,P.data),!1)},I.prototype.flush=function(){S.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){S.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(L){P.push({data:L,meta:P.meta})}},y.compressWorker=function(P){return new I("Deflate",P)},y.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,y){function p(j,B){var z,U="";for(z=0;z<B;z++)U+=String.fromCharCode(255&j),j>>>=8;return U}function b(j,B,z,U,H,T){var A,k,v=j.file,x=j.compression,w=T!==C.utf8encode,_=m.transformTo("string",T(v.name)),E=m.transformTo("string",C.utf8encode(v.name)),R=v.comment,O=m.transformTo("string",T(R)),W=m.transformTo("string",C.utf8encode(R)),V=E.length!==v.name.length,X=W.length!==R.length,D="",K="",N="",M=v.dir,$=v.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};B&&!z||(Y.crc32=j.crc32,Y.compressedSize=j.compressedSize,Y.uncompressedSize=j.uncompressedSize);var ee=0;B&&(ee|=8),w||!V&&!X||(ee|=2048);var Q=0,Z=0;M&&(Q|=16),H==="UNIX"?(Z=798,Q|=function(ae,J){var ne=ae;return ae||(ne=J?16893:33204),(65535&ne)<<16}(v.unixPermissions,M)):(Z=20,Q|=function(ae){return 63&(ae||0)}(v.dosPermissions)),A=$.getUTCHours(),A<<=6,A|=$.getUTCMinutes(),A<<=5,A|=$.getUTCSeconds()/2,k=$.getUTCFullYear()-1980,k<<=4,k|=$.getUTCMonth()+1,k<<=5,k|=$.getUTCDate(),V&&(K=p(1,1)+p(I(_),4)+E,D+="up"+p(K.length,2)+K),X&&(N=p(1,1)+p(I(O),4)+W,D+="uc"+p(N.length,2)+N);var le="";return le+=`
\0`,le+=p(ee,2),le+=x.magic,le+=p(A,2),le+=p(k,2),le+=p(Y.crc32,4),le+=p(Y.compressedSize,4),le+=p(Y.uncompressedSize,4),le+=p(_.length,2),le+=p(D.length,2),{fileRecord:P.LOCAL_FILE_HEADER+le+_+D,dirRecord:P.CENTRAL_FILE_HEADER+p(Z,2)+le+p(O.length,2)+"\0\0\0\0"+p(Q,4)+p(U,4)+_+D+O}}var m=h("../utils"),S=h("../stream/GenericWorker"),C=h("../utf8"),I=h("../crc32"),P=h("../signature");function L(j,B,z,U){S.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=z,this.encodeFileName=U,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(L,S),L.prototype.push=function(j){var B=j.meta.percent||0,z=this.entriesCount,U=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,S.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:z?(B+100*(z-U-1))/z:100}}))},L.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var B=this.streamFiles&&!j.file.dir;if(B){var z=b(j,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:z.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(j){this.accumulate=!1;var B=this.streamFiles&&!j.file.dir,z=b(j,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(z.dirRecord),B)this.push({data:function(U){return P.DATA_DESCRIPTOR+p(U.crc32,4)+p(U.compressedSize,4)+p(U.uncompressedSize,4)}(j),meta:{percent:100}});else for(this.push({data:z.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var j=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var z=this.bytesWritten-j,U=function(H,T,A,k,v){var x=m.transformTo("string",v(k));return P.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(H,2)+p(H,2)+p(T,4)+p(A,4)+p(x.length,2)+x}(this.dirRecords.length,z,j,this.zipComment,this.encodeFileName);this.push({data:U,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(j){this._sources.push(j);var B=this;return j.on("data",function(z){B.processChunk(z)}),j.on("end",function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()}),j.on("error",function(z){B.error(z)}),this},L.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(j){var B=this._sources;if(!S.prototype.error.call(this,j))return!1;for(var z=0;z<B.length;z++)try{B[z].error(j)}catch{}return!0},L.prototype.lock=function(){S.prototype.lock.call(this);for(var j=this._sources,B=0;B<j.length;B++)j[B].lock()},g.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,y){var p=h("../compressions"),b=h("./ZipFileWorker");y.generateWorker=function(m,S,C){var I=new b(S.streamFiles,C,S.platform,S.encodeFileName),P=0;try{m.forEach(function(L,j){P++;var B=function(T,A){var k=T||A,v=p[k];if(!v)throw new Error(k+" is not a valid compression method !");return v}(j.options.compression,S.compression),z=j.options.compressionOptions||S.compressionOptions||{},U=j.dir,H=j.date;j._compressWorker(B,z).withStreamInfo("file",{name:L,dir:U,date:H,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(I)}),I.entriesCount=P}catch(L){I.error(L)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,y){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new p;for(var m in this)typeof this[m]!="function"&&(b[m]=this[m]);return b}}(p.prototype=h("./object")).loadAsync=h("./load"),p.support=h("./support"),p.defaults=h("./defaults"),p.version="3.10.1",p.loadAsync=function(b,m){return new p().loadAsync(b,m)},p.external=h("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,y){var p=h("./utils"),b=h("./external"),m=h("./utf8"),S=h("./zipEntries"),C=h("./stream/Crc32Probe"),I=h("./nodejsUtils");function P(L){return new b.Promise(function(j,B){var z=L.decompressed.getContentWorker().pipe(new C);z.on("error",function(U){B(U)}).on("end",function(){z.streamInfo.crc32!==L.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):j()}).resume()})}g.exports=function(L,j){var B=this;return j=p.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),I.isNode&&I.isStream(L)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",L,!0,j.optimizedBinaryString,j.base64).then(function(z){var U=new S(j);return U.load(z),U}).then(function(z){var U=[b.Promise.resolve(z)],H=z.files;if(j.checkCRC32)for(var T=0;T<H.length;T++)U.push(P(H[T]));return b.Promise.all(U)}).then(function(z){for(var U=z.shift(),H=U.files,T=0;T<H.length;T++){var A=H[T],k=A.fileNameStr,v=p.resolve(A.fileNameStr);B.file(v,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:j.createFolders}),A.dir||(B.file(v).unsafeOriginalName=k)}return U.zipComment.length&&(B.comment=U.zipComment),B})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,y){var p=h("../utils"),b=h("../stream/GenericWorker");function m(S,C){b.call(this,"Nodejs stream input adapter for "+S),this._upstreamEnded=!1,this._bindStream(C)}p.inherits(m,b),m.prototype._bindStream=function(S){var C=this;(this._stream=S).pause(),S.on("data",function(I){C.push({data:I,meta:{percent:0}})}).on("error",function(I){C.isPaused?this.generatedError=I:C.error(I)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},m.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,y){var p=h("readable-stream").Readable;function b(m,S,C){p.call(this,S),this._helper=m;var I=this;m.on("data",function(P,L){I.push(P)||I._helper.pause(),C&&C(L)}).on("error",function(P){I.emit("error",P)}).on("end",function(){I.push(null)})}h("../utils").inherits(b,p),b.prototype._read=function(){this._helper.resume()},g.exports=b},{"../utils":32,"readable-stream":16}],14:[function(h,g,y){g.exports={isNode:c!==void 0,newBufferFrom:function(p,b){if(c.from&&c.from!==Uint8Array.from)return c.from(p,b);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new c(p,b)},allocBuffer:function(p){if(c.alloc)return c.alloc(p);var b=new c(p);return b.fill(0),b},isBuffer:function(p){return c.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(h,g,y){function p(v,x,w){var _,E=m.getTypeOf(x),R=m.extend(w||{},I);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(v=H(v)),R.createFolders&&(_=U(v))&&T.call(this,_,!0);var O=E==="string"&&R.binary===!1&&R.base64===!1;w&&w.binary!==void 0||(R.binary=!O),(x instanceof P&&x.uncompressedSize===0||R.dir||!x||x.length===0)&&(R.base64=!1,R.binary=!0,x="",R.compression="STORE",E="string");var W;W=x instanceof P||x instanceof S?x:B.isNode&&B.isStream(x)?new z(v,x):m.prepareContent(v,x,R.binary,R.optimizedBinaryString,R.base64);var V=new L(v,W,R);this.files[v]=V}var b=h("./utf8"),m=h("./utils"),S=h("./stream/GenericWorker"),C=h("./stream/StreamHelper"),I=h("./defaults"),P=h("./compressedObject"),L=h("./zipObject"),j=h("./generate"),B=h("./nodejsUtils"),z=h("./nodejs/NodejsStreamInputAdapter"),U=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var x=v.lastIndexOf("/");return 0<x?v.substring(0,x):""},H=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},T=function(v,x){return x=x!==void 0?x:I.createFolders,v=H(v),this.files[v]||p.call(this,v,null,{dir:!0,createFolders:x}),this.files[v]};function A(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var x,w,_;for(x in this.files)_=this.files[x],(w=x.slice(this.root.length,x.length))&&x.slice(0,this.root.length)===this.root&&v(w,_)},filter:function(v){var x=[];return this.forEach(function(w,_){v(w,_)&&x.push(_)}),x},file:function(v,x,w){if(arguments.length!==1)return v=this.root+v,p.call(this,v,x,w),this;if(A(v)){var _=v;return this.filter(function(R,O){return!O.dir&&_.test(R)})}var E=this.files[this.root+v];return E&&!E.dir?E:null},folder:function(v){if(!v)return this;if(A(v))return this.filter(function(E,R){return R.dir&&v.test(E)});var x=this.root+v,w=T.call(this,x),_=this.clone();return _.root=w.name,_},remove:function(v){v=this.root+v;var x=this.files[v];if(x||(v.slice(-1)!=="/"&&(v+="/"),x=this.files[v]),x&&!x.dir)delete this.files[v];else for(var w=this.filter(function(E,R){return R.name.slice(0,v.length)===v}),_=0;_<w.length;_++)delete this.files[w[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var x,w={};try{if((w=m.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");m.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var _=w.comment||this.comment||"";x=j.generateWorker(this,w,_)}catch(E){(x=new S("error")).error(E)}return new C(x,w.type||"string",w.mimeType)},generateAsync:function(v,x){return this.generateInternalStream(v).accumulate(x)},generateNodeStream:function(v,x){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(x)}};g.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,y){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,y){var p=h("./DataReader");function b(m){p.call(this,m);for(var S=0;S<this.data.length;S++)m[S]=255&m[S]}h("../utils").inherits(b,p),b.prototype.byteAt=function(m){return this.data[this.zero+m]},b.prototype.lastIndexOfSignature=function(m){for(var S=m.charCodeAt(0),C=m.charCodeAt(1),I=m.charCodeAt(2),P=m.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===S&&this.data[L+1]===C&&this.data[L+2]===I&&this.data[L+3]===P)return L-this.zero;return-1},b.prototype.readAndCheckSignature=function(m){var S=m.charCodeAt(0),C=m.charCodeAt(1),I=m.charCodeAt(2),P=m.charCodeAt(3),L=this.readData(4);return S===L[0]&&C===L[1]&&I===L[2]&&P===L[3]},b.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var S=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,S},g.exports=b},{"../utils":32,"./DataReader":18}],18:[function(h,g,y){var p=h("../utils");function b(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var S,C=0;for(this.checkOffset(m),S=this.index+m-1;S>=this.index;S--)C=(C<<8)+this.byteAt(S);return this.index+=m,C},readString:function(m){return p.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},g.exports=b},{"../utils":32}],19:[function(h,g,y){var p=h("./Uint8ArrayReader");function b(m){p.call(this,m)}h("../utils").inherits(b,p),b.prototype.readData=function(m){this.checkOffset(m);var S=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,S},g.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,y){var p=h("./DataReader");function b(m){p.call(this,m)}h("../utils").inherits(b,p),b.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},b.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},b.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},b.prototype.readData=function(m){this.checkOffset(m);var S=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,S},g.exports=b},{"../utils":32,"./DataReader":18}],21:[function(h,g,y){var p=h("./ArrayReader");function b(m){p.call(this,m)}h("../utils").inherits(b,p),b.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var S=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,S},g.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,y){var p=h("../utils"),b=h("../support"),m=h("./ArrayReader"),S=h("./StringReader"),C=h("./NodeBufferReader"),I=h("./Uint8ArrayReader");g.exports=function(P){var L=p.getTypeOf(P);return p.checkSupport(L),L!=="string"||b.uint8array?L==="nodebuffer"?new C(P):b.uint8array?new I(p.transformTo("uint8array",P)):new m(p.transformTo("array",P)):new S(P)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,y){var p=h("./GenericWorker"),b=h("../utils");function m(S){p.call(this,"ConvertWorker to "+S),this.destType=S}b.inherits(m,p),m.prototype.processChunk=function(S){this.push({data:b.transformTo(this.destType,S.data),meta:S.meta})},g.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,y){var p=h("./GenericWorker"),b=h("../crc32");function m(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(m,p),m.prototype.processChunk=function(S){this.streamInfo.crc32=b(S.data,this.streamInfo.crc32||0),this.push(S)},g.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,y){var p=h("../utils"),b=h("./GenericWorker");function m(S){b.call(this,"DataLengthProbe for "+S),this.propName=S,this.withStreamInfo(S,0)}p.inherits(m,b),m.prototype.processChunk=function(S){if(S){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+S.data.length}b.prototype.processChunk.call(this,S)},g.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,y){var p=h("../utils"),b=h("./GenericWorker");function m(S){b.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,S.then(function(I){C.dataIsReady=!0,C.data=I,C.max=I&&I.length||0,C.type=p.getTypeOf(I),C.isPaused||C._tickAndRepeat()},function(I){C.error(I)})}p.inherits(m,b),m.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var S=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":S=this.data.substring(this.index,C);break;case"uint8array":S=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":S=this.data.slice(this.index,C)}return this.index=C,this.push({data:S,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,y){function p(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,m){return this._listeners[b].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,m){if(this._listeners[b])for(var S=0;S<this._listeners[b].length;S++)this._listeners[b][S].call(this,m)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var m=this;return b.on("data",function(S){m.processChunk(S)}),b.on("end",function(){m.end()}),b.on("error",function(S){m.error(S)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,m){return this.extraStreamInfo[b]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},g.exports=p},{}],29:[function(h,g,y){var p=h("../utils"),b=h("./ConvertWorker"),m=h("./GenericWorker"),S=h("../base64"),C=h("../support"),I=h("../external"),P=null;if(C.nodestream)try{P=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(j,B,z){var U=B;switch(B){case"blob":case"arraybuffer":U="uint8array";break;case"base64":U="string"}try{this._internalType=U,this._outputType=B,this._mimeType=z,p.checkSupport(U),this._worker=j.pipe(new b(U)),j.lock()}catch(H){this._worker=new m("error"),this._worker.error(H)}}L.prototype={accumulate:function(j){return function(B,z){return new I.Promise(function(U,H){var T=[],A=B._internalType,k=B._outputType,v=B._mimeType;B.on("data",function(x,w){T.push(x),z&&z(w)}).on("error",function(x){T=[],H(x)}).on("end",function(){try{var x=function(w,_,E){switch(w){case"blob":return p.newBlob(p.transformTo("arraybuffer",_),E);case"base64":return S.encode(_);default:return p.transformTo(w,_)}}(k,function(w,_){var E,R=0,O=null,W=0;for(E=0;E<_.length;E++)W+=_[E].length;switch(w){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(O=new Uint8Array(W),E=0;E<_.length;E++)O.set(_[E],R),R+=_[E].length;return O;case"nodebuffer":return c.concat(_);default:throw new Error("concat : unsupported type '"+w+"'")}}(A,T),v);U(x)}catch(w){H(w)}T=[]}).resume()})}(this,j)},on:function(j,B){var z=this;return j==="data"?this._worker.on(j,function(U){B.call(z,U.data,U.meta)}):this._worker.on(j,function(){p.delay(B,arguments,z)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new P(this,{objectMode:this._outputType!=="nodebuffer"},j)}},g.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=c!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var p=new ArrayBuffer(0);try{y.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(p),y.blob=b.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!h("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,y){for(var p=h("./utils"),b=h("./support"),m=h("./nodejsUtils"),S=h("./stream/GenericWorker"),C=new Array(256),I=0;I<256;I++)C[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function P(){S.call(this,"utf-8 decode"),this.leftOver=null}function L(){S.call(this,"utf-8 encode")}C[254]=C[254]=1,y.utf8encode=function(j){return b.nodebuffer?m.newBufferFrom(j,"utf-8"):function(B){var z,U,H,T,A,k=B.length,v=0;for(T=0;T<k;T++)(64512&(U=B.charCodeAt(T)))==55296&&T+1<k&&(64512&(H=B.charCodeAt(T+1)))==56320&&(U=65536+(U-55296<<10)+(H-56320),T++),v+=U<128?1:U<2048?2:U<65536?3:4;for(z=b.uint8array?new Uint8Array(v):new Array(v),T=A=0;A<v;T++)(64512&(U=B.charCodeAt(T)))==55296&&T+1<k&&(64512&(H=B.charCodeAt(T+1)))==56320&&(U=65536+(U-55296<<10)+(H-56320),T++),U<128?z[A++]=U:(U<2048?z[A++]=192|U>>>6:(U<65536?z[A++]=224|U>>>12:(z[A++]=240|U>>>18,z[A++]=128|U>>>12&63),z[A++]=128|U>>>6&63),z[A++]=128|63&U);return z}(j)},y.utf8decode=function(j){return b.nodebuffer?p.transformTo("nodebuffer",j).toString("utf-8"):function(B){var z,U,H,T,A=B.length,k=new Array(2*A);for(z=U=0;z<A;)if((H=B[z++])<128)k[U++]=H;else if(4<(T=C[H]))k[U++]=65533,z+=T-1;else{for(H&=T===2?31:T===3?15:7;1<T&&z<A;)H=H<<6|63&B[z++],T--;1<T?k[U++]=65533:H<65536?k[U++]=H:(H-=65536,k[U++]=55296|H>>10&1023,k[U++]=56320|1023&H)}return k.length!==U&&(k.subarray?k=k.subarray(0,U):k.length=U),p.applyFromCharCode(k)}(j=p.transformTo(b.uint8array?"uint8array":"array",j))},p.inherits(P,S),P.prototype.processChunk=function(j){var B=p.transformTo(b.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var z=B;(B=new Uint8Array(z.length+this.leftOver.length)).set(this.leftOver,0),B.set(z,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var U=function(T,A){var k;for((A=A||T.length)>T.length&&(A=T.length),k=A-1;0<=k&&(192&T[k])==128;)k--;return k<0||k===0?A:k+C[T[k]]>A?k:A}(B),H=B;U!==B.length&&(b.uint8array?(H=B.subarray(0,U),this.leftOver=B.subarray(U,B.length)):(H=B.slice(0,U),this.leftOver=B.slice(U,B.length))),this.push({data:y.utf8decode(H),meta:j.meta})},P.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=P,p.inherits(L,S),L.prototype.processChunk=function(j){this.push({data:y.utf8encode(j.data),meta:j.meta})},y.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,y){var p=h("./support"),b=h("./base64"),m=h("./nodejsUtils"),S=h("./external");function C(z){return z}function I(z,U){for(var H=0;H<z.length;++H)U[H]=255&z.charCodeAt(H);return U}h("setimmediate"),y.newBlob=function(z,U){y.checkSupport("blob");try{return new Blob([z],{type:U})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(z),H.getBlob(U)}catch{throw new Error("Bug : can't construct the Blob.")}}};var P={stringifyByChunk:function(z,U,H){var T=[],A=0,k=z.length;if(k<=H)return String.fromCharCode.apply(null,z);for(;A<k;)U==="array"||U==="nodebuffer"?T.push(String.fromCharCode.apply(null,z.slice(A,Math.min(A+H,k)))):T.push(String.fromCharCode.apply(null,z.subarray(A,Math.min(A+H,k)))),A+=H;return T.join("")},stringifyByChar:function(z){for(var U="",H=0;H<z.length;H++)U+=String.fromCharCode(z[H]);return U},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function L(z){var U=65536,H=y.getTypeOf(z),T=!0;if(H==="uint8array"?T=P.applyCanBeUsed.uint8array:H==="nodebuffer"&&(T=P.applyCanBeUsed.nodebuffer),T)for(;1<U;)try{return P.stringifyByChunk(z,H,U)}catch{U=Math.floor(U/2)}return P.stringifyByChar(z)}function j(z,U){for(var H=0;H<z.length;H++)U[H]=z[H];return U}y.applyFromCharCode=L;var B={};B.string={string:C,array:function(z){return I(z,new Array(z.length))},arraybuffer:function(z){return B.string.uint8array(z).buffer},uint8array:function(z){return I(z,new Uint8Array(z.length))},nodebuffer:function(z){return I(z,m.allocBuffer(z.length))}},B.array={string:L,array:C,arraybuffer:function(z){return new Uint8Array(z).buffer},uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return m.newBufferFrom(z)}},B.arraybuffer={string:function(z){return L(new Uint8Array(z))},array:function(z){return j(new Uint8Array(z),new Array(z.byteLength))},arraybuffer:C,uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return m.newBufferFrom(new Uint8Array(z))}},B.uint8array={string:L,array:function(z){return j(z,new Array(z.length))},arraybuffer:function(z){return z.buffer},uint8array:C,nodebuffer:function(z){return m.newBufferFrom(z)}},B.nodebuffer={string:L,array:function(z){return j(z,new Array(z.length))},arraybuffer:function(z){return B.nodebuffer.uint8array(z).buffer},uint8array:function(z){return j(z,new Uint8Array(z.length))},nodebuffer:C},y.transformTo=function(z,U){if(U=U||"",!z)return U;y.checkSupport(z);var H=y.getTypeOf(U);return B[H][z](U)},y.resolve=function(z){for(var U=z.split("/"),H=[],T=0;T<U.length;T++){var A=U[T];A==="."||A===""&&T!==0&&T!==U.length-1||(A===".."?H.pop():H.push(A))}return H.join("/")},y.getTypeOf=function(z){return typeof z=="string"?"string":Object.prototype.toString.call(z)==="[object Array]"?"array":p.nodebuffer&&m.isBuffer(z)?"nodebuffer":p.uint8array&&z instanceof Uint8Array?"uint8array":p.arraybuffer&&z instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(z){if(!p[z.toLowerCase()])throw new Error(z+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(z){var U,H,T="";for(H=0;H<(z||"").length;H++)T+="\\x"+((U=z.charCodeAt(H))<16?"0":"")+U.toString(16).toUpperCase();return T},y.delay=function(z,U,H){d(function(){z.apply(H||null,U||[])})},y.inherits=function(z,U){function H(){}H.prototype=U.prototype,z.prototype=new H},y.extend=function(){var z,U,H={};for(z=0;z<arguments.length;z++)for(U in arguments[z])Object.prototype.hasOwnProperty.call(arguments[z],U)&&H[U]===void 0&&(H[U]=arguments[z][U]);return H},y.prepareContent=function(z,U,H,T,A){return S.Promise.resolve(U).then(function(k){return p.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new S.Promise(function(v,x){var w=new FileReader;w.onload=function(_){v(_.target.result)},w.onerror=function(_){x(_.target.error)},w.readAsArrayBuffer(k)}):k}).then(function(k){var v=y.getTypeOf(k);return v?(v==="arraybuffer"?k=y.transformTo("uint8array",k):v==="string"&&(A?k=b.decode(k):H&&T!==!0&&(k=function(x){return I(x,p.uint8array?new Uint8Array(x.length):new Array(x.length))}(k))),k):S.Promise.reject(new Error("Can't read the data of '"+z+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,y){var p=h("./reader/readerFor"),b=h("./utils"),m=h("./signature"),S=h("./zipEntry"),C=h("./support");function I(P){this.files=[],this.loadOptions=P}I.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(L)+", expected "+b.pretty(P)+")")}},isSignature:function(P,L){var j=this.reader.index;this.reader.setIndex(P);var B=this.reader.readString(4)===L;return this.reader.setIndex(j),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),L=C.uint8array?"uint8array":"array",j=b.transformTo(L,P);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var P,L,j,B=this.zip64EndOfCentralSize-44;0<B;)P=this.reader.readInt(2),L=this.reader.readInt(4),j=this.reader.readData(L),this.zip64ExtensibleData[P]={id:P,length:L,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,L;for(P=0;P<this.files.length;P++)L=this.files[P],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var P;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(P=new S({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(P<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(P);var L=P;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(P=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var B=L-j;if(0<B)this.isSignature(L,m.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(P){this.reader=p(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,y){var p=h("./reader/readerFor"),b=h("./utils"),m=h("./compressedObject"),S=h("./crc32"),C=h("./utf8"),I=h("./compressions"),P=h("./support");function L(j,B){this.options=j,this.loadOptions=B}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var B,z;if(j.skip(22),this.fileNameLength=j.readInt(2),z=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(z),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=function(U){for(var H in I)if(Object.prototype.hasOwnProperty.call(I,H)&&I[H].magic===U)return I[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,B,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var B=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(B),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=p(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var B,z,U,H=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<H;)B=j.readInt(2),z=j.readInt(2),U=j.readData(z),this.extraFields[B]={id:B,length:z,value:U};j.setIndex(H)},handleUTF8:function(){var j=P.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var z=b.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(z)}var U=this.findExtraFieldUnicodeComment();if(U!==null)this.fileCommentStr=U;else{var H=b.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var B=p(j.value);return B.readInt(1)!==1||S(this.fileName)!==B.readInt(4)?null:C.utf8decode(B.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var B=p(j.value);return B.readInt(1)!==1||S(this.fileComment)!==B.readInt(4)?null:C.utf8decode(B.readData(j.length-5))}return null}},g.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,y){function p(B,z,U){this.name=B,this.dir=U.dir,this.date=U.date,this.comment=U.comment,this.unixPermissions=U.unixPermissions,this.dosPermissions=U.dosPermissions,this._data=z,this._dataBinary=U.binary,this.options={compression:U.compression,compressionOptions:U.compressionOptions}}var b=h("./stream/StreamHelper"),m=h("./stream/DataWorker"),S=h("./utf8"),C=h("./compressedObject"),I=h("./stream/GenericWorker");p.prototype={internalStream:function(B){var z=null,U="string";try{if(!B)throw new Error("No output type specified.");var H=(U=B.toLowerCase())==="string"||U==="text";U!=="binarystring"&&U!=="text"||(U="string"),z=this._decompressWorker();var T=!this._dataBinary;T&&!H&&(z=z.pipe(new S.Utf8EncodeWorker)),!T&&H&&(z=z.pipe(new S.Utf8DecodeWorker))}catch(A){(z=new I("error")).error(A)}return new b(z,U,"")},async:function(B,z){return this.internalStream(B).accumulate(z)},nodeStream:function(B,z){return this.internalStream(B||"nodebuffer").toNodejsStream(z)},_compressWorker:function(B,z){if(this._data instanceof C&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var U=this._decompressWorker();return this._dataBinary||(U=U.pipe(new S.Utf8EncodeWorker)),C.createWorkerFrom(U,B,z)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof I?this._data:new m(this._data)}};for(var P=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<P.length;j++)p.prototype[P[j]]=L;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,y){(function(p){var b,m,S=p.MutationObserver||p.WebKitMutationObserver;if(S){var C=0,I=new S(B),P=p.document.createTextNode("");I.observe(P,{characterData:!0}),b=function(){P.data=C=++C%2}}else if(p.setImmediate||p.MessageChannel===void 0)b="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var z=p.document.createElement("script");z.onreadystatechange=function(){B(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},p.document.documentElement.appendChild(z)}:function(){setTimeout(B,0)};else{var L=new p.MessageChannel;L.port1.onmessage=B,b=function(){L.port2.postMessage(0)}}var j=[];function B(){var z,U;m=!0;for(var H=j.length;H;){for(U=j,j=[],z=-1;++z<H;)U[z]();H=j.length}m=!1}g.exports=function(z){j.push(z)!==1||m||b()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,y){var p=h("immediate");function b(){}var m={},S=["REJECTED"],C=["FULFILLED"],I=["PENDING"];function P(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,H!==b&&z(this,H)}function L(H,T,A){this.promise=H,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function j(H,T,A){p(function(){var k;try{k=T(A)}catch(v){return m.reject(H,v)}k===H?m.reject(H,new TypeError("Cannot resolve promise with itself")):m.resolve(H,k)})}function B(H){var T=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof T=="function")return function(){T.apply(H,arguments)}}function z(H,T){var A=!1;function k(w){A||(A=!0,m.reject(H,w))}function v(w){A||(A=!0,m.resolve(H,w))}var x=U(function(){T(v,k)});x.status==="error"&&k(x.value)}function U(H,T){var A={};try{A.value=H(T),A.status="success"}catch(k){A.status="error",A.value=k}return A}(g.exports=P).prototype.finally=function(H){if(typeof H!="function")return this;var T=this.constructor;return this.then(function(A){return T.resolve(H()).then(function(){return A})},function(A){return T.resolve(H()).then(function(){throw A})})},P.prototype.catch=function(H){return this.then(null,H)},P.prototype.then=function(H,T){if(typeof H!="function"&&this.state===C||typeof T!="function"&&this.state===S)return this;var A=new this.constructor(b);return this.state!==I?j(A,this.state===C?H:T,this.outcome):this.queue.push(new L(A,H,T)),A},L.prototype.callFulfilled=function(H){m.resolve(this.promise,H)},L.prototype.otherCallFulfilled=function(H){j(this.promise,this.onFulfilled,H)},L.prototype.callRejected=function(H){m.reject(this.promise,H)},L.prototype.otherCallRejected=function(H){j(this.promise,this.onRejected,H)},m.resolve=function(H,T){var A=U(B,T);if(A.status==="error")return m.reject(H,A.value);var k=A.value;if(k)z(H,k);else{H.state=C,H.outcome=T;for(var v=-1,x=H.queue.length;++v<x;)H.queue[v].callFulfilled(T)}return H},m.reject=function(H,T){H.state=S,H.outcome=T;for(var A=-1,k=H.queue.length;++A<k;)H.queue[A].callRejected(T);return H},P.resolve=function(H){return H instanceof this?H:m.resolve(new this(b),H)},P.reject=function(H){var T=new this(b);return m.reject(T,H)},P.all=function(H){var T=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=H.length,k=!1;if(!A)return this.resolve([]);for(var v=new Array(A),x=0,w=-1,_=new this(b);++w<A;)E(H[w],w);return _;function E(R,O){T.resolve(R).then(function(W){v[O]=W,++x!==A||k||(k=!0,m.resolve(_,v))},function(W){k||(k=!0,m.reject(_,W))})}},P.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=H.length,A=!1;if(!T)return this.resolve([]);for(var k,v=-1,x=new this(b);++v<T;)k=H[v],this.resolve(k).then(function(w){A||(A=!0,m.resolve(x,w))},function(w){A||(A=!0,m.reject(x,w))});return x}},{immediate:36}],38:[function(h,g,y){var p={};(0,h("./lib/utils/common").assign)(p,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,y){var p=h("./zlib/deflate"),b=h("./utils/common"),m=h("./utils/strings"),S=h("./zlib/messages"),C=h("./zlib/zstream"),I=Object.prototype.toString;function P(j){if(!(this instanceof P))return new P(j);this.options=b.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var z=p.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(z!==0)throw new Error(S[z]);if(B.header&&p.deflateSetHeader(this.strm,B.header),B.dictionary){var U;if(U=typeof B.dictionary=="string"?m.string2buf(B.dictionary):I.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(z=p.deflateSetDictionary(this.strm,U))!==0)throw new Error(S[z]);this._dict_set=!0}}function L(j,B){var z=new P(B);if(z.push(j,!0),z.err)throw z.msg||S[z.err];return z.result}P.prototype.push=function(j,B){var z,U,H=this.strm,T=this.options.chunkSize;if(this.ended)return!1;U=B===~~B?B:B===!0?4:0,typeof j=="string"?H.input=m.string2buf(j):I.call(j)==="[object ArrayBuffer]"?H.input=new Uint8Array(j):H.input=j,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new b.Buf8(T),H.next_out=0,H.avail_out=T),(z=p.deflate(H,U))!==1&&z!==0)return this.onEnd(z),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||U!==4&&U!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(b.shrinkBuf(H.output,H.next_out))):this.onData(b.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&z!==1);return U===4?(z=p.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===0):U!==2||(this.onEnd(0),!(H.avail_out=0))},P.prototype.onData=function(j){this.chunks.push(j)},P.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},y.Deflate=P,y.deflate=L,y.deflateRaw=function(j,B){return(B=B||{}).raw=!0,L(j,B)},y.gzip=function(j,B){return(B=B||{}).gzip=!0,L(j,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,y){var p=h("./zlib/inflate"),b=h("./utils/common"),m=h("./utils/strings"),S=h("./zlib/constants"),C=h("./zlib/messages"),I=h("./zlib/zstream"),P=h("./zlib/gzheader"),L=Object.prototype.toString;function j(z){if(!(this instanceof j))return new j(z);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},z||{});var U=this.options;U.raw&&0<=U.windowBits&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),!(0<=U.windowBits&&U.windowBits<16)||z&&z.windowBits||(U.windowBits+=32),15<U.windowBits&&U.windowBits<48&&!(15&U.windowBits)&&(U.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var H=p.inflateInit2(this.strm,U.windowBits);if(H!==S.Z_OK)throw new Error(C[H]);this.header=new P,p.inflateGetHeader(this.strm,this.header)}function B(z,U){var H=new j(U);if(H.push(z,!0),H.err)throw H.msg||C[H.err];return H.result}j.prototype.push=function(z,U){var H,T,A,k,v,x,w=this.strm,_=this.options.chunkSize,E=this.options.dictionary,R=!1;if(this.ended)return!1;T=U===~~U?U:U===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof z=="string"?w.input=m.binstring2buf(z):L.call(z)==="[object ArrayBuffer]"?w.input=new Uint8Array(z):w.input=z,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new b.Buf8(_),w.next_out=0,w.avail_out=_),(H=p.inflate(w,S.Z_NO_FLUSH))===S.Z_NEED_DICT&&E&&(x=typeof E=="string"?m.string2buf(E):L.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,H=p.inflateSetDictionary(this.strm,x)),H===S.Z_BUF_ERROR&&R===!0&&(H=S.Z_OK,R=!1),H!==S.Z_STREAM_END&&H!==S.Z_OK)return this.onEnd(H),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&H!==S.Z_STREAM_END&&(w.avail_in!==0||T!==S.Z_FINISH&&T!==S.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=m.utf8border(w.output,w.next_out),k=w.next_out-A,v=m.buf2string(w.output,A),w.next_out=k,w.avail_out=_-k,k&&b.arraySet(w.output,w.output,A,k,0),this.onData(v)):this.onData(b.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(R=!0)}while((0<w.avail_in||w.avail_out===0)&&H!==S.Z_STREAM_END);return H===S.Z_STREAM_END&&(T=S.Z_FINISH),T===S.Z_FINISH?(H=p.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===S.Z_OK):T!==S.Z_SYNC_FLUSH||(this.onEnd(S.Z_OK),!(w.avail_out=0))},j.prototype.onData=function(z){this.chunks.push(z)},j.prototype.onEnd=function(z){z===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},y.Inflate=j,y.inflate=B,y.inflateRaw=function(z,U){return(U=U||{}).raw=!0,B(z,U)},y.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(S){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var I=C.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var P in I)I.hasOwnProperty(P)&&(S[P]=I[P])}}return S},y.shrinkBuf=function(S,C){return S.length===C?S:S.subarray?S.subarray(0,C):(S.length=C,S)};var b={arraySet:function(S,C,I,P,L){if(C.subarray&&S.subarray)S.set(C.subarray(I,I+P),L);else for(var j=0;j<P;j++)S[L+j]=C[I+j]},flattenChunks:function(S){var C,I,P,L,j,B;for(C=P=0,I=S.length;C<I;C++)P+=S[C].length;for(B=new Uint8Array(P),C=L=0,I=S.length;C<I;C++)j=S[C],B.set(j,L),L+=j.length;return B}},m={arraySet:function(S,C,I,P,L){for(var j=0;j<P;j++)S[L+j]=C[I+j]},flattenChunks:function(S){return[].concat.apply([],S)}};y.setTyped=function(S){S?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,b)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,m))},y.setTyped(p)},{}],42:[function(h,g,y){var p=h("./common"),b=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var S=new p.Buf8(256),C=0;C<256;C++)S[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function I(P,L){if(L<65537&&(P.subarray&&m||!P.subarray&&b))return String.fromCharCode.apply(null,p.shrinkBuf(P,L));for(var j="",B=0;B<L;B++)j+=String.fromCharCode(P[B]);return j}S[254]=S[254]=1,y.string2buf=function(P){var L,j,B,z,U,H=P.length,T=0;for(z=0;z<H;z++)(64512&(j=P.charCodeAt(z)))==55296&&z+1<H&&(64512&(B=P.charCodeAt(z+1)))==56320&&(j=65536+(j-55296<<10)+(B-56320),z++),T+=j<128?1:j<2048?2:j<65536?3:4;for(L=new p.Buf8(T),z=U=0;U<T;z++)(64512&(j=P.charCodeAt(z)))==55296&&z+1<H&&(64512&(B=P.charCodeAt(z+1)))==56320&&(j=65536+(j-55296<<10)+(B-56320),z++),j<128?L[U++]=j:(j<2048?L[U++]=192|j>>>6:(j<65536?L[U++]=224|j>>>12:(L[U++]=240|j>>>18,L[U++]=128|j>>>12&63),L[U++]=128|j>>>6&63),L[U++]=128|63&j);return L},y.buf2binstring=function(P){return I(P,P.length)},y.binstring2buf=function(P){for(var L=new p.Buf8(P.length),j=0,B=L.length;j<B;j++)L[j]=P.charCodeAt(j);return L},y.buf2string=function(P,L){var j,B,z,U,H=L||P.length,T=new Array(2*H);for(j=B=0;j<H;)if((z=P[j++])<128)T[B++]=z;else if(4<(U=S[z]))T[B++]=65533,j+=U-1;else{for(z&=U===2?31:U===3?15:7;1<U&&j<H;)z=z<<6|63&P[j++],U--;1<U?T[B++]=65533:z<65536?T[B++]=z:(z-=65536,T[B++]=55296|z>>10&1023,T[B++]=56320|1023&z)}return I(T,B)},y.utf8border=function(P,L){var j;for((L=L||P.length)>P.length&&(L=P.length),j=L-1;0<=j&&(192&P[j])==128;)j--;return j<0||j===0?L:j+S[P[j]]>L?j:L}},{"./common":41}],43:[function(h,g,y){g.exports=function(p,b,m,S){for(var C=65535&p|0,I=p>>>16&65535|0,P=0;m!==0;){for(m-=P=2e3<m?2e3:m;I=I+(C=C+b[S++]|0)|0,--P;);C%=65521,I%=65521}return C|I<<16|0}},{}],44:[function(h,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,y){var p=function(){for(var b,m=[],S=0;S<256;S++){b=S;for(var C=0;C<8;C++)b=1&b?3988292384^b>>>1:b>>>1;m[S]=b}return m}();g.exports=function(b,m,S,C){var I=p,P=C+S;b^=-1;for(var L=C;L<P;L++)b=b>>>8^I[255&(b^m[L])];return-1^b}},{}],46:[function(h,g,y){var p,b=h("../utils/common"),m=h("./trees"),S=h("./adler32"),C=h("./crc32"),I=h("./messages"),P=-2,L=258,j=262,B=113;function z(D,K){return D.msg=I[K],K}function U(D){return(D<<1)-(4<D?9:0)}function H(D){for(var K=D.length;0<=--K;)D[K]=0}function T(D){var K=D.state,N=K.pending;N>D.avail_out&&(N=D.avail_out),N!==0&&(b.arraySet(D.output,K.pending_buf,K.pending_out,N,D.next_out),D.next_out+=N,K.pending_out+=N,D.total_out+=N,D.avail_out-=N,K.pending-=N,K.pending===0&&(K.pending_out=0))}function A(D,K){m._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,K),D.block_start=D.strstart,T(D.strm)}function k(D,K){D.pending_buf[D.pending++]=K}function v(D,K){D.pending_buf[D.pending++]=K>>>8&255,D.pending_buf[D.pending++]=255&K}function x(D,K){var N,M,$=D.max_chain_length,Y=D.strstart,ee=D.prev_length,Q=D.nice_match,Z=D.strstart>D.w_size-j?D.strstart-(D.w_size-j):0,le=D.window,ae=D.w_mask,J=D.prev,ne=D.strstart+L,se=le[Y+ee-1],me=le[Y+ee];D.prev_length>=D.good_match&&($>>=2),Q>D.lookahead&&(Q=D.lookahead);do if(le[(N=K)+ee]===me&&le[N+ee-1]===se&&le[N]===le[Y]&&le[++N]===le[Y+1]){Y+=2,N++;do;while(le[++Y]===le[++N]&&le[++Y]===le[++N]&&le[++Y]===le[++N]&&le[++Y]===le[++N]&&le[++Y]===le[++N]&&le[++Y]===le[++N]&&le[++Y]===le[++N]&&le[++Y]===le[++N]&&Y<ne);if(M=L-(ne-Y),Y=ne-L,ee<M){if(D.match_start=K,Q<=(ee=M))break;se=le[Y+ee-1],me=le[Y+ee]}}while((K=J[K&ae])>Z&&--$!=0);return ee<=D.lookahead?ee:D.lookahead}function w(D){var K,N,M,$,Y,ee,Q,Z,le,ae,J=D.w_size;do{if($=D.window_size-D.lookahead-D.strstart,D.strstart>=J+(J-j)){for(b.arraySet(D.window,D.window,J,J,0),D.match_start-=J,D.strstart-=J,D.block_start-=J,K=N=D.hash_size;M=D.head[--K],D.head[K]=J<=M?M-J:0,--N;);for(K=N=J;M=D.prev[--K],D.prev[K]=J<=M?M-J:0,--N;);$+=J}if(D.strm.avail_in===0)break;if(ee=D.strm,Q=D.window,Z=D.strstart+D.lookahead,ae=void 0,(le=$)<(ae=ee.avail_in)&&(ae=le),N=ae===0?0:(ee.avail_in-=ae,b.arraySet(Q,ee.input,ee.next_in,ae,Z),ee.state.wrap===1?ee.adler=S(ee.adler,Q,ae,Z):ee.state.wrap===2&&(ee.adler=C(ee.adler,Q,ae,Z)),ee.next_in+=ae,ee.total_in+=ae,ae),D.lookahead+=N,D.lookahead+D.insert>=3)for(Y=D.strstart-D.insert,D.ins_h=D.window[Y],D.ins_h=(D.ins_h<<D.hash_shift^D.window[Y+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[Y+3-1])&D.hash_mask,D.prev[Y&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=Y,Y++,D.insert--,!(D.lookahead+D.insert<3)););}while(D.lookahead<j&&D.strm.avail_in!==0)}function _(D,K){for(var N,M;;){if(D.lookahead<j){if(w(D),D.lookahead<j&&K===0)return 1;if(D.lookahead===0)break}if(N=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),N!==0&&D.strstart-N<=D.w_size-j&&(D.match_length=x(D,N)),D.match_length>=3)if(M=m._tr_tally(D,D.strstart-D.match_start,D.match_length-3),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=3){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else M=m._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(M&&(A(D,!1),D.strm.avail_out===0))return 1}return D.insert=D.strstart<2?D.strstart:2,K===4?(A(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(A(D,!1),D.strm.avail_out===0)?1:2}function E(D,K){for(var N,M,$;;){if(D.lookahead<j){if(w(D),D.lookahead<j&&K===0)return 1;if(D.lookahead===0)break}if(N=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=2,N!==0&&D.prev_length<D.max_lazy_match&&D.strstart-N<=D.w_size-j&&(D.match_length=x(D,N),D.match_length<=5&&(D.strategy===1||D.match_length===3&&4096<D.strstart-D.match_start)&&(D.match_length=2)),D.prev_length>=3&&D.match_length<=D.prev_length){for($=D.strstart+D.lookahead-3,M=m._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-3),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=$&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,N=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=2,D.strstart++,M&&(A(D,!1),D.strm.avail_out===0))return 1}else if(D.match_available){if((M=m._tr_tally(D,0,D.window[D.strstart-1]))&&A(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return 1}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(M=m._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<2?D.strstart:2,K===4?(A(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(A(D,!1),D.strm.avail_out===0)?1:2}function R(D,K,N,M,$){this.good_length=D,this.max_lazy=K,this.nice_length=N,this.max_chain=M,this.func=$}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(1146),this.dyn_dtree=new b.Buf16(122),this.bl_tree=new b.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(16),this.heap=new b.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(D){var K;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=2,(K=D.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:B,D.adler=K.wrap===2?0:1,K.last_flush=0,m._tr_init(K),0):z(D,P)}function V(D){var K=W(D);return K===0&&function(N){N.window_size=2*N.w_size,H(N.head),N.max_lazy_match=p[N.level].max_lazy,N.good_match=p[N.level].good_length,N.nice_match=p[N.level].nice_length,N.max_chain_length=p[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=2,N.match_available=0,N.ins_h=0}(D.state),K}function X(D,K,N,M,$,Y){if(!D)return P;var ee=1;if(K===-1&&(K=6),M<0?(ee=0,M=-M):15<M&&(ee=2,M-=16),$<1||9<$||N!==8||M<8||15<M||K<0||9<K||Y<0||4<Y)return z(D,P);M===8&&(M=9);var Q=new O;return(D.state=Q).strm=D,Q.wrap=ee,Q.gzhead=null,Q.w_bits=M,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=$+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+3-1)/3),Q.window=new b.Buf8(2*Q.w_size),Q.head=new b.Buf16(Q.hash_size),Q.prev=new b.Buf16(Q.w_size),Q.lit_bufsize=1<<$+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new b.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=K,Q.strategy=Y,Q.method=N,V(D)}p=[new R(0,0,0,0,function(D,K){var N=65535;for(N>D.pending_buf_size-5&&(N=D.pending_buf_size-5);;){if(D.lookahead<=1){if(w(D),D.lookahead===0&&K===0)return 1;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var M=D.block_start+N;if((D.strstart===0||D.strstart>=M)&&(D.lookahead=D.strstart-M,D.strstart=M,A(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-j&&(A(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,K===4?(A(D,!0),D.strm.avail_out===0?3:4):(D.strstart>D.block_start&&(A(D,!1),D.strm.avail_out),1)}),new R(4,4,8,4,_),new R(4,5,16,8,_),new R(4,6,32,32,_),new R(4,4,16,16,E),new R(8,16,32,32,E),new R(8,16,128,128,E),new R(8,32,128,256,E),new R(32,128,258,1024,E),new R(32,258,258,4096,E)],y.deflateInit=function(D,K){return X(D,K,8,15,8,0)},y.deflateInit2=X,y.deflateReset=V,y.deflateResetKeep=W,y.deflateSetHeader=function(D,K){return D&&D.state?D.state.wrap!==2?P:(D.state.gzhead=K,0):P},y.deflate=function(D,K){var N,M,$,Y;if(!D||!D.state||5<K||K<0)return D?z(D,P):P;if(M=D.state,!D.output||!D.input&&D.avail_in!==0||M.status===666&&K!==4)return z(D,D.avail_out===0?-5:P);if(M.strm=D,N=M.last_flush,M.last_flush=K,M.status===42)if(M.wrap===2)D.adler=0,k(M,31),k(M,139),k(M,8),M.gzhead?(k(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),k(M,255&M.gzhead.time),k(M,M.gzhead.time>>8&255),k(M,M.gzhead.time>>16&255),k(M,M.gzhead.time>>24&255),k(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),k(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(k(M,255&M.gzhead.extra.length),k(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(D.adler=C(D.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(k(M,0),k(M,0),k(M,0),k(M,0),k(M,0),k(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),k(M,3),M.status=B);else{var ee=8+(M.w_bits-8<<4)<<8;ee|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(ee|=32),ee+=31-ee%31,M.status=B,v(M,ee),M.strstart!==0&&(v(M,D.adler>>>16),v(M,65535&D.adler)),D.adler=1}if(M.status===69)if(M.gzhead.extra){for($=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>$&&(D.adler=C(D.adler,M.pending_buf,M.pending-$,$)),T(D),$=M.pending,M.pending!==M.pending_buf_size));)k(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>$&&(D.adler=C(D.adler,M.pending_buf,M.pending-$,$)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){$=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>$&&(D.adler=C(D.adler,M.pending_buf,M.pending-$,$)),T(D),$=M.pending,M.pending===M.pending_buf_size)){Y=1;break}Y=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,k(M,Y)}while(Y!==0);M.gzhead.hcrc&&M.pending>$&&(D.adler=C(D.adler,M.pending_buf,M.pending-$,$)),Y===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){$=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>$&&(D.adler=C(D.adler,M.pending_buf,M.pending-$,$)),T(D),$=M.pending,M.pending===M.pending_buf_size)){Y=1;break}Y=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,k(M,Y)}while(Y!==0);M.gzhead.hcrc&&M.pending>$&&(D.adler=C(D.adler,M.pending_buf,M.pending-$,$)),Y===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&T(D),M.pending+2<=M.pending_buf_size&&(k(M,255&D.adler),k(M,D.adler>>8&255),D.adler=0,M.status=B)):M.status=B),M.pending!==0){if(T(D),D.avail_out===0)return M.last_flush=-1,0}else if(D.avail_in===0&&U(K)<=U(N)&&K!==4)return z(D,-5);if(M.status===666&&D.avail_in!==0)return z(D,-5);if(D.avail_in!==0||M.lookahead!==0||K!==0&&M.status!==666){var Q=M.strategy===2?function(Z,le){for(var ae;;){if(Z.lookahead===0&&(w(Z),Z.lookahead===0)){if(le===0)return 1;break}if(Z.match_length=0,ae=m._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,ae&&(A(Z,!1),Z.strm.avail_out===0))return 1}return Z.insert=0,le===4?(A(Z,!0),Z.strm.avail_out===0?3:4):Z.last_lit&&(A(Z,!1),Z.strm.avail_out===0)?1:2}(M,K):M.strategy===3?function(Z,le){for(var ae,J,ne,se,me=Z.window;;){if(Z.lookahead<=L){if(w(Z),Z.lookahead<=L&&le===0)return 1;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=3&&0<Z.strstart&&(J=me[ne=Z.strstart-1])===me[++ne]&&J===me[++ne]&&J===me[++ne]){se=Z.strstart+L;do;while(J===me[++ne]&&J===me[++ne]&&J===me[++ne]&&J===me[++ne]&&J===me[++ne]&&J===me[++ne]&&J===me[++ne]&&J===me[++ne]&&ne<se);Z.match_length=L-(se-ne),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=3?(ae=m._tr_tally(Z,1,Z.match_length-3),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(ae=m._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),ae&&(A(Z,!1),Z.strm.avail_out===0))return 1}return Z.insert=0,le===4?(A(Z,!0),Z.strm.avail_out===0?3:4):Z.last_lit&&(A(Z,!1),Z.strm.avail_out===0)?1:2}(M,K):p[M.level].func(M,K);if(Q!==3&&Q!==4||(M.status=666),Q===1||Q===3)return D.avail_out===0&&(M.last_flush=-1),0;if(Q===2&&(K===1?m._tr_align(M):K!==5&&(m._tr_stored_block(M,0,0,!1),K===3&&(H(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),T(D),D.avail_out===0))return M.last_flush=-1,0}return K!==4?0:M.wrap<=0?1:(M.wrap===2?(k(M,255&D.adler),k(M,D.adler>>8&255),k(M,D.adler>>16&255),k(M,D.adler>>24&255),k(M,255&D.total_in),k(M,D.total_in>>8&255),k(M,D.total_in>>16&255),k(M,D.total_in>>24&255)):(v(M,D.adler>>>16),v(M,65535&D.adler)),T(D),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?0:1)},y.deflateEnd=function(D){var K;return D&&D.state?(K=D.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==B&&K!==666?z(D,P):(D.state=null,K===B?z(D,-3):0):P},y.deflateSetDictionary=function(D,K){var N,M,$,Y,ee,Q,Z,le,ae=K.length;if(!D||!D.state||(Y=(N=D.state).wrap)===2||Y===1&&N.status!==42||N.lookahead)return P;for(Y===1&&(D.adler=S(D.adler,K,ae,0)),N.wrap=0,ae>=N.w_size&&(Y===0&&(H(N.head),N.strstart=0,N.block_start=0,N.insert=0),le=new b.Buf8(N.w_size),b.arraySet(le,K,ae-N.w_size,N.w_size,0),K=le,ae=N.w_size),ee=D.avail_in,Q=D.next_in,Z=D.input,D.avail_in=ae,D.next_in=0,D.input=K,w(N);N.lookahead>=3;){for(M=N.strstart,$=N.lookahead-2;N.ins_h=(N.ins_h<<N.hash_shift^N.window[M+3-1])&N.hash_mask,N.prev[M&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=M,M++,--$;);N.strstart=M,N.lookahead=2,w(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=2,N.match_available=0,D.next_in=Q,D.input=Z,D.avail_in=ee,N.wrap=Y,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,y){g.exports=function(p,b){var m,S,C,I,P,L,j,B,z,U,H,T,A,k,v,x,w,_,E,R,O,W,V,X,D;m=p.state,S=p.next_in,X=p.input,C=S+(p.avail_in-5),I=p.next_out,D=p.output,P=I-(b-p.avail_out),L=I+(p.avail_out-257),j=m.dmax,B=m.wsize,z=m.whave,U=m.wnext,H=m.window,T=m.hold,A=m.bits,k=m.lencode,v=m.distcode,x=(1<<m.lenbits)-1,w=(1<<m.distbits)-1;e:do{A<15&&(T+=X[S++]<<A,A+=8,T+=X[S++]<<A,A+=8),_=k[T&x];t:for(;;){if(T>>>=E=_>>>24,A-=E,(E=_>>>16&255)==0)D[I++]=65535&_;else{if(!(16&E)){if(!(64&E)){_=k[(65535&_)+(T&(1<<E)-1)];continue t}if(32&E){m.mode=12;break e}p.msg="invalid literal/length code",m.mode=30;break e}R=65535&_,(E&=15)&&(A<E&&(T+=X[S++]<<A,A+=8),R+=T&(1<<E)-1,T>>>=E,A-=E),A<15&&(T+=X[S++]<<A,A+=8,T+=X[S++]<<A,A+=8),_=v[T&w];r:for(;;){if(T>>>=E=_>>>24,A-=E,!(16&(E=_>>>16&255))){if(!(64&E)){_=v[(65535&_)+(T&(1<<E)-1)];continue r}p.msg="invalid distance code",m.mode=30;break e}if(O=65535&_,A<(E&=15)&&(T+=X[S++]<<A,(A+=8)<E&&(T+=X[S++]<<A,A+=8)),j<(O+=T&(1<<E)-1)){p.msg="invalid distance too far back",m.mode=30;break e}if(T>>>=E,A-=E,(E=I-P)<O){if(z<(E=O-E)&&m.sane){p.msg="invalid distance too far back",m.mode=30;break e}if(V=H,(W=0)===U){if(W+=B-E,E<R){for(R-=E;D[I++]=H[W++],--E;);W=I-O,V=D}}else if(U<E){if(W+=B+U-E,(E-=U)<R){for(R-=E;D[I++]=H[W++],--E;);if(W=0,U<R){for(R-=E=U;D[I++]=H[W++],--E;);W=I-O,V=D}}}else if(W+=U-E,E<R){for(R-=E;D[I++]=H[W++],--E;);W=I-O,V=D}for(;2<R;)D[I++]=V[W++],D[I++]=V[W++],D[I++]=V[W++],R-=3;R&&(D[I++]=V[W++],1<R&&(D[I++]=V[W++]))}else{for(W=I-O;D[I++]=D[W++],D[I++]=D[W++],D[I++]=D[W++],2<(R-=3););R&&(D[I++]=D[W++],1<R&&(D[I++]=D[W++]))}break}}break}}while(S<C&&I<L);S-=R=A>>3,T&=(1<<(A-=R<<3))-1,p.next_in=S,p.next_out=I,p.avail_in=S<C?C-S+5:5-(S-C),p.avail_out=I<L?L-I+257:257-(I-L),m.hold=T,m.bits=A}},{}],49:[function(h,g,y){var p=h("../utils/common"),b=h("./adler32"),m=h("./crc32"),S=h("./inffast"),C=h("./inftrees"),I=-2;function P(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(x){var w;return x&&x.state?(w=x.state,x.total_in=x.total_out=w.total=0,x.msg="",w.wrap&&(x.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new p.Buf32(852),w.distcode=w.distdyn=new p.Buf32(592),w.sane=1,w.back=-1,0):I}function B(x){var w;return x&&x.state?((w=x.state).wsize=0,w.whave=0,w.wnext=0,j(x)):I}function z(x,w){var _,E;return x&&x.state?(E=x.state,w<0?(_=0,w=-w):(_=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?I:(E.window!==null&&E.wbits!==w&&(E.window=null),E.wrap=_,E.wbits=w,B(x))):I}function U(x,w){var _,E;return x?(E=new L,(x.state=E).window=null,(_=z(x,w))!==0&&(x.state=null),_):I}var H,T,A=!0;function k(x){if(A){var w;for(H=new p.Buf32(512),T=new p.Buf32(32),w=0;w<144;)x.lens[w++]=8;for(;w<256;)x.lens[w++]=9;for(;w<280;)x.lens[w++]=7;for(;w<288;)x.lens[w++]=8;for(C(1,x.lens,0,288,H,0,x.work,{bits:9}),w=0;w<32;)x.lens[w++]=5;C(2,x.lens,0,32,T,0,x.work,{bits:5}),A=!1}x.lencode=H,x.lenbits=9,x.distcode=T,x.distbits=5}function v(x,w,_,E){var R,O=x.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new p.Buf8(O.wsize)),E>=O.wsize?(p.arraySet(O.window,w,_-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(E<(R=O.wsize-O.wnext)&&(R=E),p.arraySet(O.window,w,_-E,R,O.wnext),(E-=R)?(p.arraySet(O.window,w,_-E,E,0),O.wnext=E,O.whave=O.wsize):(O.wnext+=R,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=R))),0}y.inflateReset=B,y.inflateReset2=z,y.inflateResetKeep=j,y.inflateInit=function(x){return U(x,15)},y.inflateInit2=U,y.inflate=function(x,w){var _,E,R,O,W,V,X,D,K,N,M,$,Y,ee,Q,Z,le,ae,J,ne,se,me,de,ge,ve=0,he=new p.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return I;(_=x.state).mode===12&&(_.mode=13),W=x.next_out,R=x.output,X=x.avail_out,O=x.next_in,E=x.input,V=x.avail_in,D=_.hold,K=_.bits,N=V,M=X,me=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;K<16;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(2&_.wrap&&D===35615){he[_.check=0]=255&D,he[1]=D>>>8&255,_.check=m(_.check,he,2,0),K=D=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&D)<<8)+(D>>8))%31){x.msg="incorrect header check",_.mode=30;break}if((15&D)!=8){x.msg="unknown compression method",_.mode=30;break}if(K-=4,se=8+(15&(D>>>=4)),_.wbits===0)_.wbits=se;else if(se>_.wbits){x.msg="invalid window size",_.mode=30;break}_.dmax=1<<se,x.adler=_.check=1,_.mode=512&D?10:12,K=D=0;break;case 2:for(;K<16;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(_.flags=D,(255&_.flags)!=8){x.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){x.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=D>>8&1),512&_.flags&&(he[0]=255&D,he[1]=D>>>8&255,_.check=m(_.check,he,2,0)),K=D=0,_.mode=3;case 3:for(;K<32;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}_.head&&(_.head.time=D),512&_.flags&&(he[0]=255&D,he[1]=D>>>8&255,he[2]=D>>>16&255,he[3]=D>>>24&255,_.check=m(_.check,he,4,0)),K=D=0,_.mode=4;case 4:for(;K<16;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}_.head&&(_.head.xflags=255&D,_.head.os=D>>8),512&_.flags&&(he[0]=255&D,he[1]=D>>>8&255,_.check=m(_.check,he,2,0)),K=D=0,_.mode=5;case 5:if(1024&_.flags){for(;K<16;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}_.length=D,_.head&&(_.head.extra_len=D),512&_.flags&&(he[0]=255&D,he[1]=D>>>8&255,_.check=m(_.check,he,2,0)),K=D=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(V<($=_.length)&&($=V),$&&(_.head&&(se=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),p.arraySet(_.head.extra,E,O,$,se)),512&_.flags&&(_.check=m(_.check,E,$,O)),V-=$,O+=$,_.length-=$),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(V===0)break e;for($=0;se=E[O+$++],_.head&&se&&_.length<65536&&(_.head.name+=String.fromCharCode(se)),se&&$<V;);if(512&_.flags&&(_.check=m(_.check,E,$,O)),V-=$,O+=$,se)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(V===0)break e;for($=0;se=E[O+$++],_.head&&se&&_.length<65536&&(_.head.comment+=String.fromCharCode(se)),se&&$<V;);if(512&_.flags&&(_.check=m(_.check,E,$,O)),V-=$,O+=$,se)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;K<16;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(D!==(65535&_.check)){x.msg="header crc mismatch",_.mode=30;break}K=D=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),x.adler=_.check=0,_.mode=12;break;case 10:for(;K<32;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}x.adler=_.check=P(D),K=D=0,_.mode=11;case 11:if(_.havedict===0)return x.next_out=W,x.avail_out=X,x.next_in=O,x.avail_in=V,_.hold=D,_.bits=K,2;x.adler=_.check=1,_.mode=12;case 12:if(w===5||w===6)break e;case 13:if(_.last){D>>>=7&K,K-=7&K,_.mode=27;break}for(;K<3;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}switch(_.last=1&D,K-=1,3&(D>>>=1)){case 0:_.mode=14;break;case 1:if(k(_),_.mode=20,w!==6)break;D>>>=2,K-=2;break e;case 2:_.mode=17;break;case 3:x.msg="invalid block type",_.mode=30}D>>>=2,K-=2;break;case 14:for(D>>>=7&K,K-=7&K;K<32;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if((65535&D)!=(D>>>16^65535)){x.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&D,K=D=0,_.mode=15,w===6)break e;case 15:_.mode=16;case 16:if($=_.length){if(V<$&&($=V),X<$&&($=X),$===0)break e;p.arraySet(R,E,O,$,W),V-=$,O+=$,X-=$,W+=$,_.length-=$;break}_.mode=12;break;case 17:for(;K<14;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(_.nlen=257+(31&D),D>>>=5,K-=5,_.ndist=1+(31&D),D>>>=5,K-=5,_.ncode=4+(15&D),D>>>=4,K-=4,286<_.nlen||30<_.ndist){x.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;K<3;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}_.lens[Me[_.have++]]=7&D,D>>>=3,K-=3}for(;_.have<19;)_.lens[Me[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,de={bits:_.lenbits},me=C(0,_.lens,0,19,_.lencode,0,_.work,de),_.lenbits=de.bits,me){x.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;Z=(ve=_.lencode[D&(1<<_.lenbits)-1])>>>16&255,le=65535&ve,!((Q=ve>>>24)<=K);){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(le<16)D>>>=Q,K-=Q,_.lens[_.have++]=le;else{if(le===16){for(ge=Q+2;K<ge;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(D>>>=Q,K-=Q,_.have===0){x.msg="invalid bit length repeat",_.mode=30;break}se=_.lens[_.have-1],$=3+(3&D),D>>>=2,K-=2}else if(le===17){for(ge=Q+3;K<ge;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}K-=Q,se=0,$=3+(7&(D>>>=Q)),D>>>=3,K-=3}else{for(ge=Q+7;K<ge;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}K-=Q,se=0,$=11+(127&(D>>>=Q)),D>>>=7,K-=7}if(_.have+$>_.nlen+_.ndist){x.msg="invalid bit length repeat",_.mode=30;break}for(;$--;)_.lens[_.have++]=se}}if(_.mode===30)break;if(_.lens[256]===0){x.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,de={bits:_.lenbits},me=C(1,_.lens,0,_.nlen,_.lencode,0,_.work,de),_.lenbits=de.bits,me){x.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,de={bits:_.distbits},me=C(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,de),_.distbits=de.bits,me){x.msg="invalid distances set",_.mode=30;break}if(_.mode=20,w===6)break e;case 20:_.mode=21;case 21:if(6<=V&&258<=X){x.next_out=W,x.avail_out=X,x.next_in=O,x.avail_in=V,_.hold=D,_.bits=K,S(x,M),W=x.next_out,R=x.output,X=x.avail_out,O=x.next_in,E=x.input,V=x.avail_in,D=_.hold,K=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;Z=(ve=_.lencode[D&(1<<_.lenbits)-1])>>>16&255,le=65535&ve,!((Q=ve>>>24)<=K);){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(Z&&!(240&Z)){for(ae=Q,J=Z,ne=le;Z=(ve=_.lencode[ne+((D&(1<<ae+J)-1)>>ae)])>>>16&255,le=65535&ve,!(ae+(Q=ve>>>24)<=K);){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}D>>>=ae,K-=ae,_.back+=ae}if(D>>>=Q,K-=Q,_.back+=Q,_.length=le,Z===0){_.mode=26;break}if(32&Z){_.back=-1,_.mode=12;break}if(64&Z){x.msg="invalid literal/length code",_.mode=30;break}_.extra=15&Z,_.mode=22;case 22:if(_.extra){for(ge=_.extra;K<ge;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}_.length+=D&(1<<_.extra)-1,D>>>=_.extra,K-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;Z=(ve=_.distcode[D&(1<<_.distbits)-1])>>>16&255,le=65535&ve,!((Q=ve>>>24)<=K);){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(!(240&Z)){for(ae=Q,J=Z,ne=le;Z=(ve=_.distcode[ne+((D&(1<<ae+J)-1)>>ae)])>>>16&255,le=65535&ve,!(ae+(Q=ve>>>24)<=K);){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}D>>>=ae,K-=ae,_.back+=ae}if(D>>>=Q,K-=Q,_.back+=Q,64&Z){x.msg="invalid distance code",_.mode=30;break}_.offset=le,_.extra=15&Z,_.mode=24;case 24:if(_.extra){for(ge=_.extra;K<ge;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}_.offset+=D&(1<<_.extra)-1,D>>>=_.extra,K-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){x.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(X===0)break e;if($=M-X,_.offset>$){if(($=_.offset-$)>_.whave&&_.sane){x.msg="invalid distance too far back",_.mode=30;break}Y=$>_.wnext?($-=_.wnext,_.wsize-$):_.wnext-$,$>_.length&&($=_.length),ee=_.window}else ee=R,Y=W-_.offset,$=_.length;for(X<$&&($=X),X-=$,_.length-=$;R[W++]=ee[Y++],--$;);_.length===0&&(_.mode=21);break;case 26:if(X===0)break e;R[W++]=_.length,X--,_.mode=21;break;case 27:if(_.wrap){for(;K<32;){if(V===0)break e;V--,D|=E[O++]<<K,K+=8}if(M-=X,x.total_out+=M,_.total+=M,M&&(x.adler=_.check=_.flags?m(_.check,R,M,W-M):b(_.check,R,M,W-M)),M=X,(_.flags?D:P(D))!==_.check){x.msg="incorrect data check",_.mode=30;break}K=D=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;K<32;){if(V===0)break e;V--,D+=E[O++]<<K,K+=8}if(D!==(4294967295&_.total)){x.msg="incorrect length check",_.mode=30;break}K=D=0}_.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return I}return x.next_out=W,x.avail_out=X,x.next_in=O,x.avail_in=V,_.hold=D,_.bits=K,(_.wsize||M!==x.avail_out&&_.mode<30&&(_.mode<27||w!==4))&&v(x,x.output,x.next_out,M-x.avail_out)?(_.mode=31,-4):(N-=x.avail_in,M-=x.avail_out,x.total_in+=N,x.total_out+=M,_.total+=M,_.wrap&&M&&(x.adler=_.check=_.flags?m(_.check,R,M,x.next_out-M):b(_.check,R,M,x.next_out-M)),x.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(N==0&&M===0||w===4)&&me===0&&(me=-5),me)},y.inflateEnd=function(x){if(!x||!x.state)return I;var w=x.state;return w.window&&(w.window=null),x.state=null,0},y.inflateGetHeader=function(x,w){var _;return x&&x.state&&2&(_=x.state).wrap?((_.head=w).done=!1,0):I},y.inflateSetDictionary=function(x,w){var _,E=w.length;return x&&x.state?(_=x.state).wrap!==0&&_.mode!==11?I:_.mode===11&&b(1,w,E,0)!==_.check?-3:v(x,w,E,E)?(_.mode=31,-4):(_.havedict=1,0):I},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,y){var p=h("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(I,P,L,j,B,z,U,H){var T,A,k,v,x,w,_,E,R,O=H.bits,W=0,V=0,X=0,D=0,K=0,N=0,M=0,$=0,Y=0,ee=0,Q=null,Z=0,le=new p.Buf16(16),ae=new p.Buf16(16),J=null,ne=0;for(W=0;W<=15;W++)le[W]=0;for(V=0;V<j;V++)le[P[L+V]]++;for(K=O,D=15;1<=D&&le[D]===0;D--);if(D<K&&(K=D),D===0)return B[z++]=20971520,B[z++]=20971520,H.bits=1,0;for(X=1;X<D&&le[X]===0;X++);for(K<X&&(K=X),W=$=1;W<=15;W++)if($<<=1,($-=le[W])<0)return-1;if(0<$&&(I===0||D!==1))return-1;for(ae[1]=0,W=1;W<15;W++)ae[W+1]=ae[W]+le[W];for(V=0;V<j;V++)P[L+V]!==0&&(U[ae[P[L+V]]++]=V);if(w=I===0?(Q=J=U,19):I===1?(Q=b,Z-=257,J=m,ne-=257,256):(Q=S,J=C,-1),W=X,x=z,M=V=ee=0,k=-1,v=(Y=1<<(N=K))-1,I===1&&852<Y||I===2&&592<Y)return 1;for(;;){for(_=W-M,R=U[V]<w?(E=0,U[V]):U[V]>w?(E=J[ne+U[V]],Q[Z+U[V]]):(E=96,0),T=1<<W-M,X=A=1<<N;B[x+(ee>>M)+(A-=T)]=_<<24|E<<16|R|0,A!==0;);for(T=1<<W-1;ee&T;)T>>=1;if(T!==0?(ee&=T-1,ee+=T):ee=0,V++,--le[W]==0){if(W===D)break;W=P[L+U[V]]}if(K<W&&(ee&v)!==k){for(M===0&&(M=K),x+=X,$=1<<(N=W-M);N+M<D&&!(($-=le[N+M])<=0);)N++,$<<=1;if(Y+=1<<N,I===1&&852<Y||I===2&&592<Y)return 1;B[k=ee&v]=K<<24|N<<16|x-z|0}}return ee!==0&&(B[x+ee]=W-M<<24|64<<16|0),H.bits=K,0}},{"../utils/common":41}],51:[function(h,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,y){var p=h("../utils/common");function b(J){for(var ne=J.length;0<=--ne;)J[ne]=0}var m=256,S=286,C=30,I=15,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(576);b(z);var U=new Array(60);b(U);var H=new Array(512);b(H);var T=new Array(256);b(T);var A=new Array(29);b(A);var k,v,x,w=new Array(C);function _(J,ne,se,me,de){this.static_tree=J,this.extra_bits=ne,this.extra_base=se,this.elems=me,this.max_length=de,this.has_stree=J&&J.length}function E(J,ne){this.dyn_tree=J,this.max_code=0,this.stat_desc=ne}function R(J){return J<256?H[J]:H[256+(J>>>7)]}function O(J,ne){J.pending_buf[J.pending++]=255&ne,J.pending_buf[J.pending++]=ne>>>8&255}function W(J,ne,se){J.bi_valid>16-se?(J.bi_buf|=ne<<J.bi_valid&65535,O(J,J.bi_buf),J.bi_buf=ne>>16-J.bi_valid,J.bi_valid+=se-16):(J.bi_buf|=ne<<J.bi_valid&65535,J.bi_valid+=se)}function V(J,ne,se){W(J,se[2*ne],se[2*ne+1])}function X(J,ne){for(var se=0;se|=1&J,J>>>=1,se<<=1,0<--ne;);return se>>>1}function D(J,ne,se){var me,de,ge=new Array(16),ve=0;for(me=1;me<=I;me++)ge[me]=ve=ve+se[me-1]<<1;for(de=0;de<=ne;de++){var he=J[2*de+1];he!==0&&(J[2*de]=X(ge[he]++,he))}}function K(J){var ne;for(ne=0;ne<S;ne++)J.dyn_ltree[2*ne]=0;for(ne=0;ne<C;ne++)J.dyn_dtree[2*ne]=0;for(ne=0;ne<19;ne++)J.bl_tree[2*ne]=0;J.dyn_ltree[512]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function N(J){8<J.bi_valid?O(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function M(J,ne,se,me){var de=2*ne,ge=2*se;return J[de]<J[ge]||J[de]===J[ge]&&me[ne]<=me[se]}function $(J,ne,se){for(var me=J.heap[se],de=se<<1;de<=J.heap_len&&(de<J.heap_len&&M(ne,J.heap[de+1],J.heap[de],J.depth)&&de++,!M(ne,me,J.heap[de],J.depth));)J.heap[se]=J.heap[de],se=de,de<<=1;J.heap[se]=me}function Y(J,ne,se){var me,de,ge,ve,he=0;if(J.last_lit!==0)for(;me=J.pending_buf[J.d_buf+2*he]<<8|J.pending_buf[J.d_buf+2*he+1],de=J.pending_buf[J.l_buf+he],he++,me===0?V(J,de,ne):(V(J,(ge=T[de])+m+1,ne),(ve=P[ge])!==0&&W(J,de-=A[ge],ve),V(J,ge=R(--me),se),(ve=L[ge])!==0&&W(J,me-=w[ge],ve)),he<J.last_lit;);V(J,256,ne)}function ee(J,ne){var se,me,de,ge=ne.dyn_tree,ve=ne.stat_desc.static_tree,he=ne.stat_desc.has_stree,Me=ne.stat_desc.elems,Ee=-1;for(J.heap_len=0,J.heap_max=573,se=0;se<Me;se++)ge[2*se]!==0?(J.heap[++J.heap_len]=Ee=se,J.depth[se]=0):ge[2*se+1]=0;for(;J.heap_len<2;)ge[2*(de=J.heap[++J.heap_len]=Ee<2?++Ee:0)]=1,J.depth[de]=0,J.opt_len--,he&&(J.static_len-=ve[2*de+1]);for(ne.max_code=Ee,se=J.heap_len>>1;1<=se;se--)$(J,ge,se);for(de=Me;se=J.heap[1],J.heap[1]=J.heap[J.heap_len--],$(J,ge,1),me=J.heap[1],J.heap[--J.heap_max]=se,J.heap[--J.heap_max]=me,ge[2*de]=ge[2*se]+ge[2*me],J.depth[de]=(J.depth[se]>=J.depth[me]?J.depth[se]:J.depth[me])+1,ge[2*se+1]=ge[2*me+1]=de,J.heap[1]=de++,$(J,ge,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(Fe,De){var et,He,Ze,Je,We,Ce,Be=De.dyn_tree,Xe=De.max_code,Ke=De.stat_desc.static_tree,rt=De.stat_desc.has_stree,dt=De.stat_desc.extra_bits,Le=De.stat_desc.extra_base,yt=De.stat_desc.max_length,ht=0;for(Je=0;Je<=I;Je++)Fe.bl_count[Je]=0;for(Be[2*Fe.heap[Fe.heap_max]+1]=0,et=Fe.heap_max+1;et<573;et++)yt<(Je=Be[2*Be[2*(He=Fe.heap[et])+1]+1]+1)&&(Je=yt,ht++),Be[2*He+1]=Je,Xe<He||(Fe.bl_count[Je]++,We=0,Le<=He&&(We=dt[He-Le]),Ce=Be[2*He],Fe.opt_len+=Ce*(Je+We),rt&&(Fe.static_len+=Ce*(Ke[2*He+1]+We)));if(ht!==0){do{for(Je=yt-1;Fe.bl_count[Je]===0;)Je--;Fe.bl_count[Je]--,Fe.bl_count[Je+1]+=2,Fe.bl_count[yt]--,ht-=2}while(0<ht);for(Je=yt;Je!==0;Je--)for(He=Fe.bl_count[Je];He!==0;)Xe<(Ze=Fe.heap[--et])||(Be[2*Ze+1]!==Je&&(Fe.opt_len+=(Je-Be[2*Ze+1])*Be[2*Ze],Be[2*Ze+1]=Je),He--)}}(J,ne),D(ge,Ee,J.bl_count)}function Q(J,ne,se){var me,de,ge=-1,ve=ne[1],he=0,Me=7,Ee=4;for(ve===0&&(Me=138,Ee=3),ne[2*(se+1)+1]=65535,me=0;me<=se;me++)de=ve,ve=ne[2*(me+1)+1],++he<Me&&de===ve||(he<Ee?J.bl_tree[2*de]+=he:de!==0?(de!==ge&&J.bl_tree[2*de]++,J.bl_tree[32]++):he<=10?J.bl_tree[34]++:J.bl_tree[36]++,ge=de,Ee=(he=0)===ve?(Me=138,3):de===ve?(Me=6,3):(Me=7,4))}function Z(J,ne,se){var me,de,ge=-1,ve=ne[1],he=0,Me=7,Ee=4;for(ve===0&&(Me=138,Ee=3),me=0;me<=se;me++)if(de=ve,ve=ne[2*(me+1)+1],!(++he<Me&&de===ve)){if(he<Ee)for(;V(J,de,J.bl_tree),--he!=0;);else de!==0?(de!==ge&&(V(J,de,J.bl_tree),he--),V(J,16,J.bl_tree),W(J,he-3,2)):he<=10?(V(J,17,J.bl_tree),W(J,he-3,3)):(V(J,18,J.bl_tree),W(J,he-11,7));ge=de,Ee=(he=0)===ve?(Me=138,3):de===ve?(Me=6,3):(Me=7,4)}}b(w);var le=!1;function ae(J,ne,se,me){W(J,0+(me?1:0),3),function(de,ge,ve,he){N(de),O(de,ve),O(de,~ve),p.arraySet(de.pending_buf,de.window,ge,ve,de.pending),de.pending+=ve}(J,ne,se)}y._tr_init=function(J){le||(function(){var ne,se,me,de,ge,ve=new Array(16);for(de=me=0;de<28;de++)for(A[de]=me,ne=0;ne<1<<P[de];ne++)T[me++]=de;for(T[me-1]=de,de=ge=0;de<16;de++)for(w[de]=ge,ne=0;ne<1<<L[de];ne++)H[ge++]=de;for(ge>>=7;de<C;de++)for(w[de]=ge<<7,ne=0;ne<1<<L[de]-7;ne++)H[256+ge++]=de;for(se=0;se<=I;se++)ve[se]=0;for(ne=0;ne<=143;)z[2*ne+1]=8,ne++,ve[8]++;for(;ne<=255;)z[2*ne+1]=9,ne++,ve[9]++;for(;ne<=279;)z[2*ne+1]=7,ne++,ve[7]++;for(;ne<=287;)z[2*ne+1]=8,ne++,ve[8]++;for(D(z,287,ve),ne=0;ne<C;ne++)U[2*ne+1]=5,U[2*ne]=X(ne,5);k=new _(z,P,257,S,I),v=new _(U,L,0,C,I),x=new _(new Array(0),j,0,19,7)}(),le=!0),J.l_desc=new E(J.dyn_ltree,k),J.d_desc=new E(J.dyn_dtree,v),J.bl_desc=new E(J.bl_tree,x),J.bi_buf=0,J.bi_valid=0,K(J)},y._tr_stored_block=ae,y._tr_flush_block=function(J,ne,se,me){var de,ge,ve=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(he){var Me,Ee=4093624447;for(Me=0;Me<=31;Me++,Ee>>>=1)if(1&Ee&&he.dyn_ltree[2*Me]!==0)return 0;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return 1;for(Me=32;Me<m;Me++)if(he.dyn_ltree[2*Me]!==0)return 1;return 0}(J)),ee(J,J.l_desc),ee(J,J.d_desc),ve=function(he){var Me;for(Q(he,he.dyn_ltree,he.l_desc.max_code),Q(he,he.dyn_dtree,he.d_desc.max_code),ee(he,he.bl_desc),Me=18;3<=Me&&he.bl_tree[2*B[Me]+1]===0;Me--);return he.opt_len+=3*(Me+1)+5+5+4,Me}(J),de=J.opt_len+3+7>>>3,(ge=J.static_len+3+7>>>3)<=de&&(de=ge)):de=ge=se+5,se+4<=de&&ne!==-1?ae(J,ne,se,me):J.strategy===4||ge===de?(W(J,2+(me?1:0),3),Y(J,z,U)):(W(J,4+(me?1:0),3),function(he,Me,Ee,Fe){var De;for(W(he,Me-257,5),W(he,Ee-1,5),W(he,Fe-4,4),De=0;De<Fe;De++)W(he,he.bl_tree[2*B[De]+1],3);Z(he,he.dyn_ltree,Me-1),Z(he,he.dyn_dtree,Ee-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,ve+1),Y(J,J.dyn_ltree,J.dyn_dtree)),K(J),me&&N(J)},y._tr_tally=function(J,ne,se){return J.pending_buf[J.d_buf+2*J.last_lit]=ne>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&ne,J.pending_buf[J.l_buf+J.last_lit]=255&se,J.last_lit++,ne===0?J.dyn_ltree[2*se]++:(J.matches++,ne--,J.dyn_ltree[2*(T[se]+m+1)]++,J.dyn_dtree[2*R(ne)]++),J.last_lit===J.lit_bufsize-1},y._tr_align=function(J){W(J,2,3),V(J,256,z),function(ne){ne.bi_valid===16?(O(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(h,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,y){(function(p){(function(b,m){if(!b.setImmediate){var S,C,I,P,L=1,j={},B=!1,z=b.document,U=Object.getPrototypeOf&&Object.getPrototypeOf(b);U=U&&U.setTimeout?U:b,S={}.toString.call(b.process)==="[object process]"?function(k){o.nextTick(function(){T(k)})}:function(){if(b.postMessage&&!b.importScripts){var k=!0,v=b.onmessage;return b.onmessage=function(){k=!1},b.postMessage("","*"),b.onmessage=v,k}}()?(P="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",A,!1):b.attachEvent("onmessage",A),function(k){b.postMessage(P+k,"*")}):b.MessageChannel?((I=new MessageChannel).port1.onmessage=function(k){T(k.data)},function(k){I.port2.postMessage(k)}):z&&"onreadystatechange"in z.createElement("script")?(C=z.documentElement,function(k){var v=z.createElement("script");v.onreadystatechange=function(){T(k),v.onreadystatechange=null,C.removeChild(v),v=null},C.appendChild(v)}):function(k){setTimeout(T,0,k)},U.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var v=new Array(arguments.length-1),x=0;x<v.length;x++)v[x]=arguments[x+1];var w={callback:k,args:v};return j[L]=w,S(L),L++},U.clearImmediate=H}function H(k){delete j[k]}function T(k){if(B)setTimeout(T,0,k);else{var v=j[k];if(v){B=!0;try{(function(x){var w=x.callback,_=x.args;switch(_.length){case 0:w();break;case 1:w(_[0]);break;case 2:w(_[0],_[1]);break;case 3:w(_[0],_[1],_[2]);break;default:w.apply(void 0,_)}})(v)}finally{H(k),B=!1}}}}function A(k){k.source===b&&typeof k.data=="string"&&k.data.indexOf(P)===0&&T(+k.data.slice(P.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,l){(function(o){(function(){var s=/[\\^$.*+?()[\]{}|]/g,c=RegExp(s.source),a=typeof o=="object"&&o&&o.Object===Object&&o,i=typeof self=="object"&&self&&self.Object===Object&&self,u=a||i||Function("return this")(),f=Object.prototype.toString,d=u.Symbol,h=d?d.prototype:void 0,g=h?h.toString:void 0;function y(p){if(typeof p=="string")return p;if(function(m){return typeof m=="symbol"||function(S){return!!S&&typeof S=="object"}(m)&&f.call(m)=="[object Symbol]"}(p))return g?g.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}n.exports=function(p){var b;return(p=(b=p)==null?"":y(b))&&c.test(p)?p.replace(s,"\\$&"):p}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,l){(function(o){(function(){var s="[object Arguments]",c="[object Map]",a="[object Object]",i="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[s]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[c]=b["[object Number]"]=b[a]=b["[object RegExp]"]=b[i]=b["[object String]"]=b["[object WeakMap]"]=!1;var m=typeof o=="object"&&o&&o.Object===Object&&o,S=typeof self=="object"&&self&&self.Object===Object&&self,C=m||S||Function("return this")(),I=typeof l=="object"&&l&&!l.nodeType&&l,P=I&&typeof n=="object"&&n&&!n.nodeType&&n,L=P&&P.exports===I&&m.process,j=function(){try{return L&&L.binding("util")}catch{}}(),B=j&&j.isTypedArray;function z(te,be,q,G){for(var ie=-1,ce=te?te.length:0;++ie<ce;){var pe=te[ie];be(G,pe,q(pe),te)}return G}function U(te,be){for(var q=-1,G=te?te.length:0;++q<G;)if(be(te[q],q,te))return!0;return!1}function H(te){var be=!1;if(te!=null&&typeof te.toString!="function")try{be=!!(te+"")}catch{}return be}function T(te){var be=-1,q=Array(te.size);return te.forEach(function(G,ie){q[++be]=[ie,G]}),q}function A(te){var be=-1,q=Array(te.size);return te.forEach(function(G){q[++be]=G}),q}var k,v,x,w=Array.prototype,_=Function.prototype,E=Object.prototype,R=C["__core-js_shared__"],O=(k=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",W=_.toString,V=E.hasOwnProperty,X=E.toString,D=RegExp("^"+W.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=C.Symbol,N=C.Uint8Array,M=E.propertyIsEnumerable,$=w.splice,Y=(v=Object.keys,x=Object,function(te){return v(x(te))}),ee=Oe(C,"DataView"),Q=Oe(C,"Map"),Z=Oe(C,"Promise"),le=Oe(C,"Set"),ae=Oe(C,"WeakMap"),J=Oe(Object,"create"),ne=ye(ee),se=ye(Q),me=ye(Z),de=ye(le),ge=ye(ae),ve=K?K.prototype:void 0,he=ve?ve.valueOf:void 0,Me=ve?ve.toString:void 0;function Ee(te){var be=-1,q=te?te.length:0;for(this.clear();++be<q;){var G=te[be];this.set(G[0],G[1])}}function Fe(te){var be=-1,q=te?te.length:0;for(this.clear();++be<q;){var G=te[be];this.set(G[0],G[1])}}function De(te){var be=-1,q=te?te.length:0;for(this.clear();++be<q;){var G=te[be];this.set(G[0],G[1])}}function et(te){var be=-1,q=te?te.length:0;for(this.__data__=new De;++be<q;)this.add(te[be])}function He(te){this.__data__=new Fe(te)}function Ze(te,be){var q=it(te)||ut(te)?function(pe,Te){for(var ke=-1,we=Array(pe);++ke<pe;)we[ke]=Te(ke);return we}(te.length,String):[],G=q.length,ie=!!G;for(var ce in te)!V.call(te,ce)||ie&&(ce=="length"||Ve(ce,G))||q.push(ce);return q}function Je(te,be){for(var q=te.length;q--;)if(Ge(te[q][0],be))return q;return-1}function We(te,be,q,G){return Be(te,function(ie,ce,pe){be(G,ie,q(ie),pe)}),G}Ee.prototype.clear=function(){this.__data__=J?J(null):{}},Ee.prototype.delete=function(te){return this.has(te)&&delete this.__data__[te]},Ee.prototype.get=function(te){var be=this.__data__;if(J){var q=be[te];return q==="__lodash_hash_undefined__"?void 0:q}return V.call(be,te)?be[te]:void 0},Ee.prototype.has=function(te){var be=this.__data__;return J?be[te]!==void 0:V.call(be,te)},Ee.prototype.set=function(te,be){return this.__data__[te]=J&&be===void 0?"__lodash_hash_undefined__":be,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(te){var be=this.__data__,q=Je(be,te);return!(q<0)&&(q==be.length-1?be.pop():$.call(be,q,1),!0)},Fe.prototype.get=function(te){var be=this.__data__,q=Je(be,te);return q<0?void 0:be[q][1]},Fe.prototype.has=function(te){return Je(this.__data__,te)>-1},Fe.prototype.set=function(te,be){var q=this.__data__,G=Je(q,te);return G<0?q.push([te,be]):q[G][1]=be,this},De.prototype.clear=function(){this.__data__={hash:new Ee,map:new(Q||Fe),string:new Ee}},De.prototype.delete=function(te){return Ae(this,te).delete(te)},De.prototype.get=function(te){return Ae(this,te).get(te)},De.prototype.has=function(te){return Ae(this,te).has(te)},De.prototype.set=function(te,be){return Ae(this,te).set(te,be),this},et.prototype.add=et.prototype.push=function(te){return this.__data__.set(te,"__lodash_hash_undefined__"),this},et.prototype.has=function(te){return this.__data__.has(te)},He.prototype.clear=function(){this.__data__=new Fe},He.prototype.delete=function(te){return this.__data__.delete(te)},He.prototype.get=function(te){return this.__data__.get(te)},He.prototype.has=function(te){return this.__data__.has(te)},He.prototype.set=function(te,be){var q=this.__data__;if(q instanceof Fe){var G=q.__data__;if(!Q||G.length<199)return G.push([te,be]),this;q=this.__data__=new De(G)}return q.set(te,be),this};var Ce,Be=(Ce=function(te,be){return te&&Xe(te,be,Wt)},function(te,be){if(te==null)return te;if(!st(te))return Ce(te,be);for(var q=te.length,G=-1,ie=Object(te);++G<q&&be(ie[G],G,ie)!==!1;);return te}),Xe=function(te){return function(be,q,G){for(var ie=-1,ce=Object(be),pe=G(be),Te=pe.length;Te--;){var ke=pe[++ie];if(q(ce[ke],ke,ce)===!1)break}return be}}();function Ke(te,be){for(var q=0,G=(be=Pe(be,te)?[be]:re(be)).length;te!=null&&q<G;)te=te[ue(be[q++])];return q&&q==G?te:void 0}function rt(te,be){return te!=null&&be in Object(te)}function dt(te,be,q,G,ie){return te===be||(te==null||be==null||!vt(te)&&!Dt(be)?te!=te&&be!=be:function(ce,pe,Te,ke,we,xe){var je=it(ce),qe=it(pe),Ne="[object Array]",Qe="[object Array]";je||(Ne=(Ne=Ye(ce))==s?a:Ne),qe||(Qe=(Qe=Ye(pe))==s?a:Qe);var mt=Ne==a&&!H(ce),lt=Qe==a&&!H(pe),Pt=Ne==Qe;if(Pt&&!mt)return xe||(xe=new He),je||$t(ce)?_e(ce,pe,Te,ke,we,xe):function(At,kt,Ln,mi,zo,Nr,_n){switch(Ln){case"[object DataView]":if(At.byteLength!=kt.byteLength||At.byteOffset!=kt.byteOffset)return!1;At=At.buffer,kt=kt.buffer;case"[object ArrayBuffer]":return!(At.byteLength!=kt.byteLength||!mi(new N(At),new N(kt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ge(+At,+kt);case"[object Error]":return At.name==kt.name&&At.message==kt.message;case"[object RegExp]":case"[object String]":return At==kt+"";case c:var Fn=T;case i:var As=2&Nr;if(Fn||(Fn=A),At.size!=kt.size&&!As)return!1;var Uo=_n.get(At);if(Uo)return Uo==kt;Nr|=1,_n.set(At,kt);var Fi=_e(Fn(At),Fn(kt),mi,zo,Nr,_n);return _n.delete(At),Fi;case"[object Symbol]":if(he)return he.call(At)==he.call(kt)}return!1}(ce,pe,Ne,Te,ke,we,xe);if(!(2&we)){var It=mt&&V.call(ce,"__wrapped__"),Ft=lt&&V.call(pe,"__wrapped__");if(It||Ft){var gr=It?ce.value():ce,un=Ft?pe.value():pe;return xe||(xe=new He),Te(gr,un,ke,we,xe)}}return Pt?(xe||(xe=new He),function(At,kt,Ln,mi,zo,Nr){var _n=2&zo,Fn=Wt(At),As=Fn.length,Uo=Wt(kt).length;if(As!=Uo&&!_n)return!1;for(var Fi=As;Fi--;){var Bn=Fn[Fi];if(!(_n?Bn in kt:V.call(kt,Bn)))return!1}var af=Nr.get(At);if(af&&Nr.get(kt))return af==kt;var Ho=!0;Nr.set(At,kt),Nr.set(kt,At);for(var sc=_n;++Fi<As;){Bn=Fn[Fi];var $o=At[Bn],Wo=kt[Bn];if(mi)var lf=_n?mi(Wo,$o,Bn,kt,At,Nr):mi($o,Wo,Bn,At,kt,Nr);if(!(lf===void 0?$o===Wo||Ln($o,Wo,mi,zo,Nr):lf)){Ho=!1;break}sc||(sc=Bn=="constructor")}if(Ho&&!sc){var Vo=At.constructor,qo=kt.constructor;Vo==qo||!("constructor"in At)||!("constructor"in kt)||typeof Vo=="function"&&Vo instanceof Vo&&typeof qo=="function"&&qo instanceof qo||(Ho=!1)}return Nr.delete(At),Nr.delete(kt),Ho}(ce,pe,Te,ke,we,xe)):!1}(te,be,dt,q,G,ie))}function Le(te){return!(!vt(te)||function(be){return!!O&&O in be}(te))&&(ft(te)||H(te)?D:y).test(ye(te))}function yt(te){return typeof te=="function"?te:te==null?Gt:typeof te=="object"?it(te)?function(G,ie){return Pe(G)&&at(ie)?wt(ue(G),ie):function(ce){var pe=function(Te,ke,we){var xe=Te==null?void 0:Ke(Te,ke);return xe===void 0?we:xe}(ce,G);return pe===void 0&&pe===ie?function(Te,ke){return Te!=null&&function(we,xe,je){xe=Pe(xe,we)?[xe]:re(xe);for(var qe,Ne=-1,Qe=xe.length;++Ne<Qe;){var mt=ue(xe[Ne]);if(!(qe=we!=null&&je(we,mt)))break;we=we[mt]}return qe||!!(Qe=we?we.length:0)&&pt(Qe)&&Ve(mt,Qe)&&(it(we)||ut(we))}(Te,ke,rt)}(ce,G):dt(ie,pe,void 0,3)}}(te[0],te[1]):function(G){var ie=function(ce){for(var pe=Wt(ce),Te=pe.length;Te--;){var ke=pe[Te],we=ce[ke];pe[Te]=[ke,we,at(we)]}return pe}(G);return ie.length==1&&ie[0][2]?wt(ie[0][0],ie[0][1]):function(ce){return ce===G||function(pe,Te,ke,we){var xe=ke.length,je=xe;if(pe==null)return!je;for(pe=Object(pe);xe--;){var qe=ke[xe];if(qe[2]?qe[1]!==pe[qe[0]]:!(qe[0]in pe))return!1}for(;++xe<je;){var Ne=(qe=ke[xe])[0],Qe=pe[Ne],mt=qe[1];if(qe[2]){if(Qe===void 0&&!(Ne in pe))return!1}else{var lt=new He,Pt;if(!(Pt===void 0?dt(mt,Qe,we,3,lt):Pt))return!1}}return!0}(ce,G,ie)}}(te):Pe(be=te)?(q=ue(be),function(G){return G==null?void 0:G[q]}):function(G){return function(ie){return Ke(ie,G)}}(be);var be,q}function ht(te){if(q=(be=te)&&be.constructor,G=typeof q=="function"&&q.prototype||E,be!==G)return Y(te);var be,q,G,ie=[];for(var ce in Object(te))V.call(te,ce)&&ce!="constructor"&&ie.push(ce);return ie}function re(te){return it(te)?te:ct(te)}function _e(te,be,q,G,ie,ce){var pe=2&ie,Te=te.length,ke=be.length;if(Te!=ke&&!(pe&&ke>Te))return!1;var we=ce.get(te);if(we&&ce.get(be))return we==be;var xe=-1,je=!0,qe=1&ie?new et:void 0;for(ce.set(te,be),ce.set(be,te);++xe<Te;){var Ne=te[xe],Qe=be[xe];if(G)var mt=pe?G(Qe,Ne,xe,be,te,ce):G(Ne,Qe,xe,te,be,ce);if(mt!==void 0){if(mt)continue;je=!1;break}if(qe){if(!U(be,function(lt,Pt){if(!qe.has(Pt)&&(Ne===lt||q(Ne,lt,G,ie,ce)))return qe.add(Pt)})){je=!1;break}}else if(Ne!==Qe&&!q(Ne,Qe,G,ie,ce)){je=!1;break}}return ce.delete(te),ce.delete(be),je}function Ae(te,be){var q,G,ie=te.__data__;return((G=typeof(q=be))=="string"||G=="number"||G=="symbol"||G=="boolean"?q!=="__proto__":q===null)?ie[typeof be=="string"?"string":"hash"]:ie.map}function Oe(te,be){var q=function(G,ie){return G==null?void 0:G[ie]}(te,be);return Le(q)?q:void 0}var Ye=function(te){return X.call(te)};function Ve(te,be){return!!(be=be??9007199254740991)&&(typeof te=="number"||p.test(te))&&te>-1&&te%1==0&&te<be}function Pe(te,be){if(it(te))return!1;var q=typeof te;return!(q!="number"&&q!="symbol"&&q!="boolean"&&te!=null&&!Tt(te))||f.test(te)||!u.test(te)||be!=null&&te in Object(be)}function at(te){return te==te&&!vt(te)}function wt(te,be){return function(q){return q!=null&&q[te]===be&&(be!==void 0||te in Object(q))}}(ee&&Ye(new ee(new ArrayBuffer(1)))!="[object DataView]"||Q&&Ye(new Q)!=c||Z&&Ye(Z.resolve())!="[object Promise]"||le&&Ye(new le)!=i||ae&&Ye(new ae)!="[object WeakMap]")&&(Ye=function(te){var be=X.call(te),q=be==a?te.constructor:void 0,G=q?ye(q):void 0;if(G)switch(G){case ne:return"[object DataView]";case se:return c;case me:return"[object Promise]";case de:return i;case ge:return"[object WeakMap]"}return be});var ct=ot(function(te){var be;te=(be=te)==null?"":function(G){if(typeof G=="string")return G;if(Tt(G))return Me?Me.call(G):"";var ie=G+"";return ie=="0"&&1/G==-1/0?"-0":ie}(be);var q=[];return d.test(te)&&q.push(""),te.replace(h,function(G,ie,ce,pe){q.push(ce?pe.replace(g,"$1"):ie||G)}),q});function ue(te){if(typeof te=="string"||Tt(te))return te;var be=te+"";return be=="0"&&1/te==-1/0?"-0":be}function ye(te){if(te!=null){try{return W.call(te)}catch{}try{return te+""}catch{}}return""}var Se,$e=(Se=function(te,be,q){V.call(te,q)?te[q].push(be):te[q]=[be]},function(te,be){var q=it(te)?z:We,G={};return q(te,Se,yt(be),G)});function ot(te,be){if(typeof te!="function"||be&&typeof be!="function")throw new TypeError("Expected a function");var q=function(){var G=arguments,ie=be?be.apply(this,G):G[0],ce=q.cache;if(ce.has(ie))return ce.get(ie);var pe=te.apply(this,G);return q.cache=ce.set(ie,pe),pe};return q.cache=new(ot.Cache||De),q}function Ge(te,be){return te===be||te!=te&&be!=be}function ut(te){return function(be){return Dt(be)&&st(be)}(te)&&V.call(te,"callee")&&(!M.call(te,"callee")||X.call(te)==s)}ot.Cache=De;var it=Array.isArray;function st(te){return te!=null&&pt(te.length)&&!ft(te)}function ft(te){var be=vt(te)?X.call(te):"";return be=="[object Function]"||be=="[object GeneratorFunction]"}function pt(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=9007199254740991}function vt(te){var be=typeof te;return!!te&&(be=="object"||be=="function")}function Dt(te){return!!te&&typeof te=="object"}function Tt(te){return typeof te=="symbol"||Dt(te)&&X.call(te)=="[object Symbol]"}var $t=B?function(te){return function(be){return te(be)}}(B):function(te){return Dt(te)&&pt(te.length)&&!!b[X.call(te)]};function Wt(te){return st(te)?Ze(te):ht(te)}function Gt(te){return te}n.exports=$e}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,l){var o=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||function(c){return!!c&&typeof c=="object"}(s)&&o.call(s)=="[object Boolean]"}},{}],445:[function(e,n,l){(function(o){(function(){var s="[object Arguments]",c="[object Map]",a="[object Object]",i="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[s]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[c]=d["[object Number]"]=d[a]=d["[object RegExp]"]=d[i]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof o=="object"&&o&&o.Object===Object&&o,g=typeof self=="object"&&self&&self.Object===Object&&self,y=h||g||Function("return this")(),p=typeof l=="object"&&l&&!l.nodeType&&l,b=p&&typeof n=="object"&&n&&!n.nodeType&&n,m=b&&b.exports===p,S=m&&h.process,C=function(){try{return S&&S.binding&&S.binding("util")}catch{}}(),I=C&&C.isTypedArray;function P(ue,ye){for(var Se=-1,$e=ue==null?0:ue.length;++Se<$e;)if(ye(ue[Se],Se,ue))return!0;return!1}function L(ue){var ye=-1,Se=Array(ue.size);return ue.forEach(function($e,ot){Se[++ye]=[ot,$e]}),Se}function j(ue){var ye=-1,Se=Array(ue.size);return ue.forEach(function($e){Se[++ye]=$e}),Se}var B,z,U,H=Array.prototype,T=Function.prototype,A=Object.prototype,k=y["__core-js_shared__"],v=T.toString,x=A.hasOwnProperty,w=(B=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",_=A.toString,E=RegExp("^"+v.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=m?y.Buffer:void 0,O=y.Symbol,W=y.Uint8Array,V=A.propertyIsEnumerable,X=H.splice,D=O?O.toStringTag:void 0,K=Object.getOwnPropertySymbols,N=R?R.isBuffer:void 0,M=(z=Object.keys,U=Object,function(ue){return z(U(ue))}),$=rt(y,"DataView"),Y=rt(y,"Map"),ee=rt(y,"Promise"),Q=rt(y,"Set"),Z=rt(y,"WeakMap"),le=rt(Object,"create"),ae=ht($),J=ht(Y),ne=ht(ee),se=ht(Q),me=ht(Z),de=O?O.prototype:void 0,ge=de?de.valueOf:void 0;function ve(ue){var ye=-1,Se=ue==null?0:ue.length;for(this.clear();++ye<Se;){var $e=ue[ye];this.set($e[0],$e[1])}}function he(ue){var ye=-1,Se=ue==null?0:ue.length;for(this.clear();++ye<Se;){var $e=ue[ye];this.set($e[0],$e[1])}}function Me(ue){var ye=-1,Se=ue==null?0:ue.length;for(this.clear();++ye<Se;){var $e=ue[ye];this.set($e[0],$e[1])}}function Ee(ue){var ye=-1,Se=ue==null?0:ue.length;for(this.__data__=new Me;++ye<Se;)this.add(ue[ye])}function Fe(ue){var ye=this.__data__=new he(ue);this.size=ye.size}function De(ue,ye){var Se=Ae(ue),$e=!Se&&_e(ue),ot=!Se&&!$e&&Oe(ue),Ge=!Se&&!$e&&!ot&&wt(ue),ut=Se||$e||ot||Ge,it=ut?function(pt,vt){for(var Dt=-1,Tt=Array(pt);++Dt<pt;)Tt[Dt]=vt(Dt);return Tt}(ue.length,String):[],st=it.length;for(var ft in ue)!x.call(ue,ft)||ut&&(ft=="length"||ot&&(ft=="offset"||ft=="parent")||Ge&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||yt(ft,st))||it.push(ft);return it}function et(ue,ye){for(var Se=ue.length;Se--;)if(re(ue[Se][0],ye))return Se;return-1}function He(ue){return ue==null?ue===void 0?"[object Undefined]":"[object Null]":D&&D in Object(ue)?function(ye){var Se=x.call(ye,D),$e=ye[D];try{ye[D]=void 0;var ot=!0}catch{}var Ge=_.call(ye);return ot&&(Se?ye[D]=$e:delete ye[D]),Ge}(ue):function(ye){return _.call(ye)}(ue)}function Ze(ue){return at(ue)&&He(ue)==s}function Je(ue,ye,Se,$e,ot){return ue===ye||(ue==null||ye==null||!at(ue)&&!at(ye)?ue!=ue&&ye!=ye:function(Ge,ut,it,st,ft,pt){var vt=Ae(Ge),Dt=Ae(ut),Tt=vt?"[object Array]":Le(Ge),$t=Dt?"[object Array]":Le(ut),Wt=(Tt=Tt==s?a:Tt)==a,Gt=($t=$t==s?a:$t)==a,te=Tt==$t;if(te&&Oe(Ge)){if(!Oe(ut))return!1;vt=!0,Wt=!1}if(te&&!Wt)return pt||(pt=new Fe),vt||wt(Ge)?Be(Ge,ut,it,st,ft,pt):function(ce,pe,Te,ke,we,xe,je){switch(Te){case"[object DataView]":if(ce.byteLength!=pe.byteLength||ce.byteOffset!=pe.byteOffset)return!1;ce=ce.buffer,pe=pe.buffer;case"[object ArrayBuffer]":return!(ce.byteLength!=pe.byteLength||!xe(new W(ce),new W(pe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return re(+ce,+pe);case"[object Error]":return ce.name==pe.name&&ce.message==pe.message;case"[object RegExp]":case"[object String]":return ce==pe+"";case c:var qe=L;case i:var Ne=1&ke;if(qe||(qe=j),ce.size!=pe.size&&!Ne)return!1;var Qe=je.get(ce);if(Qe)return Qe==pe;ke|=2,je.set(ce,pe);var mt=Be(qe(ce),qe(pe),ke,we,xe,je);return je.delete(ce),mt;case"[object Symbol]":if(ge)return ge.call(ce)==ge.call(pe)}return!1}(Ge,ut,Tt,it,st,ft,pt);if(!(1&it)){var be=Wt&&x.call(Ge,"__wrapped__"),q=Gt&&x.call(ut,"__wrapped__");if(be||q){var G=be?Ge.value():Ge,ie=q?ut.value():ut;return pt||(pt=new Fe),ft(G,ie,it,st,pt)}}return te?(pt||(pt=new Fe),function(ce,pe,Te,ke,we,xe){var je=1&Te,qe=Xe(ce),Ne=qe.length,Qe=Xe(pe).length;if(Ne!=Qe&&!je)return!1;for(var mt=Ne;mt--;){var lt=qe[mt];if(!(je?lt in pe:x.call(pe,lt)))return!1}var Pt=xe.get(ce);if(Pt&&xe.get(pe))return Pt==pe;var It=!0;xe.set(ce,pe),xe.set(pe,ce);for(var Ft=je;++mt<Ne;){lt=qe[mt];var gr=ce[lt],un=pe[lt];if(ke)var At=je?ke(un,gr,lt,pe,ce,xe):ke(gr,un,lt,ce,pe,xe);if(!(At===void 0?gr===un||we(gr,un,Te,ke,xe):At)){It=!1;break}Ft||(Ft=lt=="constructor")}if(It&&!Ft){var kt=ce.constructor,Ln=pe.constructor;kt==Ln||!("constructor"in ce)||!("constructor"in pe)||typeof kt=="function"&&kt instanceof kt&&typeof Ln=="function"&&Ln instanceof Ln||(It=!1)}return xe.delete(ce),xe.delete(pe),It}(Ge,ut,it,st,ft,pt)):!1}(ue,ye,Se,$e,Je,ot))}function We(ue){return!(!Pe(ue)||function(ye){return!!w&&w in ye}(ue))&&(Ye(ue)?E:u).test(ht(ue))}function Ce(ue){if(Se=(ye=ue)&&ye.constructor,$e=typeof Se=="function"&&Se.prototype||A,ye!==$e)return M(ue);var ye,Se,$e,ot=[];for(var Ge in Object(ue))x.call(ue,Ge)&&Ge!="constructor"&&ot.push(Ge);return ot}function Be(ue,ye,Se,$e,ot,Ge){var ut=1&Se,it=ue.length,st=ye.length;if(it!=st&&!(ut&&st>it))return!1;var ft=Ge.get(ue);if(ft&&Ge.get(ye))return ft==ye;var pt=-1,vt=!0,Dt=2&Se?new Ee:void 0;for(Ge.set(ue,ye),Ge.set(ye,ue);++pt<it;){var Tt=ue[pt],$t=ye[pt];if($e)var Wt=ut?$e($t,Tt,pt,ye,ue,Ge):$e(Tt,$t,pt,ue,ye,Ge);if(Wt!==void 0){if(Wt)continue;vt=!1;break}if(Dt){if(!P(ye,function(Gt,te){if(be=te,!Dt.has(be)&&(Tt===Gt||ot(Tt,Gt,Se,$e,Ge)))return Dt.push(te);var be})){vt=!1;break}}else if(Tt!==$t&&!ot(Tt,$t,Se,$e,Ge)){vt=!1;break}}return Ge.delete(ue),Ge.delete(ye),vt}function Xe(ue){return function(ye,Se,$e){var ot=Se(ye);return Ae(ye)?ot:function(Ge,ut){for(var it=-1,st=ut.length,ft=Ge.length;++it<st;)Ge[ft+it]=ut[it];return Ge}(ot,$e(ye))}(ue,ct,dt)}function Ke(ue,ye){var Se,$e,ot=ue.__data__;return(($e=typeof(Se=ye))=="string"||$e=="number"||$e=="symbol"||$e=="boolean"?Se!=="__proto__":Se===null)?ot[typeof ye=="string"?"string":"hash"]:ot.map}function rt(ue,ye){var Se=function($e,ot){return $e==null?void 0:$e[ot]}(ue,ye);return We(Se)?Se:void 0}ve.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ve.prototype.delete=function(ue){var ye=this.has(ue)&&delete this.__data__[ue];return this.size-=ye?1:0,ye},ve.prototype.get=function(ue){var ye=this.__data__;if(le){var Se=ye[ue];return Se==="__lodash_hash_undefined__"?void 0:Se}return x.call(ye,ue)?ye[ue]:void 0},ve.prototype.has=function(ue){var ye=this.__data__;return le?ye[ue]!==void 0:x.call(ye,ue)},ve.prototype.set=function(ue,ye){var Se=this.__data__;return this.size+=this.has(ue)?0:1,Se[ue]=le&&ye===void 0?"__lodash_hash_undefined__":ye,this},he.prototype.clear=function(){this.__data__=[],this.size=0},he.prototype.delete=function(ue){var ye=this.__data__,Se=et(ye,ue);return!(Se<0)&&(Se==ye.length-1?ye.pop():X.call(ye,Se,1),--this.size,!0)},he.prototype.get=function(ue){var ye=this.__data__,Se=et(ye,ue);return Se<0?void 0:ye[Se][1]},he.prototype.has=function(ue){return et(this.__data__,ue)>-1},he.prototype.set=function(ue,ye){var Se=this.__data__,$e=et(Se,ue);return $e<0?(++this.size,Se.push([ue,ye])):Se[$e][1]=ye,this},Me.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(Y||he),string:new ve}},Me.prototype.delete=function(ue){var ye=Ke(this,ue).delete(ue);return this.size-=ye?1:0,ye},Me.prototype.get=function(ue){return Ke(this,ue).get(ue)},Me.prototype.has=function(ue){return Ke(this,ue).has(ue)},Me.prototype.set=function(ue,ye){var Se=Ke(this,ue),$e=Se.size;return Se.set(ue,ye),this.size+=Se.size==$e?0:1,this},Ee.prototype.add=Ee.prototype.push=function(ue){return this.__data__.set(ue,"__lodash_hash_undefined__"),this},Ee.prototype.has=function(ue){return this.__data__.has(ue)},Fe.prototype.clear=function(){this.__data__=new he,this.size=0},Fe.prototype.delete=function(ue){var ye=this.__data__,Se=ye.delete(ue);return this.size=ye.size,Se},Fe.prototype.get=function(ue){return this.__data__.get(ue)},Fe.prototype.has=function(ue){return this.__data__.has(ue)},Fe.prototype.set=function(ue,ye){var Se=this.__data__;if(Se instanceof he){var $e=Se.__data__;if(!Y||$e.length<199)return $e.push([ue,ye]),this.size=++Se.size,this;Se=this.__data__=new Me($e)}return Se.set(ue,ye),this.size=Se.size,this};var dt=K?function(ue){return ue==null?[]:(ue=Object(ue),function(ye,Se){for(var $e=-1,ot=ye==null?0:ye.length,Ge=0,ut=[];++$e<ot;){var it=ye[$e];Se(it,$e,ye)&&(ut[Ge++]=it)}return ut}(K(ue),function(ye){return V.call(ue,ye)}))}:function(){return[]},Le=He;function yt(ue,ye){return!!(ye=ye??9007199254740991)&&(typeof ue=="number"||f.test(ue))&&ue>-1&&ue%1==0&&ue<ye}function ht(ue){if(ue!=null){try{return v.call(ue)}catch{}try{return ue+""}catch{}}return""}function re(ue,ye){return ue===ye||ue!=ue&&ye!=ye}($&&Le(new $(new ArrayBuffer(1)))!="[object DataView]"||Y&&Le(new Y)!=c||ee&&Le(ee.resolve())!="[object Promise]"||Q&&Le(new Q)!=i||Z&&Le(new Z)!="[object WeakMap]")&&(Le=function(ue){var ye=He(ue),Se=ye==a?ue.constructor:void 0,$e=Se?ht(Se):"";if($e)switch($e){case ae:return"[object DataView]";case J:return c;case ne:return"[object Promise]";case se:return i;case me:return"[object WeakMap]"}return ye});var _e=Ze(function(){return arguments}())?Ze:function(ue){return at(ue)&&x.call(ue,"callee")&&!V.call(ue,"callee")},Ae=Array.isArray,Oe=N||function(){return!1};function Ye(ue){if(!Pe(ue))return!1;var ye=He(ue);return ye=="[object Function]"||ye=="[object GeneratorFunction]"||ye=="[object AsyncFunction]"||ye=="[object Proxy]"}function Ve(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=9007199254740991}function Pe(ue){var ye=typeof ue;return ue!=null&&(ye=="object"||ye=="function")}function at(ue){return ue!=null&&typeof ue=="object"}var wt=I?function(ue){return function(ye){return ue(ye)}}(I):function(ue){return at(ue)&&Ve(ue.length)&&!!d[He(ue)]};function ct(ue){return(ye=ue)!=null&&Ve(ye.length)&&!Ye(ye)?De(ue):Ce(ue);var ye}n.exports=function(ue,ye){return Je(ue,ye)}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,l){(function(o){(function(){var s=typeof o=="object"&&o&&o.Object===Object&&o,c=typeof self=="object"&&self&&self.Object===Object&&self,a=s||c||Function("return this")(),i=Object.prototype,u=i.hasOwnProperty,f=i.toString,d=a.Symbol,h=d?d.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":h&&h in Object(y)?function(p){var b=u.call(p,h),m=p[h];try{p[h]=void 0;var S=!0}catch{}var C=f.call(p);return S&&(b?p[h]=m:delete p[h]),C}(y):function(p){return f.call(p)}(y)}n.exports=function(y){if(!function(b){var m=typeof b;return b!=null&&(m=="object"||m=="function")}(y))return!1;var p=g(y);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,l){n.exports=function(o){return o==null}},{}],448:[function(e,n,l){n.exports=function(o){return o===void 0}},{}],449:[function(e,n,l){(function(o){(function(){var s=/^\[object .+?Constructor\]$/,c=typeof o=="object"&&o&&o.Object===Object&&o,a=typeof self=="object"&&self&&self.Object===Object&&self,i=c||a||Function("return this")();function u(O,W){return!!(O&&O.length)&&function(V,X,D){if(X!=X)return function(M,$,Y,ee){for(var Q=M.length,Z=Y+-1;++Z<Q;)if($(M[Z],Z,M))return Z;return-1}(V,f,D);for(var K=D-1,N=V.length;++K<N;)if(V[K]===X)return K;return-1}(O,W,0)>-1}function f(O){return O!=O}function d(O,W){return O.has(W)}function h(O){var W=-1,V=Array(O.size);return O.forEach(function(X){V[++W]=X}),V}var g,y=Array.prototype,p=Function.prototype,b=Object.prototype,m=i["__core-js_shared__"],S=(g=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",C=p.toString,I=b.hasOwnProperty,P=b.toString,L=RegExp("^"+C.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=y.splice,B=E(i,"Map"),z=E(i,"Set"),U=E(Object,"create");function H(O){var W=-1,V=O?O.length:0;for(this.clear();++W<V;){var X=O[W];this.set(X[0],X[1])}}function T(O){var W=-1,V=O?O.length:0;for(this.clear();++W<V;){var X=O[W];this.set(X[0],X[1])}}function A(O){var W=-1,V=O?O.length:0;for(this.clear();++W<V;){var X=O[W];this.set(X[0],X[1])}}function k(O){var W=-1,V=O?O.length:0;for(this.__data__=new A;++W<V;)this.add(O[W])}function v(O,W){for(var V,X,D=O.length;D--;)if((V=O[D][0])===(X=W)||V!=V&&X!=X)return D;return-1}function x(O){return!(!R(O)||(W=O,S&&S in W))&&(function(V){var X=R(V)?P.call(V):"";return X=="[object Function]"||X=="[object GeneratorFunction]"}(O)||function(V){var X=!1;if(V!=null&&typeof V.toString!="function")try{X=!!(V+"")}catch{}return X}(O)?L:s).test(function(V){if(V!=null){try{return C.call(V)}catch{}try{return V+""}catch{}}return""}(O));var W}H.prototype.clear=function(){this.__data__=U?U(null):{}},H.prototype.delete=function(O){return this.has(O)&&delete this.__data__[O]},H.prototype.get=function(O){var W=this.__data__;if(U){var V=W[O];return V==="__lodash_hash_undefined__"?void 0:V}return I.call(W,O)?W[O]:void 0},H.prototype.has=function(O){var W=this.__data__;return U?W[O]!==void 0:I.call(W,O)},H.prototype.set=function(O,W){return this.__data__[O]=U&&W===void 0?"__lodash_hash_undefined__":W,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(O){var W=this.__data__,V=v(W,O);return!(V<0)&&(V==W.length-1?W.pop():j.call(W,V,1),!0)},T.prototype.get=function(O){var W=this.__data__,V=v(W,O);return V<0?void 0:W[V][1]},T.prototype.has=function(O){return v(this.__data__,O)>-1},T.prototype.set=function(O,W){var V=this.__data__,X=v(V,O);return X<0?V.push([O,W]):V[X][1]=W,this},A.prototype.clear=function(){this.__data__={hash:new H,map:new(B||T),string:new H}},A.prototype.delete=function(O){return _(this,O).delete(O)},A.prototype.get=function(O){return _(this,O).get(O)},A.prototype.has=function(O){return _(this,O).has(O)},A.prototype.set=function(O,W){return _(this,O).set(O,W),this},k.prototype.add=k.prototype.push=function(O){return this.__data__.set(O,"__lodash_hash_undefined__"),this},k.prototype.has=function(O){return this.__data__.has(O)};var w=z&&1/h(new z([,-0]))[1]==1/0?function(O){return new z(O)}:function(){};function _(O,W){var V,X,D=O.__data__;return((X=typeof(V=W))=="string"||X=="number"||X=="symbol"||X=="boolean"?V!=="__proto__":V===null)?D[typeof W=="string"?"string":"hash"]:D.map}function E(O,W){var V=function(X,D){return X==null?void 0:X[D]}(O,W);return x(V)?V:void 0}function R(O){var W=typeof O;return!!O&&(W=="object"||W=="function")}n.exports=function(O){return O&&O.length?function(W,V,X){var D=-1,K=u,N=W.length,M=!0,$=[],Y=$;if(N>=200){var ee=w(W);if(ee)return h(ee);M=!1,K=d,Y=new k}else Y=$;e:for(;++D<N;){var Q=W[D],Z=Q;if(Q=Q!==0?Q:0,M&&Z==Z){for(var le=Y.length;le--;)if(Y[le]===Z)continue e;$.push(Q)}else K(Y,Z,X)||(Y!==$&&Y.push(Z),$.push(Q))}return $}(O):[]}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,l){var o=e("inherits"),s=e("hash-base"),c=e("safe-buffer").Buffer,a=new Array(16);function i(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(y,p){return y<<p|y>>>32-p}function f(y,p,b,m,S,C,I){return u(y+(p&b|~p&m)+S+C|0,I)+p|0}function d(y,p,b,m,S,C,I){return u(y+(p&m|b&~m)+S+C|0,I)+p|0}function h(y,p,b,m,S,C,I){return u(y+(p^b^m)+S+C|0,I)+p|0}function g(y,p,b,m,S,C,I){return u(y+(b^(p|~m))+S+C|0,I)+p|0}o(i,s),i.prototype._update=function(){for(var y=a,p=0;p<16;++p)y[p]=this._block.readInt32LE(4*p);var b=this._a,m=this._b,S=this._c,C=this._d;b=f(b,m,S,C,y[0],3614090360,7),C=f(C,b,m,S,y[1],3905402710,12),S=f(S,C,b,m,y[2],606105819,17),m=f(m,S,C,b,y[3],3250441966,22),b=f(b,m,S,C,y[4],4118548399,7),C=f(C,b,m,S,y[5],1200080426,12),S=f(S,C,b,m,y[6],2821735955,17),m=f(m,S,C,b,y[7],4249261313,22),b=f(b,m,S,C,y[8],1770035416,7),C=f(C,b,m,S,y[9],2336552879,12),S=f(S,C,b,m,y[10],4294925233,17),m=f(m,S,C,b,y[11],2304563134,22),b=f(b,m,S,C,y[12],1804603682,7),C=f(C,b,m,S,y[13],4254626195,12),S=f(S,C,b,m,y[14],2792965006,17),b=d(b,m=f(m,S,C,b,y[15],1236535329,22),S,C,y[1],4129170786,5),C=d(C,b,m,S,y[6],3225465664,9),S=d(S,C,b,m,y[11],643717713,14),m=d(m,S,C,b,y[0],3921069994,20),b=d(b,m,S,C,y[5],3593408605,5),C=d(C,b,m,S,y[10],38016083,9),S=d(S,C,b,m,y[15],3634488961,14),m=d(m,S,C,b,y[4],3889429448,20),b=d(b,m,S,C,y[9],568446438,5),C=d(C,b,m,S,y[14],3275163606,9),S=d(S,C,b,m,y[3],4107603335,14),m=d(m,S,C,b,y[8],1163531501,20),b=d(b,m,S,C,y[13],2850285829,5),C=d(C,b,m,S,y[2],4243563512,9),S=d(S,C,b,m,y[7],1735328473,14),b=h(b,m=d(m,S,C,b,y[12],2368359562,20),S,C,y[5],4294588738,4),C=h(C,b,m,S,y[8],2272392833,11),S=h(S,C,b,m,y[11],1839030562,16),m=h(m,S,C,b,y[14],4259657740,23),b=h(b,m,S,C,y[1],2763975236,4),C=h(C,b,m,S,y[4],1272893353,11),S=h(S,C,b,m,y[7],4139469664,16),m=h(m,S,C,b,y[10],3200236656,23),b=h(b,m,S,C,y[13],681279174,4),C=h(C,b,m,S,y[0],3936430074,11),S=h(S,C,b,m,y[3],3572445317,16),m=h(m,S,C,b,y[6],76029189,23),b=h(b,m,S,C,y[9],3654602809,4),C=h(C,b,m,S,y[12],3873151461,11),S=h(S,C,b,m,y[15],530742520,16),b=g(b,m=h(m,S,C,b,y[2],3299628645,23),S,C,y[0],4096336452,6),C=g(C,b,m,S,y[7],1126891415,10),S=g(S,C,b,m,y[14],2878612391,15),m=g(m,S,C,b,y[5],4237533241,21),b=g(b,m,S,C,y[12],1700485571,6),C=g(C,b,m,S,y[3],2399980690,10),S=g(S,C,b,m,y[10],4293915773,15),m=g(m,S,C,b,y[1],2240044497,21),b=g(b,m,S,C,y[8],1873313359,6),C=g(C,b,m,S,y[15],4264355552,10),S=g(S,C,b,m,y[6],2734768916,15),m=g(m,S,C,b,y[13],1309151649,21),b=g(b,m,S,C,y[4],4149444226,6),C=g(C,b,m,S,y[11],3174756917,10),S=g(S,C,b,m,y[2],718787259,15),m=g(m,S,C,b,y[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+m|0,this._c=this._c+S|0,this._d=this._d+C|0},i.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=c.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=i},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,l){var o=e("bn.js"),s=e("brorand");function c(a){this.rand=a||new s.Rand}n.exports=c,c.create=function(a){return new c(a)},c.prototype._randbelow=function(a){var i=a.bitLength(),u=Math.ceil(i/8);do var f=new o(this.rand.generate(u));while(f.cmp(a)>=0);return f},c.prototype._randrange=function(a,i){var u=i.sub(a);return a.add(this._randbelow(u))},c.prototype.test=function(a,i,u){var f=a.bitLength(),d=o.mont(a),h=new o(1).toRed(d);i||(i=Math.max(1,f/48|0));for(var g=a.subn(1),y=0;!g.testn(y);y++);for(var p=a.shrn(y),b=g.toRed(d);i>0;i--){var m=this._randrange(new o(2),g);u&&u(m);var S=m.toRed(d).redPow(p);if(S.cmp(h)!==0&&S.cmp(b)!==0){for(var C=1;C<y;C++){if((S=S.redSqr()).cmp(h)===0)return!1;if(S.cmp(b)===0)break}if(C===y)return!1}}return!0},c.prototype.getDivisor=function(a,i){var u=a.bitLength(),f=o.mont(a),d=new o(1).toRed(f);i||(i=Math.max(1,u/48|0));for(var h=a.subn(1),g=0;!h.testn(g);g++);for(var y=a.shrn(g),p=h.toRed(f);i>0;i--){var b=this._randrange(new o(2),h),m=a.gcd(b);if(m.cmpn(1)!==0)return m;var S=b.toRed(f).redPow(y);if(S.cmp(d)!==0&&S.cmp(p)!==0){for(var C=1;C<g;C++){if((S=S.redSqr()).cmp(d)===0)return S.fromRed().subn(1).gcd(a);if(S.cmp(p)===0)break}if(C===g)return(S=S.redSqr()).fromRed().subn(1).gcd(a)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],453:[function(e,n,l){function o(s,c){if(!s)throw new Error(c||"Assertion failed")}n.exports=o,o.equal=function(s,c,a){if(s!=c)throw new Error(a||"Assertion failed: "+s+" != "+c)}},{}],454:[function(e,n,l){var o=l;function s(a){return a.length===1?"0"+a:a}function c(a){for(var i="",u=0;u<a.length;u++)i+=s(a[u].toString(16));return i}o.toArray=function(a,i){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var f=0;f<a.length;f++)u[f]=0|a[f];return u}if(i==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),f=0;f<a.length;f+=2)u.push(parseInt(a[f]+a[f+1],16));else for(f=0;f<a.length;f++){var d=a.charCodeAt(f),h=d>>8,g=255&d;h?u.push(h,g):u.push(g)}return u},o.zero2=s,o.toHex=c,o.encode=function(a,i){return i==="hex"?c(a):a}},{}],455:[function(e,n,l){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,l){var o=e("asn1.js");l.certificate=e("./certificate");var s=o.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=s;var c=o.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=c;var a=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});l.PublicKey=a;var i=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=o.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});l.PrivateKey=u;var f=o.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=f;var d=o.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=d,l.DSAparam=o.define("DSAparam",function(){this.int()});var h=o.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=h;var g=o.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=o.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,l){var o=e("asn1.js"),s=o.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=o.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),i=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=o.define("RelativeDistinguishedName",function(){this.setof(c)}),f=o.define("RDNSequence",function(){this.seqof(u)}),d=o.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),h=o.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),g=o.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=o.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(i),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),p=o.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(e,n,l){var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=e("evp_bytestokey"),i=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(f,d){var h,g=f.toString(),y=g.match(o);if(y){var p="aes"+y[1],b=u.from(y[2],"hex"),m=u.from(y[3].replace(/[\r\n]/g,""),"base64"),S=a(d,b.slice(0,8),parseInt(y[1],10)).key,C=[],I=i.createDecipheriv(p,S,b);C.push(I.update(m)),C.push(I.final()),h=u.concat(C)}else{var P=g.match(c);h=u.from(P[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(s)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,l){var o=e("./asn1"),s=e("./aesid.json"),c=e("./fixProc"),a=e("browserify-aes"),i=e("pbkdf2"),u=e("safe-buffer").Buffer;function f(d){var h;typeof d!="object"||u.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=u.from(d));var g,y,p=c(d,h),b=p.tag,m=p.data;switch(b){case"CERTIFICATE":y=o.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=o.PublicKey.decode(m,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=o.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=function(S,C){var I=S.algorithm.decrypt.kde.kdeparams.salt,P=parseInt(S.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=s[S.algorithm.decrypt.cipher.algo.join(".")],j=S.algorithm.decrypt.cipher.iv,B=S.subjectPrivateKey,z=parseInt(L.split("-")[1],10)/8,U=i.pbkdf2Sync(C,I,P,z,"sha1"),H=a.createDecipheriv(L,U,j),T=[];return T.push(H.update(B)),T.push(H.final()),u.concat(T)}(m=o.EncryptedPrivateKey.decode(m,"der"),h);case"PRIVATE KEY":switch(g=(y=o.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:o.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=o.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=o.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+b)}}n.exports=f,f.signature=o.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,l){l.pbkdf2=e("./lib/async"),l.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,l){(function(o){(function(){var s,c,a=e("safe-buffer").Buffer,i=e("./precondition"),u=e("./default-encoding"),f=e("./sync"),d=e("./to-buffer"),h=o.crypto&&o.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function p(){return c||(c=o.process&&o.process.nextTick?o.process.nextTick:o.queueMicrotask?o.queueMicrotask:o.setImmediate?o.setImmediate:o.setTimeout)}function b(m,S,C,I,P){return h.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return h.deriveBits({name:"PBKDF2",salt:S,iterations:C,hash:{name:P}},L,I<<3)}).then(function(L){return a.from(L)})}n.exports=function(m,S,C,I,P,L){typeof P=="function"&&(L=P,P=void 0);var j=g[(P=P||"sha1").toLowerCase()];if(j&&typeof o.Promise=="function"){if(i(C,I),m=d(m,u,"Password"),S=d(S,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(B,z){B.then(function(U){p()(function(){z(null,U)})},function(U){p()(function(){z(U)})})})(function(B){if(o.process&&!o.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(y[B]!==void 0)return y[B];var z=b(s=s||a.alloc(8),s,10,128,B).then(function(){return!0}).catch(function(){return!1});return y[B]=z,z}(j).then(function(B){return B?b(m,S,C,I,j):f(m,S,C,I,P)}),L)}else p()(function(){var B;try{B=f(m,S,C,I,P)}catch(z){return L(z)}L(null,B)})}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,l){(function(o,s){(function(){var c;s.process&&s.process.browser?c="utf-8":s.process&&s.process.version?c=parseInt(o.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,l){var o=Math.pow(2,30)-1;n.exports=function(s,c){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>o||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,n,l){var o=e("create-hash/md5"),s=e("ripemd160"),c=e("sha.js"),a=e("safe-buffer").Buffer,i=e("./precondition"),u=e("./default-encoding"),f=e("./to-buffer"),d=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,p,b){var m=function(j){function B(z){return c(j).update(z).digest()}return j==="rmd160"||j==="ripemd160"?function(z){return new s().update(z).digest()}:j==="md5"?o:B}(y),S=y==="sha512"||y==="sha384"?128:64;p.length>S?p=m(p):p.length<S&&(p=a.concat([p,d],S));for(var C=a.allocUnsafe(S+h[y]),I=a.allocUnsafe(S+h[y]),P=0;P<S;P++)C[P]=54^p[P],I[P]=92^p[P];var L=a.allocUnsafe(S+b+4);C.copy(L,0,0,S),this.ipad1=L,this.ipad2=C,this.opad=I,this.alg=y,this.blocksize=S,this.hash=m,this.size=h[y]}g.prototype.run=function(y,p){return y.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,p,b,m,S){i(b,m);var C=new g(S=S||"sha1",y=f(y,u,"Password"),(p=f(p,u,"Salt")).length),I=a.allocUnsafe(m),P=a.allocUnsafe(p.length+4);p.copy(P,0,0,p.length);for(var L=0,j=h[S],B=Math.ceil(m/j),z=1;z<=B;z++){P.writeUInt32BE(z,p.length);for(var U=C.run(P,C.ipad1),H=U,T=1;T<b;T++){H=C.run(H,C.ipad2);for(var A=0;A<j;A++)U[A]^=H[A]}U.copy(I,L),L+=j}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,l){var o=e("safe-buffer").Buffer;n.exports=function(s,c,a){if(o.isBuffer(s))return s;if(typeof s=="string")return o.from(s,c);if(ArrayBuffer.isView(s))return o.from(s.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,l){(function(o){(function(){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,c,a,i){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var u,f,d=arguments.length;switch(d){case 0:case 1:return o.nextTick(s);case 2:return o.nextTick(function(){s.call(null,c)});case 3:return o.nextTick(function(){s.call(null,c,a)});case 4:return o.nextTick(function(){s.call(null,c,a,i)});default:for(u=new Array(d-1),f=0;f<u.length;)u[f++]=arguments[f];return o.nextTick(function(){s.apply(null,u)})}}}:n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,l){var o,s,c=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(S){if(o===setTimeout)return setTimeout(S,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(S,0);try{return o(S,0)}catch{try{return o.call(null,S,0)}catch{return o.call(this,S,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{s=typeof clearTimeout=="function"?clearTimeout:i}catch{s=i}})();var f,d=[],h=!1,g=-1;function y(){h&&f&&(h=!1,f.length?d=f.concat(d):g=-1,d.length&&p())}function p(){if(!h){var S=u(y);h=!0;for(var C=d.length;C;){for(f=d,d=[];++g<C;)f&&f[g].run();g=-1,C=d.length}f=null,h=!1,function(I){if(s===clearTimeout)return clearTimeout(I);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(I);try{s(I)}catch{try{return s.call(null,I)}catch{return s.call(this,I)}}}(S)}}function b(S,C){this.fun=S,this.array=C}function m(){}c.nextTick=function(S){var C=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)C[I-1]=arguments[I];d.push(new b(S,C)),d.length!==1||h||u(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=m,c.addListener=m,c.once=m,c.off=m,c.removeListener=m,c.removeAllListeners=m,c.emit=m,c.prependListener=m,c.prependOnceListener=m,c.listeners=function(S){return[]},c.binding=function(S){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(S){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,n,l){l.publicEncrypt=e("./publicEncrypt"),l.privateDecrypt=e("./privateDecrypt"),l.privateEncrypt=function(o,s){return l.publicEncrypt(o,s,!0)},l.publicDecrypt=function(o,s){return l.privateDecrypt(o,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,l){var o=e("create-hash"),s=e("safe-buffer").Buffer;function c(a){var i=s.allocUnsafe(4);return i.writeUInt32BE(a,0),i}n.exports=function(a,i){for(var u,f=s.alloc(0),d=0;f.length<i;)u=c(d++),f=s.concat([f,o("sha1").update(a).update(u).digest()]);return f.slice(0,i)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],471:[function(e,n,l){var o=e("parse-asn1"),s=e("./mgf"),c=e("./xor"),a=e("bn.js"),i=e("browserify-rsa"),u=e("create-hash"),f=e("./withPublic"),d=e("safe-buffer").Buffer;n.exports=function(h,g,y){var p;p=h.padding?h.padding:y?1:4;var b,m=o(h),S=m.modulus.byteLength();if(g.length>S||new a(g).cmp(m.modulus)>=0)throw new Error("decryption error");b=y?f(new a(g),m):i(g,m);var C=d.alloc(S-b.length);if(b=d.concat([C,b],S),p===4)return function(I,P){var L=I.modulus.byteLength(),j=u("sha1").update(d.alloc(0)).digest(),B=j.length;if(P[0]!==0)throw new Error("decryption error");var z=P.slice(1,B+1),U=P.slice(B+1),H=c(z,s(U,B)),T=c(U,s(H,L-B-1));if(function(k,v){k=d.from(k),v=d.from(v);var x=0,w=k.length;k.length!==v.length&&(x++,w=Math.min(k.length,v.length));for(var _=-1;++_<w;)x+=k[_]^v[_];return x}(j,T.slice(0,B)))throw new Error("decryption error");for(var A=B;T[A]===0;)A++;if(T[A++]!==1)throw new Error("decryption error");return T.slice(A)}(m,b);if(p===1)return function(I,P,L){for(var j=P.slice(0,2),B=2,z=0;P[B++]!==0;)if(B>=P.length){z++;break}var U=P.slice(2,B-1);if((j.toString("hex")!=="0002"&&!L||j.toString("hex")!=="0001"&&L)&&z++,U.length<8&&z++,z)throw new Error("decryption error");return P.slice(B)}(0,b,y);if(p===3)return b;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,l){var o=e("parse-asn1"),s=e("randombytes"),c=e("create-hash"),a=e("./mgf"),i=e("./xor"),u=e("bn.js"),f=e("./withPublic"),d=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,y,p){var b;b=g.padding?g.padding:p?1:4;var m,S=o(g);if(b===4)m=function(C,I){var P=C.modulus.byteLength(),L=I.length,j=c("sha1").update(h.alloc(0)).digest(),B=j.length,z=2*B;if(L>P-z-2)throw new Error("message too long");var U=h.alloc(P-L-z-2),H=P-B-1,T=s(B),A=i(h.concat([j,U,h.alloc(1,1),I],H),a(T,H)),k=i(T,a(A,B));return new u(h.concat([h.alloc(1),k,A],P))}(S,y);else if(b===1)m=function(C,I,P){var L,j=I.length,B=C.modulus.byteLength();if(j>B-11)throw new Error("message too long");return L=P?h.alloc(B-j-3,255):function(z){for(var U,H=h.allocUnsafe(z),T=0,A=s(2*z),k=0;T<z;)k===A.length&&(A=s(2*z),k=0),(U=A[k++])&&(H[T++]=U);return H}(B-j-3),new u(h.concat([h.from([0,P?1:2]),L,h.alloc(1),I],B))}(S,y,p);else{if(b!==3)throw new Error("unknown padding");if((m=new u(y)).cmp(S.modulus)>=0)throw new Error("data too long for modulus")}return p?d(m,S):f(m,S)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,l){var o=e("bn.js"),s=e("safe-buffer").Buffer;n.exports=function(c,a){return s.from(c.toRed(o.mont(a.modulus)).redPow(new o(a.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,l){n.exports=function(o,s){for(var c=o.length,a=-1;++a<c;)o[a]^=s[a];return o}},{}],475:[function(e,n,l){(function(o,s){(function(){var c=e("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?n.exports=function(i,u){if(i>4294967295)throw new RangeError("requested too many random bytes");var f=c.allocUnsafe(i);if(i>0)if(i>65536)for(var d=0;d<i;d+=65536)a.getRandomValues(f.slice(d,d+65536));else a.getRandomValues(f);return typeof u=="function"?o.nextTick(function(){u(null,f)}):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,l){(function(o,s){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=e("safe-buffer"),i=e("randombytes"),u=a.Buffer,f=a.kMaxLength,d=s.crypto||s.msCrypto,h=Math.pow(2,32)-1;function g(b,m){if(typeof b!="number"||b!=b)throw new TypeError("offset must be a number");if(b>h||b<0)throw new TypeError("offset must be a uint32");if(b>f||b>m)throw new RangeError("offset out of range")}function y(b,m,S){if(typeof b!="number"||b!=b)throw new TypeError("size must be a number");if(b>h||b<0)throw new TypeError("size must be a uint32");if(b+m>S||b>f)throw new RangeError("buffer too small")}function p(b,m,S,C){if(o.browser){var I=b.buffer,P=new Uint8Array(I,m,S);return d.getRandomValues(P),C?void o.nextTick(function(){C(null,b)}):b}if(!C)return i(S).copy(b,m),b;i(S,function(L,j){if(L)return C(L);j.copy(b,m),C(null,b)})}d&&d.getRandomValues||!o.browser?(l.randomFill=function(b,m,S,C){if(!(u.isBuffer(b)||b instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")C=m,m=0,S=b.length;else if(typeof S=="function")C=S,S=b.length-m;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return g(m,b.length),y(S,m,b.length),p(b,m,S,C)},l.randomFillSync=function(b,m,S){if(m===void 0&&(m=0),!(u.isBuffer(b)||b instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(m,b.length),S===void 0&&(S=b.length-m),y(S,m,b.length),p(b,m,S)}):(l.randomFill=c,l.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,l){var o={};function s(a,i,u){u||(u=Error);var f=function(d){var h,g;function y(p,b,m){return d.call(this,function(S,C,I){return typeof i=="string"?i:i(S,C,I)}(p,b,m))||this}return g=d,(h=y).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,y}(u);f.prototype.name=u.name,f.prototype.code=a,o[a]=f}function c(a,i){if(Array.isArray(a)){var u=a.length;return a=a.map(function(f){return String(f)}),u>2?"one of ".concat(i," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(i," ").concat(a[0]," or ").concat(a[1]):"of ".concat(i," ").concat(a[0])}return"of ".concat(i," ").concat(String(a))}s("ERR_INVALID_OPT_VALUE",function(a,i){return'The value "'+i+'" is invalid for option "'+a+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(a,i,u){var f,d,h;if(typeof i=="string"&&(d="not ",i.substr(0,d.length)===d)?(f="must not be",i=i.replace(/^not /,"")):f="must be",function(y,p,b){return(b===void 0||b>y.length)&&(b=y.length),y.substring(b-p.length,b)===p}(a," argument"))h="The ".concat(a," ").concat(f," ").concat(c(i,"type"));else{var g=function(y,p,b){return typeof b!="number"&&(b=0),!(b+p.length>y.length)&&y.indexOf(p,b)!==-1}(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(g," ").concat(f," ").concat(c(i,"type"))}return h+=". Received type ".concat(typeof u)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=o},{}],478:[function(e,n,l){(function(o){(function(){var s=Object.keys||function(y){var p=[];for(var b in y)p.push(b);return p};n.exports=d;var c=e("./_stream_readable"),a=e("./_stream_writable");e("inherits")(d,c);for(var i=s(a.prototype),u=0;u<i.length;u++){var f=i[u];d.prototype[f]||(d.prototype[f]=a.prototype[f])}function d(y){if(!(this instanceof d))return new d(y);c.call(this,y),a.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||o.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,l){n.exports=s;var o=e("./_stream_transform");function s(c){if(!(this instanceof s))return new s(c);o.call(this,c)}e("inherits")(s,o),s.prototype._transform=function(c,a,i){i(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,l){(function(o,s){(function(){var c;n.exports=H,H.ReadableState=U,e("events").EventEmitter;var a=function(N,M){return N.listeners(M).length},i=e("./internal/streams/stream"),u=e("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=e("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var g,y,p,b=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),S=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,I=C.ERR_INVALID_ARG_TYPE,P=C.ERR_STREAM_PUSH_AFTER_EOF,L=C.ERR_METHOD_NOT_IMPLEMENTED,j=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(H,i);var B=m.errorOrDestroy,z=["error","close","destroy","pause","resume"];function U(N,M,$){c=c||e("./_stream_duplex"),N=N||{},typeof $!="boolean"&&($=M instanceof c),this.objectMode=!!N.objectMode,$&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=S(this,N,"readableHighWaterMark",$),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(N.encoding),this.encoding=N.encoding)}function H(N){if(c=c||e("./_stream_duplex"),!(this instanceof H))return new H(N);var M=this instanceof c;this._readableState=new U(N,this,M),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),i.call(this)}function T(N,M,$,Y,ee){d("readableAddChunk",M);var Q,Z=N._readableState;if(M===null)Z.reading=!1,function(le,ae){if(d("onEofChunk"),!ae.ended){if(ae.decoder){var J=ae.decoder.end();J&&J.length&&(ae.buffer.push(J),ae.length+=ae.objectMode?1:J.length)}ae.ended=!0,ae.sync?v(le):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,x(le)))}}(N,Z);else if(ee||(Q=function(le,ae){var J;ne=ae,u.isBuffer(ne)||ne instanceof f||typeof ae=="string"||ae===void 0||le.objectMode||(J=new I("chunk",["string","Buffer","Uint8Array"],ae));var ne;return J}(Z,M)),Q)B(N,Q);else if(Z.objectMode||M&&M.length>0)if(typeof M=="string"||Z.objectMode||Object.getPrototypeOf(M)===u.prototype||(M=function(le){return u.from(le)}(M)),Y)Z.endEmitted?B(N,new j):A(N,Z,M,!0);else if(Z.ended)B(N,new P);else{if(Z.destroyed)return!1;Z.reading=!1,Z.decoder&&!$?(M=Z.decoder.write(M),Z.objectMode||M.length!==0?A(N,Z,M,!1):w(N,Z)):A(N,Z,M,!1)}else Y||(Z.reading=!1,w(N,Z));return!Z.ended&&(Z.length<Z.highWaterMark||Z.length===0)}function A(N,M,$,Y){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,N.emit("data",$)):(M.length+=M.objectMode?1:$.length,Y?M.buffer.unshift($):M.buffer.push($),M.needReadable&&v(N)),w(N,M)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),H.prototype.destroy=m.destroy,H.prototype._undestroy=m.undestroy,H.prototype._destroy=function(N,M){M(N)},H.prototype.push=function(N,M){var $,Y=this._readableState;return Y.objectMode?$=!0:typeof N=="string"&&((M=M||Y.defaultEncoding)!==Y.encoding&&(N=u.from(N,M),M=""),$=!0),T(this,N,M,!1,$)},H.prototype.unshift=function(N){return T(this,N,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(N){g||(g=e("string_decoder/").StringDecoder);var M=new g(N);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,Y="";$!==null;)Y+=M.write($.data),$=$.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};function k(N,M){return N<=0||M.length===0&&M.ended?0:M.objectMode?1:N!=N?M.flowing&&M.length?M.buffer.head.data.length:M.length:(N>M.highWaterMark&&(M.highWaterMark=function($){return $>=1073741824?$=1073741824:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}(N)),N<=M.length?N:M.ended?M.length:(M.needReadable=!0,0))}function v(N){var M=N._readableState;d("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(d("emitReadable",M.flowing),M.emittedReadable=!0,o.nextTick(x,N))}function x(N){var M=N._readableState;d("emitReadable_",M.destroyed,M.length,M.ended),M.destroyed||!M.length&&!M.ended||(N.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,W(N)}function w(N,M){M.readingMore||(M.readingMore=!0,o.nextTick(_,N,M))}function _(N,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var $=M.length;if(d("maybeReadMore read 0"),N.read(0),$===M.length)break}M.readingMore=!1}function E(N){var M=N._readableState;M.readableListening=N.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:N.listenerCount("data")>0&&N.resume()}function R(N){d("readable nexttick read 0"),N.read(0)}function O(N,M){d("resume",M.reading),M.reading||N.read(0),M.resumeScheduled=!1,N.emit("resume"),W(N),M.flowing&&!M.reading&&N.read(0)}function W(N){var M=N._readableState;for(d("flow",M.flowing);M.flowing&&N.read()!==null;);}function V(N,M){return M.length===0?null:(M.objectMode?$=M.buffer.shift():!N||N>=M.length?($=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.first():M.buffer.concat(M.length),M.buffer.clear()):$=M.buffer.consume(N,M.decoder),$);var $}function X(N){var M=N._readableState;d("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,o.nextTick(D,M,N))}function D(N,M){if(d("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,M.readable=!1,M.emit("end"),N.autoDestroy)){var $=M._writableState;(!$||$.autoDestroy&&$.finished)&&M.destroy()}}function K(N,M){for(var $=0,Y=N.length;$<Y;$++)if(N[$]===M)return $;return-1}H.prototype.read=function(N){d("read",N),N=parseInt(N,10);var M=this._readableState,$=N;if(N!==0&&(M.emittedReadable=!1),N===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return d("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?X(this):v(this),null;if((N=k(N,M))===0&&M.ended)return M.length===0&&X(this),null;var Y,ee=M.needReadable;return d("need readable",ee),(M.length===0||M.length-N<M.highWaterMark)&&d("length less than watermark",ee=!0),M.ended||M.reading?d("reading or ended",ee=!1):ee&&(d("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(N=k($,M))),(Y=N>0?V(N,M):null)===null?(M.needReadable=M.length<=M.highWaterMark,N=0):(M.length-=N,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),$!==N&&M.ended&&X(this)),Y!==null&&this.emit("data",Y),Y},H.prototype._read=function(N){B(this,new L("_read()"))},H.prototype.pipe=function(N,M){var $=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=N;break;case 1:Y.pipes=[Y.pipes,N];break;default:Y.pipes.push(N)}Y.pipesCount+=1,d("pipe count=%d opts=%j",Y.pipesCount,M);var ee=(!M||M.end!==!1)&&N!==o.stdout&&N!==o.stderr?Z:de;function Q(ge,ve){d("onunpipe"),ge===$&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,d("cleanup"),N.removeListener("close",se),N.removeListener("finish",me),N.removeListener("drain",le),N.removeListener("error",ne),N.removeListener("unpipe",Q),$.removeListener("end",Z),$.removeListener("end",de),$.removeListener("data",J),ae=!0,!Y.awaitDrain||N._writableState&&!N._writableState.needDrain||le())}function Z(){d("onend"),N.end()}Y.endEmitted?o.nextTick(ee):$.once("end",ee),N.on("unpipe",Q);var le=function(ge){return function(){var ve=ge._readableState;d("pipeOnDrain",ve.awaitDrain),ve.awaitDrain&&ve.awaitDrain--,ve.awaitDrain===0&&a(ge,"data")&&(ve.flowing=!0,W(ge))}}($);N.on("drain",le);var ae=!1;function J(ge){d("ondata");var ve=N.write(ge);d("dest.write",ve),ve===!1&&((Y.pipesCount===1&&Y.pipes===N||Y.pipesCount>1&&K(Y.pipes,N)!==-1)&&!ae&&(d("false write response, pause",Y.awaitDrain),Y.awaitDrain++),$.pause())}function ne(ge){d("onerror",ge),de(),N.removeListener("error",ne),a(N,"error")===0&&B(N,ge)}function se(){N.removeListener("finish",me),de()}function me(){d("onfinish"),N.removeListener("close",se),de()}function de(){d("unpipe"),$.unpipe(N)}return $.on("data",J),function(ge,ve,he){if(typeof ge.prependListener=="function")return ge.prependListener(ve,he);ge._events&&ge._events[ve]?Array.isArray(ge._events[ve])?ge._events[ve].unshift(he):ge._events[ve]=[he,ge._events[ve]]:ge.on(ve,he)}(N,"error",ne),N.once("close",se),N.once("finish",me),N.emit("pipe",$),Y.flowing||(d("pipe resume"),$.resume()),N},H.prototype.unpipe=function(N){var M=this._readableState,$={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return N&&N!==M.pipes||(N||(N=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,N&&N.emit("unpipe",this,$)),this;if(!N){var Y=M.pipes,ee=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var Q=0;Q<ee;Q++)Y[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=K(M.pipes,N);return Z===-1||(M.pipes.splice(Z,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),N.emit("unpipe",this,$)),this},H.prototype.on=function(N,M){var $=i.prototype.on.call(this,N,M),Y=this._readableState;return N==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):N==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,d("on readable",Y.length,Y.reading),Y.length?v(this):Y.reading||o.nextTick(R,this))),$},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(N,M){var $=i.prototype.removeListener.call(this,N,M);return N==="readable"&&o.nextTick(E,this),$},H.prototype.removeAllListeners=function(N){var M=i.prototype.removeAllListeners.apply(this,arguments);return N!=="readable"&&N!==void 0||o.nextTick(E,this),M},H.prototype.resume=function(){var N=this._readableState;return N.flowing||(d("resume"),N.flowing=!N.readableListening,function(M,$){$.resumeScheduled||($.resumeScheduled=!0,o.nextTick(O,M,$))}(this,N)),N.paused=!1,this},H.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(N){var M=this,$=this._readableState,Y=!1;for(var ee in N.on("end",function(){if(d("wrapped end"),$.decoder&&!$.ended){var Z=$.decoder.end();Z&&Z.length&&M.push(Z)}M.push(null)}),N.on("data",function(Z){d("wrapped data"),$.decoder&&(Z=$.decoder.write(Z)),$.objectMode&&Z==null||($.objectMode||Z&&Z.length)&&(M.push(Z)||(Y=!0,N.pause()))}),N)this[ee]===void 0&&typeof N[ee]=="function"&&(this[ee]=function(Z){return function(){return N[Z].apply(N,arguments)}}(ee));for(var Q=0;Q<z.length;Q++)N.on(z[Q],this.emit.bind(this,z[Q]));return this._read=function(Z){d("wrapped _read",Z),Y&&(Y=!1,N.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),H._fromList=V,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(N,M){return p===void 0&&(p=e("./internal/streams/from")),p(H,N,M)})}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,l){n.exports=d;var o=e("../errors").codes,s=o.ERR_METHOD_NOT_IMPLEMENTED,c=o.ERR_MULTIPLE_CALLBACK,a=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=o.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function f(y,p){var b=this._transformState;b.transforming=!1;var m=b.writecb;if(m===null)return this.emit("error",new c);b.writechunk=null,b.writecb=null,p!=null&&this.push(p),m(y);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);u.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",h)}function h(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(p,b){g(y,p,b)})}function g(y,p,b){if(p)return y.emit("error",p);if(b!=null&&y.push(b),y._writableState.length)throw new i;if(y._transformState.transforming)throw new a;return y.push(null)}e("inherits")(d,u),d.prototype.push=function(y,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,y,p)},d.prototype._transform=function(y,p,b){b(new s("_transform()"))},d.prototype._write=function(y,p,b){var m=this._transformState;if(m.writecb=b,m.writechunk=y,m.writeencoding=p,!m.transforming){var S=this._readableState;(m.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},d.prototype._read=function(y){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(y,p){u.prototype._destroy.call(this,y,function(b){p(b)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,l){(function(o,s){(function(){function c(_){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(R,O,W){var V=R.entry;for(R.entry=null;V;){var X=V.callback;O.pendingcb--,X(W),V=V.next}O.corkedRequestsFree.next=R})(E,_)}}var a;n.exports=H,H.WritableState=U;var i={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),f=e("buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,b=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,S=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_STREAM_CANNOT_PIPE,I=p.ERR_STREAM_DESTROYED,P=p.ERR_STREAM_NULL_VALUES,L=p.ERR_STREAM_WRITE_AFTER_END,j=p.ERR_UNKNOWN_ENCODING,B=g.errorOrDestroy;function z(){}function U(_,E,R){a=a||e("./_stream_duplex"),_=_||{},typeof R!="boolean"&&(R=E instanceof a),this.objectMode=!!_.objectMode,R&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=y(this,_,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=_.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){(function(V,X){var D=V._writableState,K=D.sync,N=D.writecb;if(typeof N!="function")throw new S;if(function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}(D),X)(function($,Y,ee,Q,Z){--Y.pendingcb,ee?(o.nextTick(Z,Q),o.nextTick(w,$,Y),$._writableState.errorEmitted=!0,B($,Q)):(Z(Q),$._writableState.errorEmitted=!0,B($,Q),w($,Y))})(V,D,K,X,N);else{var M=v(D)||V.destroyed;M||D.corked||D.bufferProcessing||!D.bufferedRequest||k(V,D),K?o.nextTick(A,V,D,M,N):A(V,D,M,N)}})(E,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function H(_){var E=this instanceof(a=a||e("./_stream_duplex"));if(!E&&!h.call(H,this))return new H(_);this._writableState=new U(_,this,E),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),u.call(this)}function T(_,E,R,O,W,V,X){E.writelen=O,E.writecb=X,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new I("write")):R?_._writev(W,E.onwrite):_._write(W,V,E.onwrite),E.sync=!1}function A(_,E,R,O){R||function(W,V){V.length===0&&V.needDrain&&(V.needDrain=!1,W.emit("drain"))}(_,E),E.pendingcb--,O(),w(_,E)}function k(_,E){E.bufferProcessing=!0;var R=E.bufferedRequest;if(_._writev&&R&&R.next){var O=E.bufferedRequestCount,W=new Array(O),V=E.corkedRequestsFree;V.entry=R;for(var X=0,D=!0;R;)W[X]=R,R.isBuf||(D=!1),R=R.next,X+=1;W.allBuffers=D,T(_,E,!0,E.length,W,"",V.finish),E.pendingcb++,E.lastBufferedRequest=null,V.next?(E.corkedRequestsFree=V.next,V.next=null):E.corkedRequestsFree=new c(E),E.bufferedRequestCount=0}else{for(;R;){var K=R.chunk,N=R.encoding,M=R.callback;if(T(_,E,!1,E.objectMode?1:K.length,K,N,M),R=R.next,E.bufferedRequestCount--,E.writing)break}R===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=R,E.bufferProcessing=!1}function v(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function x(_,E){_._final(function(R){E.pendingcb--,R&&B(_,R),E.prefinished=!0,_.emit("prefinish"),w(_,E)})}function w(_,E){var R=v(E);if(R&&(function(W,V){V.prefinished||V.finalCalled||(typeof W._final!="function"||V.destroyed?(V.prefinished=!0,W.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,o.nextTick(x,W,V)))}(_,E),E.pendingcb===0&&(E.finished=!0,_.emit("finish"),E.autoDestroy))){var O=_._readableState;(!O||O.autoDestroy&&O.endEmitted)&&_.destroy()}return R}e("inherits")(H,u),U.prototype.getBuffer=function(){for(var _=this.bufferedRequest,E=[];_;)E.push(_),_=_.next;return E},function(){try{Object.defineProperty(U.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(_){return!!h.call(this,_)||this===H&&_&&_._writableState instanceof U}})):h=function(_){return _ instanceof this},H.prototype.pipe=function(){B(this,new C)},H.prototype.write=function(_,E,R){var O,W=this._writableState,V=!1,X=!W.objectMode&&(O=_,f.isBuffer(O)||O instanceof d);return X&&!f.isBuffer(_)&&(_=function(D){return f.from(D)}(_)),typeof E=="function"&&(R=E,E=null),X?E="buffer":E||(E=W.defaultEncoding),typeof R!="function"&&(R=z),W.ending?function(D,K){var N=new L;B(D,N),o.nextTick(K,N)}(this,R):(X||function(D,K,N,M){var $;return N===null?$=new P:typeof N=="string"||K.objectMode||($=new b("chunk",["string","Buffer"],N)),!$||(B(D,$),o.nextTick(M,$),!1)}(this,W,_,R))&&(W.pendingcb++,V=function(D,K,N,M,$,Y){if(!N){var ee=function(ae,J,ne){return ae.objectMode||ae.decodeStrings===!1||typeof J!="string"||(J=f.from(J,ne)),J}(K,M,$);M!==ee&&(N=!0,$="buffer",M=ee)}var Q=K.objectMode?1:M.length;K.length+=Q;var Z=K.length<K.highWaterMark;if(Z||(K.needDrain=!0),K.writing||K.corked){var le=K.lastBufferedRequest;K.lastBufferedRequest={chunk:M,encoding:$,isBuf:N,callback:Y,next:null},le?le.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else T(D,K,!1,Q,M,$,Y);return Z}(this,W,X,_,E,R)),V},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.bufferProcessing||!_.bufferedRequest||k(this,_))},H.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new j(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(_,E,R){R(new m("_write()"))},H.prototype._writev=null,H.prototype.end=function(_,E,R){var O=this._writableState;return typeof _=="function"?(R=_,_=null,E=null):typeof E=="function"&&(R=E,E=null),_!=null&&this.write(_,E),O.corked&&(O.corked=1,this.uncork()),O.ending||function(W,V,X){V.ending=!0,w(W,V),X&&(V.finished?o.nextTick(X):W.once("finish",X)),V.ended=!0,W.writable=!1}(this,O,R),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(_,E){E(_)}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,l){(function(o){(function(){var s;function c(I,P,L){return(P=function(j){var B=function(z,U){if(typeof z!="object"||z===null)return z;var H=z[Symbol.toPrimitive];if(H!==void 0){var T=H.call(z,U);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(z)}(j,"string");return typeof B=="symbol"?B:String(B)}(P))in I?Object.defineProperty(I,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[P]=L,I}var a=e("./end-of-stream"),i=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function p(I,P){return{value:I,done:P}}function b(I){var P=I[i];if(P!==null){var L=I[y].read();L!==null&&(I[h]=null,I[i]=null,I[u]=null,P(p(L,!1)))}}function m(I){o.nextTick(b,I)}var S=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((c(s={get stream(){return this[y]},next:function(){var I=this,P=this[f];if(P!==null)return Promise.reject(P);if(this[d])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(z,U){o.nextTick(function(){I[f]?U(I[f]):z(p(void 0,!0))})});var L,j=this[h];if(j)L=new Promise(function(z,U){return function(H,T){z.then(function(){U[d]?H(p(void 0,!0)):U[g](H,T)},T)}}(j,this));else{var B=this[y].read();if(B!==null)return Promise.resolve(p(B,!1));L=new Promise(this[g])}return this[h]=L,L}},Symbol.asyncIterator,function(){return this}),c(s,"return",function(){var I=this;return new Promise(function(P,L){I[y].destroy(null,function(j){j?L(j):P(p(void 0,!0))})})}),s),S);n.exports=function(I){var P,L=Object.create(C,(c(P={},y,{value:I,writable:!0}),c(P,i,{value:null,writable:!0}),c(P,u,{value:null,writable:!0}),c(P,f,{value:null,writable:!0}),c(P,d,{value:I._readableState.endEmitted,writable:!0}),c(P,g,{value:function(j,B){var z=L[y].read();z?(L[h]=null,L[i]=null,L[u]=null,j(p(z,!1))):(L[i]=j,L[u]=B)},writable:!0}),P));return L[h]=null,a(I,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=L[u];return B!==null&&(L[h]=null,L[i]=null,L[u]=null,B(j)),void(L[f]=j)}var z=L[i];z!==null&&(L[h]=null,L[i]=null,L[u]=null,z(p(void 0,!0))),L[d]=!0}),I.on("readable",m.bind(null,L)),L}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,l){function o(h,g){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);g&&(p=p.filter(function(b){return Object.getOwnPropertyDescriptor(h,b).enumerable})),y.push.apply(y,p)}return y}function s(h){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?o(Object(y),!0).forEach(function(p){c(h,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):o(Object(y)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(y,p))})}return h}function c(h,g,y){return(g=i(g))in h?Object.defineProperty(h,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[g]=y,h}function a(h,g){for(var y=0;y<g.length;y++){var p=g[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,i(p.key),p)}}function i(h){var g=function(y,p){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var m=b.call(y,p);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(y)}(h,"string");return typeof g=="symbol"?g:String(g)}var u=e("buffer").Buffer,f=e("util").inspect,d=f&&f.custom||"inspect";n.exports=function(){function h(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,y;return g=h,(y=[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,m=""+b.data;b=b.next;)m+=p+b.data;return m}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var b,m,S,C=u.allocUnsafe(p>>>0),I=this.head,P=0;I;)b=I.data,m=C,S=P,u.prototype.copy.call(b,m,S),P+=I.data.length,I=I.next;return C}},{key:"consume",value:function(p,b){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):m=p===this.head.data.length?this.shift():b?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,m=1,S=b.data;for(p-=S.length;b=b.next;){var C=b.data,I=p>C.length?C.length:p;if(I===C.length?S+=C:S+=C.slice(0,p),(p-=I)==0){I===C.length?(++m,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=C.slice(I));break}++m}return this.length-=m,S}},{key:"_getBuffer",value:function(p){var b=u.allocUnsafe(p),m=this.head,S=1;for(m.data.copy(b),p-=m.data.length;m=m.next;){var C=m.data,I=p>C.length?C.length:p;if(C.copy(b,b.length-p,0,I),(p-=I)==0){I===C.length?(++S,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=C.slice(I));break}++S}return this.length-=S,b}},{key:d,value:function(p,b){return f(this,s(s({},b),{},{depth:0,customInspect:!1}))}}])&&a(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,n,l){(function(o){(function(){function s(i,u){a(i,u),c(i)}function c(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function a(i,u){i.emit("error",u)}n.exports={destroy:function(i,u){var f=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(a,this,i)):o.nextTick(a,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(g){!u&&g?f._writableState?f._writableState.errorEmitted?o.nextTick(c,f):(f._writableState.errorEmitted=!0,o.nextTick(s,f,g)):o.nextTick(s,f,g):u?(o.nextTick(c,f),u(g)):o.nextTick(c,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(i,u){var f=i._readableState,d=i._writableState;f&&f.autoDestroy||d&&d.autoDestroy?i.destroy(u):i.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,l){var o=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function c(a,i,u){if(typeof i=="function")return c(a,null,i);i||(i={}),u=function(I){var P=!1;return function(){if(!P){P=!0;for(var L=arguments.length,j=new Array(L),B=0;B<L;B++)j[B]=arguments[B];I.apply(this,j)}}}(u||s);var f=i.readable||i.readable!==!1&&a.readable,d=i.writable||i.writable!==!1&&a.writable,h=function(){a.writable||y()},g=a._writableState&&a._writableState.finished,y=function(){d=!1,g=!0,f||u.call(a)},p=a._readableState&&a._readableState.endEmitted,b=function(){f=!1,p=!0,d||u.call(a)},m=function(I){u.call(a,I)},S=function(){var I;return f&&!p?(a._readableState&&a._readableState.ended||(I=new o),u.call(a,I)):d&&!g?(a._writableState&&a._writableState.ended||(I=new o),u.call(a,I)):void 0},C=function(){a.req.on("finish",y)};return function(I){return I.setHeader&&typeof I.abort=="function"}(a)?(a.on("complete",y),a.on("abort",S),a.req?C():a.on("request",C)):d&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",b),a.on("finish",y),i.error!==!1&&a.on("error",m),a.on("close",S),function(){a.removeListener("complete",y),a.removeListener("abort",S),a.removeListener("request",C),a.req&&a.req.removeListener("finish",y),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",y),a.removeListener("end",b),a.removeListener("error",m),a.removeListener("close",S)}}},{"../../../errors":477}],487:[function(e,n,l){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,l){var o,s=e("../../../errors").codes,c=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function i(g){if(g)throw g}function u(g,y,p,b){b=function(C){var I=!1;return function(){I||(I=!0,C.apply(void 0,arguments))}}(b);var m=!1;g.on("close",function(){m=!0}),o===void 0&&(o=e("./end-of-stream")),o(g,{readable:y,writable:p},function(C){if(C)return b(C);m=!0,b()});var S=!1;return function(C){if(!m&&!S)return S=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void b(C||new a("pipe"))}}function f(g){g()}function d(g,y){return g.pipe(y)}function h(g){return g.length?typeof g[g.length-1]!="function"?i:g.pop():i}n.exports=function(){for(var g=arguments.length,y=new Array(g),p=0;p<g;p++)y[p]=arguments[p];var b,m=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new c("streams");var S=y.map(function(C,I){var P=I<y.length-1;return u(C,P,I>0,function(L){b||(b=L),L&&S.forEach(f),P||(S.forEach(f),m(b))})});return y.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,l){var o=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,c,a,i){var u=function(f,d,h){return f.highWaterMark!=null?f.highWaterMark:d?f[h]:null}(c,i,a);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new o(i?a:"highWaterMark",u);return Math.floor(u)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,l){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,l){(l=n.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js"),l.finished=e("./lib/internal/streams/end-of-stream.js"),l.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,l){var o=function(s){var c=Object.prototype,a=c.hasOwnProperty,i=Object.defineProperty||function(w,_,E){w[_]=E.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function g(w,_,E){return Object.defineProperty(w,_,{value:E,enumerable:!0,configurable:!0,writable:!0}),w[_]}try{g({},"")}catch{g=function(_,E,R){return _[E]=R}}function y(w,_,E,R){var O=_&&_.prototype instanceof m?_:m,W=Object.create(O.prototype),V=new k(R||[]);return i(W,"_invoke",{value:U(w,E,V)}),W}function p(w,_,E){try{return{type:"normal",arg:w.call(_,E)}}catch(R){return{type:"throw",arg:R}}}s.wrap=y;var b={};function m(){}function S(){}function C(){}var I={};g(I,f,function(){return this});var P=Object.getPrototypeOf,L=P&&P(P(v([])));L&&L!==c&&a.call(L,f)&&(I=L);var j=C.prototype=m.prototype=Object.create(I);function B(w){["next","throw","return"].forEach(function(_){g(w,_,function(E){return this._invoke(_,E)})})}function z(w,_){var E;i(this,"_invoke",{value:function(R,O){function W(){return new _(function(V,X){(function D(K,N,M,$){var Y=p(w[K],w,N);if(Y.type!=="throw"){var ee=Y.arg,Q=ee.value;return Q&&typeof Q=="object"&&a.call(Q,"__await")?_.resolve(Q.__await).then(function(Z){D("next",Z,M,$)},function(Z){D("throw",Z,M,$)}):_.resolve(Q).then(function(Z){ee.value=Z,M(ee)},function(Z){return D("throw",Z,M,$)})}$(Y.arg)})(R,O,V,X)})}return E=E?E.then(W,W):W()}})}function U(w,_,E){var R="suspendedStart";return function(O,W){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(O==="throw")throw W;return x()}for(E.method=O,E.arg=W;;){var V=E.delegate;if(V){var X=H(V,E);if(X){if(X===b)continue;return X}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(R==="suspendedStart")throw R="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);R="executing";var D=p(w,_,E);if(D.type==="normal"){if(R=E.done?"completed":"suspendedYield",D.arg===b)continue;return{value:D.arg,done:E.done}}D.type==="throw"&&(R="completed",E.method="throw",E.arg=D.arg)}}}function H(w,_){var E=_.method,R=w.iterator[E];if(R===void 0)return _.delegate=null,E==="throw"&&w.iterator.return&&(_.method="return",_.arg=void 0,H(w,_),_.method==="throw")||E!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+E+"' method")),b;var O=p(R,w.iterator,_.arg);if(O.type==="throw")return _.method="throw",_.arg=O.arg,_.delegate=null,b;var W=O.arg;return W?W.done?(_[w.resultName]=W.value,_.next=w.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,b):W:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,b)}function T(w){var _={tryLoc:w[0]};1 in w&&(_.catchLoc=w[1]),2 in w&&(_.finallyLoc=w[2],_.afterLoc=w[3]),this.tryEntries.push(_)}function A(w){var _=w.completion||{};_.type="normal",delete _.arg,w.completion=_}function k(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(T,this),this.reset(!0)}function v(w){if(w){var _=w[f];if(_)return _.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var E=-1,R=function O(){for(;++E<w.length;)if(a.call(w,E))return O.value=w[E],O.done=!1,O;return O.value=void 0,O.done=!0,O};return R.next=R}}return{next:x}}function x(){return{value:void 0,done:!0}}return S.prototype=C,i(j,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:S,configurable:!0}),S.displayName=g(C,h,"GeneratorFunction"),s.isGeneratorFunction=function(w){var _=typeof w=="function"&&w.constructor;return!!_&&(_===S||(_.displayName||_.name)==="GeneratorFunction")},s.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,C):(w.__proto__=C,g(w,h,"GeneratorFunction")),w.prototype=Object.create(j),w},s.awrap=function(w){return{__await:w}},B(z.prototype),g(z.prototype,d,function(){return this}),s.AsyncIterator=z,s.async=function(w,_,E,R,O){O===void 0&&(O=Promise);var W=new z(y(w,_,E,R),O);return s.isGeneratorFunction(_)?W:W.next().then(function(V){return V.done?V.value:W.next()})},B(j),g(j,h,"Generator"),g(j,f,function(){return this}),g(j,"toString",function(){return"[object Generator]"}),s.keys=function(w){var _=Object(w),E=[];for(var R in _)E.push(R);return E.reverse(),function O(){for(;E.length;){var W=E.pop();if(W in _)return O.value=W,O.done=!1,O}return O.done=!0,O}},s.values=v,k.prototype={constructor:k,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!w)for(var _ in this)_.charAt(0)==="t"&&a.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var _=this;function E(D,K){return W.type="throw",W.arg=w,_.next=D,K&&(_.method="next",_.arg=void 0),!!K}for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R],W=O.completion;if(O.tryLoc==="root")return E("end");if(O.tryLoc<=this.prev){var V=a.call(O,"catchLoc"),X=a.call(O,"finallyLoc");if(V&&X){if(this.prev<O.catchLoc)return E(O.catchLoc,!0);if(this.prev<O.finallyLoc)return E(O.finallyLoc)}else if(V){if(this.prev<O.catchLoc)return E(O.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return E(O.finallyLoc)}}}},abrupt:function(w,_){for(var E=this.tryEntries.length-1;E>=0;--E){var R=this.tryEntries[E];if(R.tryLoc<=this.prev&&a.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var O=R;break}}O&&(w==="break"||w==="continue")&&O.tryLoc<=_&&_<=O.finallyLoc&&(O=null);var W=O?O.completion:{};return W.type=w,W.arg=_,O?(this.method="next",this.next=O.finallyLoc,b):this.complete(W)},complete:function(w,_){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&_&&(this.next=_),b},finish:function(w){for(var _=this.tryEntries.length-1;_>=0;--_){var E=this.tryEntries[_];if(E.finallyLoc===w)return this.complete(E.completion,E.afterLoc),A(E),b}},catch:function(w){for(var _=this.tryEntries.length-1;_>=0;--_){var E=this.tryEntries[_];if(E.tryLoc===w){var R=E.completion;if(R.type==="throw"){var O=R.arg;A(E)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(w,_,E){return this.delegate={iterator:v(w),resultName:_,nextLoc:E},this.method==="next"&&(this.arg=void 0),b}},s}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},{}],493:[function(e,n,l){var o=e("buffer").Buffer,s=e("inherits"),c=e("hash-base"),a=new Array(16),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(P,L){return P<<L|P>>>32-L}function b(P,L,j,B,z,U,H,T){return p(P+(L^j^B)+U+H|0,T)+z|0}function m(P,L,j,B,z,U,H,T){return p(P+(L&j|~L&B)+U+H|0,T)+z|0}function S(P,L,j,B,z,U,H,T){return p(P+((L|~j)^B)+U+H|0,T)+z|0}function C(P,L,j,B,z,U,H,T){return p(P+(L&B|j&~B)+U+H|0,T)+z|0}function I(P,L,j,B,z,U,H,T){return p(P+(L^(j|~B))+U+H|0,T)+z|0}s(y,c),y.prototype._update=function(){for(var P=a,L=0;L<16;++L)P[L]=this._block.readInt32LE(4*L);for(var j=0|this._a,B=0|this._b,z=0|this._c,U=0|this._d,H=0|this._e,T=0|this._a,A=0|this._b,k=0|this._c,v=0|this._d,x=0|this._e,w=0;w<80;w+=1){var _,E;w<16?(_=b(j,B,z,U,H,P[i[w]],h[0],f[w]),E=I(T,A,k,v,x,P[u[w]],g[0],d[w])):w<32?(_=m(j,B,z,U,H,P[i[w]],h[1],f[w]),E=C(T,A,k,v,x,P[u[w]],g[1],d[w])):w<48?(_=S(j,B,z,U,H,P[i[w]],h[2],f[w]),E=S(T,A,k,v,x,P[u[w]],g[2],d[w])):w<64?(_=C(j,B,z,U,H,P[i[w]],h[3],f[w]),E=m(T,A,k,v,x,P[u[w]],g[3],d[w])):(_=I(j,B,z,U,H,P[i[w]],h[4],f[w]),E=b(T,A,k,v,x,P[u[w]],g[4],d[w])),j=H,H=U,U=p(z,10),z=B,B=_,T=x,x=v,v=p(k,10),k=A,A=E}var R=this._b+z+v|0;this._b=this._c+U+x|0,this._c=this._d+H+T|0,this._d=this._e+j+A|0,this._e=this._a+B+k|0,this._a=R},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=o.alloc?o.alloc(20):new o(20);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P.writeInt32LE(this._e,16),P},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,l){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var o=e("buffer"),s=o.Buffer;function c(i,u){for(var f in i)u[f]=i[f]}function a(i,u,f){return s(i,u,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=o:(c(o,l),l.Buffer=a),a.prototype=Object.create(s.prototype),c(s,a),a.from=function(i,u,f){if(typeof i=="number")throw new TypeError("Argument must not be a number");return s(i,u,f)},a.alloc=function(i,u,f){if(typeof i!="number")throw new TypeError("Argument must be a number");var d=s(i);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},a.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return s(i)},a.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(i)}},{buffer:220}],495:[function(e,n,l){(function(o){(function(){var s,c=e("buffer"),a=c.Buffer,i={};for(s in c)c.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(i[s]=c[s]);var u=i.Buffer={};for(s in a)a.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(u[s]=a[s]);if(i.Buffer.prototype=a.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,d,h){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return a(f,d,h)}),u.alloc||(u.alloc=function(f,d,h){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=a(f);return d&&d.length!==0?typeof h=="string"?g.fill(d,h):g.fill(d):g.fill(0),g}),!i.kStringMaxLength)try{i.kStringMaxLength=o.binding("buffer").kStringMaxLength}catch{}i.constants||(i.constants={MAX_LENGTH:i.kMaxLength},i.kStringMaxLength&&(i.constants.MAX_STRING_LENGTH=i.kStringMaxLength)),n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0});const o=e("xmlchars/xml/1.0/ed5"),s=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var a=o.isS,i=o.isChar,u=o.isNameStartChar,f=o.isNameChar,d=o.S_LIST,h=o.NAME_RE,g=s.isChar,y=c.isNCNameStartChar,p=c.isNCNameChar,b=c.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:m,xmlns:S},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},P=v=>v===34||v===39,L=[34,39],j=[...L,91,62],B=[...L,60,93],z=[61,63,...d],U=[...d,62,38,60];function H(v,x,w){switch(x){case"xml":w!==m&&v.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":w!==S&&v.fail(`xmlns prefix must be bound to ${S}.`)}switch(w){case S:v.fail(x===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${S}.`);break;case m:switch(x){case"xml":break;case"":v.fail(`the default namespace may not be set to ${w}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}const T=v=>b.test(v),A=v=>h.test(v);l.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};l.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;const x=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,x){this.nameStartCheck=y,this.nameCheck=p,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const w=this.opt.additionalNamespaces;w!=null&&(function(_,E){for(const R of Object.keys(E))H(_,R,E[R])}(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=A,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:x}=this;this.state=x?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=x,this.xmlDeclPossible=!x,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,x){this[k[v]]=x}off(v){this[k[v]]=void 0}makeError(v){var x;let w=(x=this.fileName)!==null&&x!==void 0?x:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+v)}fail(v){const x=this.makeError(v),w=this.errorHandler;if(w===void 0)throw x;return w(x),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let x=!1;v===null?(x=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let w=v.length;const _=v.charCodeAt(w-1);!x&&(_===13||_>=55296&&_<=56319)&&(this.carriedFromPrevious=v[w-1],w--,v=v.slice(0,w));const{stateTable:E}=this;for(this.chunk=v,this.i=0;this.i<w;)E[this.state].call(this);return this.chunkPosition+=w,x?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:v,i:x}=this;if(this.prevI=x,this.i=x+1,x>=v.length)return-1;const w=v.charCodeAt(x);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(x+1)===10&&(this.i=x+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const _=65536+1024*(w-55296)+(v.charCodeAt(x+1)-56320);return this.i=x+2,_>1114111&&this.fail("disallowed character."),_}getCode11(){const{chunk:v,i:x}=this;if(this.prevI=x,this.i=x+1,x>=v.length)return-1;const w=v.charCodeAt(x);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const E=v.charCodeAt(x+1);E!==10&&E!==133||(this.i=x+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const _=65536+1024*(w-55296)+(v.charCodeAt(x+1)-56320);return this.i=x+2,_>1114111&&this.fail("disallowed character."),_}getCodeNorm(){const v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:x}=this;const{chunk:w}=this;for(;;){const _=this.getCode(),E=_===-2,R=E?10:_;if(R===-1||v.includes(R))return this.text+=w.slice(x,this.prevI),R;E&&(this.text+=w.slice(x,this.prevI)+`
`,x=this.i)}}captureToChar(v){let{i:x}=this;const{chunk:w}=this;for(;;){let _=this.getCode();switch(_){case-2:this.text+=w.slice(x,this.prevI)+`
`,x=this.i,_=10;break;case-1:return this.text+=w.slice(x),!1}if(_===v)return this.text+=w.slice(x,this.prevI),!0}}captureNameChars(){const{chunk:v,i:x}=this;for(;;){const w=this.getCode();if(w===-1)return this.name+=v.slice(x),-1;if(!f(w))return this.name+=v.slice(x,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){const v=this.getCodeNorm();if(v===-1||!a(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const v=this.i,x=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),x){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;const x=this.captureTo(j);switch(x){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(x),x===91?this.state=4:P(x)&&(this.state=3,this.q=x)}}sDoctypeQuote(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){const v=this.captureTo(B);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:P(v)&&(this.state=5,this.q=v))}sDTDQuoted(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){const v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const v=String.fromCodePoint(this.getCodeNorm()),x=this.openWakaBang+=v;this.text+=v,x!=="-"&&(this.state=x==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this;const{chunk:x}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=x.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{const{entityReturnState:w}=this,_=this.entity+x.slice(v,this.prevI);let E;this.state=w,_===""?(this.fail("empty entity name."),E="&;"):(E=this.parseEntity(_),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=E);break e}case-1:this.entity+=x.slice(v);break e}}sOpenWaka(){const v=this.getCode();if(u(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;const x=this.getCodeNorm();x===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(x),this.state=17)}sCommentEnded(){const v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;const x=this.getCodeNorm();switch(x){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(x),this.state=20}}sPIFirstChar(){const v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||a(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){const{chunk:v,i:x}=this;for(;;){const w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=v.slice(x));if(!this.nameCheck(w)){this.piTarget+=v.slice(x,this.prevI);const _=w===63;_||a(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=_?33:27):this.state=_?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){const v=this.getCodeNorm();v===63?this.state=26:a(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;const x=this.getCodeNorm();if(x===62){const{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else x===63?this.text+="?":(this.text+="?"+String.fromCodePoint(x),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){const v=this.captureTo(z);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(v)||(P(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;const x=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const w=x;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(x)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=x;break;case"standalone":x!=="yes"&&x!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=x}this.name="",this.state=32}sXMLDeclSeparator(){const v=this.getCodeNorm();v!==63?(a(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;const x=this.captureNameChars();if(x===-1)return;const w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),x){case 62:this.openTag();break;case 47:this.state=35;break;default:a(x)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const v=this.skipSpaces();v!==-1&&(u(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const v=this.captureNameChars();v===61?this.state=39:a(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():u(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const v=this.getCodeNorm();P(v)?(this.q=v,this.state=40):a(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:v,chunk:x}=this;let{i:w}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+x.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=x.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=x.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=x.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=x.slice(w))}}sAttribValueClosed(){const v=this.getCodeNorm();a(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:u(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const v=this.captureTo(U);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){const v=this.captureNameChars();v===62?this.closeTag():a(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:x}=this;const{chunk:w,textHandler:_}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,_!==void 0){const{text:E}=this,R=w.slice(v,this.prevI);E.length!==0?(_(E+R),this.text=""):R.length!==0&&_(R)}x=0;break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=w.slice(v,this.prevI)),x=0;break e;case 93:switch(x){case 0:x=1;break;case 1:x=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:x===2&&this.fail('the string "]]>" is disallowed in char data.'),x=0;break;case-2:_!==void 0&&(this.text+=w.slice(v,this.prevI)+`
`),v=this.i,x=0;break;case-1:_!==void 0&&(this.text+=w.slice(v));break e;default:x=0}this.forbiddenState=x}handleTextOutsideRoot(){let{i:v}=this;const{chunk:x,textHandler:w}=this;let _=!1;e:for(;;){const E=this.getCode();switch(E){case 60:if(this.state=15,w!==void 0){const{text:R}=this,O=x.slice(v,this.prevI);R.length!==0?(w(R+O),this.text=""):O.length!==0&&w(O)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=x.slice(v,this.prevI)),_=!0;break e;case-2:w!==void 0&&(this.text+=x.slice(v,this.prevI)+`
`),v=this.i;break;case-1:w!==void 0&&(this.text+=x.slice(v));break e;default:a(E)||(_=!0)}}_&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,x){var w;const{prefix:_,local:E}=this.qname(v),R={name:v,prefix:_,local:E,value:x};if(this.attribList.push(R),(w=this.attributeHandler)===null||w===void 0||w.call(this,R),_==="xmlns"){const O=x.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[E]=O,H(this,E,O)}else if(v==="xmlns"){const O=x.trim();this.topNS[""]=O,H(this,"",O)}}pushAttribPlain(v,x){var w;const _={name:v,value:x};this.attribList.push(_),(w=this.attributeHandler)===null||w===void 0||w.call(this,_)}end(){var v,x;this.sawRoot||this.fail("document must contain a root element.");const{tags:w}=this;for(;w.length>0;){const E=w.pop();this.fail("unclosed tag: "+E.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:_}=this;return _.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,_),this.text=""),this._closed=!0,(x=this.endHandler)===null||x===void 0||x.call(this),this._init(),this}resolve(v){var x,w;let _=this.topNS[v];if(_!==void 0)return _;const{tags:E}=this;for(let R=E.length-1;R>=0;R--)if(_=E[R].ns[v],_!==void 0)return _;return _=this.ns[v],_!==void 0?_:(w=(x=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(x,v)}qname(v){const x=v.indexOf(":");if(x===-1)return{prefix:"",local:v};const w=v.slice(x+1),_=v.slice(0,x);return(_===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:_,local:w}}processAttribsNS(){var v;const{attribList:x}=this,w=this.tag;{const{prefix:R,local:O}=this.qname(w.name);w.prefix=R,w.local=O;const W=w.uri=(v=this.resolve(R))!==null&&v!==void 0?v:"";R!==""&&(R==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),W===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(R)}.`),w.uri=R))}if(x.length===0)return;const{attributes:_}=w,E=new Set;for(const R of x){const{name:O,prefix:W,local:V}=R;let X,D;W===""?(X=O==="xmlns"?S:"",D=O):(X=this.resolve(W),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(W)}.`),X=W),D=`{${X}}${V}`),E.has(D)&&this.fail(`duplicate attribute: ${D}.`),E.add(D),R.uri=X,_[O]=R}this.attribList=[]}processAttribsPlain(){const{attribList:v}=this,x=this.tag.attributes;for(const{name:w,value:_}of v)x[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),x[w]=_;this.attribList=[]}openTag(){var v;this.processAttribs();const{tags:x}=this,w=this.tag;w.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,w),x.push(w),this.state=13,this.name=""}openSelfClosingTag(){var v,x,w;this.processAttribs();const{tags:_}=this,E=this.tag;E.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,E),(x=this.closeTagHandler)===null||x===void 0||x.call(this,E),(this.tag=(w=_[_.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:v,name:x}=this;if(this.state=13,this.name="",x==="")return this.fail("weird empty close tag."),void(this.text+="</>");const w=this.closeTagHandler;let _=v.length;for(;_-- >0;){const E=this.tag=v.pop();if(this.topNS=E.ns,w==null||w(E),E.name===x)break;this.fail("unexpected close tag.")}_===0?this.closedRoot=!0:_<0&&(this.fail(`unmatched closing tag: ${x}.`),this.text+=`</${x}>`)}parseEntity(v){if(v[0]!=="#"){const w=this.ENTITIES[v];return w!==void 0?w:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let x=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?x=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(x=parseInt(v.slice(1),10)),this.isChar(x)?String.fromCodePoint(x):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,l){var o=e("safe-buffer").Buffer;function s(c,a){this._block=o.alloc(c),this._finalSize=a,this._blockSize=c,this._len=0}s.prototype.update=function(c,a){typeof c=="string"&&(a=a||"utf8",c=o.from(c,a));for(var i=this._block,u=this._blockSize,f=c.length,d=this._len,h=0;h<f;){for(var g=d%u,y=Math.min(f-h,u-g),p=0;p<y;p++)i[g+p]=c[h+p];h+=y,(d+=y)%u==0&&this._update(i)}return this._len+=f,this},s.prototype.digest=function(c){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var u=(4294967295&i)>>>0,f=(i-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return c?d.toString(c):d},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(e,n,l){var o=n.exports=function(s){s=s.toLowerCase();var c=o[s];if(!c)throw new Error(s+" is not supported (we accept pull requests)");return new c};o.sha=e("./sha"),o.sha1=e("./sha1"),o.sha224=e("./sha224"),o.sha256=e("./sha256"),o.sha384=e("./sha384"),o.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,l){var o=e("inherits"),s=e("./hash"),c=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function u(){this.init(),this._w=i,s.call(this,64,56)}function f(h){return h<<30|h>>>2}function d(h,g,y,p){return h===0?g&y|~g&p:h===2?g&y|g&p|y&p:g^y^p}o(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(h){for(var g,y=this._w,p=0|this._a,b=0|this._b,m=0|this._c,S=0|this._d,C=0|this._e,I=0;I<16;++I)y[I]=h.readInt32BE(4*I);for(;I<80;++I)y[I]=y[I-3]^y[I-8]^y[I-14]^y[I-16];for(var P=0;P<80;++P){var L=~~(P/20),j=0|((g=p)<<5|g>>>27)+d(L,b,m,S)+C+y[P]+a[L];C=S,S=m,m=f(b),b=p,p=j}this._a=p+this._a|0,this._b=b+this._b|0,this._c=m+this._c|0,this._d=S+this._d|0,this._e=C+this._e|0},u.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,l){var o=e("inherits"),s=e("./hash"),c=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function u(){this.init(),this._w=i,s.call(this,64,56)}function f(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function h(g,y,p,b){return g===0?y&p|~y&b:g===2?y&p|y&b|p&b:y^p^b}o(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var y,p=this._w,b=0|this._a,m=0|this._b,S=0|this._c,C=0|this._d,I=0|this._e,P=0;P<16;++P)p[P]=g.readInt32BE(4*P);for(;P<80;++P)p[P]=(y=p[P-3]^p[P-8]^p[P-14]^p[P-16])<<1|y>>>31;for(var L=0;L<80;++L){var j=~~(L/20),B=f(b)+h(j,m,S,C)+I+p[L]+a[j]|0;I=C,C=S,S=d(m),m=b,b=B}this._a=b+this._a|0,this._b=m+this._b|0,this._c=S+this._c|0,this._d=C+this._d|0,this._e=I+this._e|0},u.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,l){var o=e("inherits"),s=e("./sha256"),c=e("./hash"),a=e("safe-buffer").Buffer,i=new Array(64);function u(){this.init(),this._w=i,c.call(this,64,56)}o(u,s),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=a.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,l){var o=e("inherits"),s=e("./hash"),c=e("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=new Array(64);function u(){this.init(),this._w=i,s.call(this,64,56)}function f(p,b,m){return m^p&(b^m)}function d(p,b,m){return p&b|m&(p|b)}function h(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function y(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}o(u,s),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var b,m=this._w,S=0|this._a,C=0|this._b,I=0|this._c,P=0|this._d,L=0|this._e,j=0|this._f,B=0|this._g,z=0|this._h,U=0;U<16;++U)m[U]=p.readInt32BE(4*U);for(;U<64;++U)m[U]=0|(((b=m[U-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+m[U-7]+y(m[U-15])+m[U-16];for(var H=0;H<64;++H){var T=z+g(L)+f(L,j,B)+a[H]+m[H]|0,A=h(S)+d(S,C,I)|0;z=B,B=j,j=L,L=P+T|0,P=I,I=C,C=S,S=T+A|0}this._a=S+this._a|0,this._b=C+this._b|0,this._c=I+this._c|0,this._d=P+this._d|0,this._e=L+this._e|0,this._f=j+this._f|0,this._g=B+this._g|0,this._h=z+this._h|0},u.prototype._hash=function(){var p=c.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,l){var o=e("inherits"),s=e("./sha512"),c=e("./hash"),a=e("safe-buffer").Buffer,i=new Array(160);function u(){this.init(),this._w=i,c.call(this,128,112)}o(u,s),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=a.allocUnsafe(48);function d(h,g,y){f.writeInt32BE(h,y),f.writeInt32BE(g,y+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),f},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,l){var o=e("inherits"),s=e("./hash"),c=e("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],i=new Array(160);function u(){this.init(),this._w=i,s.call(this,128,112)}function f(C,I,P){return P^C&(I^P)}function d(C,I,P){return C&I|P&(C|I)}function h(C,I){return(C>>>28|I<<4)^(I>>>2|C<<30)^(I>>>7|C<<25)}function g(C,I){return(C>>>14|I<<18)^(C>>>18|I<<14)^(I>>>9|C<<23)}function y(C,I){return(C>>>1|I<<31)^(C>>>8|I<<24)^C>>>7}function p(C,I){return(C>>>1|I<<31)^(C>>>8|I<<24)^(C>>>7|I<<25)}function b(C,I){return(C>>>19|I<<13)^(I>>>29|C<<3)^C>>>6}function m(C,I){return(C>>>19|I<<13)^(I>>>29|C<<3)^(C>>>6|I<<26)}function S(C,I){return C>>>0<I>>>0?1:0}o(u,s),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(C){for(var I=this._w,P=0|this._ah,L=0|this._bh,j=0|this._ch,B=0|this._dh,z=0|this._eh,U=0|this._fh,H=0|this._gh,T=0|this._hh,A=0|this._al,k=0|this._bl,v=0|this._cl,x=0|this._dl,w=0|this._el,_=0|this._fl,E=0|this._gl,R=0|this._hl,O=0;O<32;O+=2)I[O]=C.readInt32BE(4*O),I[O+1]=C.readInt32BE(4*O+4);for(;O<160;O+=2){var W=I[O-30],V=I[O-30+1],X=y(W,V),D=p(V,W),K=b(W=I[O-4],V=I[O-4+1]),N=m(V,W),M=I[O-14],$=I[O-14+1],Y=I[O-32],ee=I[O-32+1],Q=D+$|0,Z=X+M+S(Q,D)|0;Z=(Z=Z+K+S(Q=Q+N|0,N)|0)+Y+S(Q=Q+ee|0,ee)|0,I[O]=Z,I[O+1]=Q}for(var le=0;le<160;le+=2){Z=I[le],Q=I[le+1];var ae=d(P,L,j),J=d(A,k,v),ne=h(P,A),se=h(A,P),me=g(z,w),de=g(w,z),ge=a[le],ve=a[le+1],he=f(z,U,H),Me=f(w,_,E),Ee=R+de|0,Fe=T+me+S(Ee,R)|0;Fe=(Fe=(Fe=Fe+he+S(Ee=Ee+Me|0,Me)|0)+ge+S(Ee=Ee+ve|0,ve)|0)+Z+S(Ee=Ee+Q|0,Q)|0;var De=se+J|0,et=ne+ae+S(De,se)|0;T=H,R=E,H=U,E=_,U=z,_=w,z=B+Fe+S(w=x+Ee|0,x)|0,B=j,x=v,j=L,v=k,L=P,k=A,P=Fe+et+S(A=Ee+De|0,Ee)|0}this._al=this._al+A|0,this._bl=this._bl+k|0,this._cl=this._cl+v|0,this._dl=this._dl+x|0,this._el=this._el+w|0,this._fl=this._fl+_|0,this._gl=this._gl+E|0,this._hl=this._hl+R|0,this._ah=this._ah+P+S(this._al,A)|0,this._bh=this._bh+L+S(this._bl,k)|0,this._ch=this._ch+j+S(this._cl,v)|0,this._dh=this._dh+B+S(this._dl,x)|0,this._eh=this._eh+z+S(this._el,w)|0,this._fh=this._fh+U+S(this._fl,_)|0,this._gh=this._gh+H+S(this._gl,E)|0,this._hh=this._hh+T+S(this._hl,R)|0},u.prototype._hash=function(){var C=c.allocUnsafe(64);function I(P,L,j){C.writeInt32BE(P,j),C.writeInt32BE(L,j+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),C},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,l){n.exports=s;var o=e("events").EventEmitter;function s(){o.call(this)}e("inherits")(s,o),s.Readable=e("readable-stream/readable.js"),s.Writable=e("readable-stream/writable.js"),s.Duplex=e("readable-stream/duplex.js"),s.Transform=e("readable-stream/transform.js"),s.PassThrough=e("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(c,a){var i=this;function u(b){c.writable&&c.write(b)===!1&&i.pause&&i.pause()}function f(){i.readable&&i.resume&&i.resume()}i.on("data",u),c.on("drain",f),c._isStdio||a&&a.end===!1||(i.on("end",h),i.on("close",g));var d=!1;function h(){d||(d=!0,c.end())}function g(){d||(d=!0,typeof c.destroy=="function"&&c.destroy())}function y(b){if(p(),o.listenerCount(this,"error")===0)throw b}function p(){i.removeListener("data",u),c.removeListener("drain",f),i.removeListener("end",h),i.removeListener("close",g),i.removeListener("error",y),c.removeListener("error",y),i.removeListener("end",p),i.removeListener("close",p),c.removeListener("close",p)}return i.on("error",y),c.on("error",y),i.on("end",p),i.on("close",p),c.on("close",p),c.emit("pipe",i),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,l){var o={}.toString;n.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},{}],507:[function(e,n,l){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,l){var o=e("process-nextick-args"),s=Object.keys||function(p){var b=[];for(var m in p)b.push(m);return b};n.exports=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var a=e("./_stream_readable"),i=e("./_stream_writable");c.inherits(h,a);for(var u=s(i.prototype),f=0;f<u.length;f++){var d=u[f];h.prototype[d]||(h.prototype[d]=i.prototype[d])}function h(p){if(!(this instanceof h))return new h(p);a.call(this,p),i.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||o.nextTick(y,this)}function y(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),h.prototype._destroy=function(p,b){this.push(null),this.end(),o.nextTick(b,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,l){n.exports=c;var o=e("./_stream_transform"),s=Object.create(e("core-util-is"));function c(a){if(!(this instanceof c))return new c(a);o.call(this,a)}s.inherits=e("inherits"),s.inherits(c,o),c.prototype._transform=function(a,i,u){u(null,a)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,l){(function(o,s){(function(){var c=e("process-nextick-args");n.exports=P;var a,i=e("isarray");P.ReadableState=I,e("events").EventEmitter;var u=function(R,O){return R.listeners(O).length},f=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var y=e("util"),p=void 0;p=y&&y.debuglog?y.debuglog("stream"):function(){};var b,m=e("./internal/streams/BufferList"),S=e("./internal/streams/destroy");g.inherits(P,f);var C=["error","close","destroy","pause","resume"];function I(R,O){R=R||{};var W=O instanceof(a=a||e("./_stream_duplex"));this.objectMode=!!R.objectMode,W&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var V=R.highWaterMark,X=R.readableHighWaterMark,D=this.objectMode?16:16384;this.highWaterMark=V||V===0?V:W&&(X||X===0)?X:D,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(R.encoding),this.encoding=R.encoding)}function P(R){if(a=a||e("./_stream_duplex"),!(this instanceof P))return new P(R);this._readableState=new I(R,this),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),f.call(this)}function L(R,O,W,V,X){var D,K=R._readableState;return O===null?(K.reading=!1,function(N,M){if(!M.ended){if(M.decoder){var $=M.decoder.end();$&&$.length&&(M.buffer.push($),M.length+=M.objectMode?1:$.length)}M.ended=!0,z(N)}}(R,K)):(X||(D=function(N,M){var $;Y=M,d.isBuffer(Y)||Y instanceof h||typeof M=="string"||M===void 0||N.objectMode||($=new TypeError("Invalid non-string/buffer chunk"));var Y;return $}(K,O)),D?R.emit("error",D):K.objectMode||O&&O.length>0?(typeof O=="string"||K.objectMode||Object.getPrototypeOf(O)===d.prototype||(O=function(N){return d.from(N)}(O)),V?K.endEmitted?R.emit("error",new Error("stream.unshift() after end event")):j(R,K,O,!0):K.ended?R.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!W?(O=K.decoder.write(O),K.objectMode||O.length!==0?j(R,K,O,!1):H(R,K)):j(R,K,O,!1))):V||(K.reading=!1)),function(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}(K)}function j(R,O,W,V){O.flowing&&O.length===0&&!O.sync?(R.emit("data",W),R.read(0)):(O.length+=O.objectMode?1:W.length,V?O.buffer.unshift(W):O.buffer.push(W),O.needReadable&&z(R)),H(R,O)}Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),P.prototype.destroy=S.destroy,P.prototype._undestroy=S.undestroy,P.prototype._destroy=function(R,O){this.push(null),O(R)},P.prototype.push=function(R,O){var W,V=this._readableState;return V.objectMode?W=!0:typeof R=="string"&&((O=O||V.defaultEncoding)!==V.encoding&&(R=d.from(R,O),O=""),W=!0),L(this,R,O,!1,W)},P.prototype.unshift=function(R){return L(this,R,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(R){return b||(b=e("string_decoder/").StringDecoder),this._readableState.decoder=new b(R),this._readableState.encoding=R,this};function B(R,O){return R<=0||O.length===0&&O.ended?0:O.objectMode?1:R!=R?O.flowing&&O.length?O.buffer.head.data.length:O.length:(R>O.highWaterMark&&(O.highWaterMark=function(W){return W>=8388608?W=8388608:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(R)),R<=O.length?R:O.ended?O.length:(O.needReadable=!0,0))}function z(R){var O=R._readableState;O.needReadable=!1,O.emittedReadable||(p("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?c.nextTick(U,R):U(R))}function U(R){p("emit readable"),R.emit("readable"),v(R)}function H(R,O){O.readingMore||(O.readingMore=!0,c.nextTick(T,R,O))}function T(R,O){for(var W=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(p("maybeReadMore read 0"),R.read(0),W!==O.length);)W=O.length;O.readingMore=!1}function A(R){p("readable nexttick read 0"),R.read(0)}function k(R,O){O.reading||(p("resume read 0"),R.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,R.emit("resume"),v(R),O.flowing&&!O.reading&&R.read(0)}function v(R){var O=R._readableState;for(p("flow",O.flowing);O.flowing&&R.read()!==null;);}function x(R,O){return O.length===0?null:(O.objectMode?W=O.buffer.shift():!R||R>=O.length?(W=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):W=function(V,X,D){var K;return V<X.head.data.length?(K=X.head.data.slice(0,V),X.head.data=X.head.data.slice(V)):K=V===X.head.data.length?X.shift():D?function(N,M){var $=M.head,Y=1,ee=$.data;for(N-=ee.length;$=$.next;){var Q=$.data,Z=N>Q.length?Q.length:N;if(Z===Q.length?ee+=Q:ee+=Q.slice(0,N),(N-=Z)===0){Z===Q.length?(++Y,$.next?M.head=$.next:M.head=M.tail=null):(M.head=$,$.data=Q.slice(Z));break}++Y}return M.length-=Y,ee}(V,X):function(N,M){var $=d.allocUnsafe(N),Y=M.head,ee=1;for(Y.data.copy($),N-=Y.data.length;Y=Y.next;){var Q=Y.data,Z=N>Q.length?Q.length:N;if(Q.copy($,$.length-N,0,Z),(N-=Z)===0){Z===Q.length?(++ee,Y.next?M.head=Y.next:M.head=M.tail=null):(M.head=Y,Y.data=Q.slice(Z));break}++ee}return M.length-=ee,$}(V,X),K}(R,O.buffer,O.decoder),W);var W}function w(R){var O=R._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,c.nextTick(_,O,R))}function _(R,O){R.endEmitted||R.length!==0||(R.endEmitted=!0,O.readable=!1,O.emit("end"))}function E(R,O){for(var W=0,V=R.length;W<V;W++)if(R[W]===O)return W;return-1}P.prototype.read=function(R){p("read",R),R=parseInt(R,10);var O=this._readableState,W=R;if(R!==0&&(O.emittedReadable=!1),R===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return p("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?w(this):z(this),null;if((R=B(R,O))===0&&O.ended)return O.length===0&&w(this),null;var V,X=O.needReadable;return p("need readable",X),(O.length===0||O.length-R<O.highWaterMark)&&p("length less than watermark",X=!0),O.ended||O.reading?p("reading or ended",X=!1):X&&(p("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(R=B(W,O))),(V=R>0?x(R,O):null)===null?(O.needReadable=!0,R=0):O.length-=R,O.length===0&&(O.ended||(O.needReadable=!0),W!==R&&O.ended&&w(this)),V!==null&&this.emit("data",V),V},P.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},P.prototype.pipe=function(R,O){var W=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=R;break;case 1:V.pipes=[V.pipes,R];break;default:V.pipes.push(R)}V.pipesCount+=1,p("pipe count=%d opts=%j",V.pipesCount,O);var X=(!O||O.end!==!1)&&R!==o.stdout&&R!==o.stderr?K:le;function D(ae,J){p("onunpipe"),ae===W&&J&&J.hasUnpiped===!1&&(J.hasUnpiped=!0,p("cleanup"),R.removeListener("close",Q),R.removeListener("finish",Z),R.removeListener("drain",N),R.removeListener("error",ee),R.removeListener("unpipe",D),W.removeListener("end",K),W.removeListener("end",le),W.removeListener("data",Y),M=!0,!V.awaitDrain||R._writableState&&!R._writableState.needDrain||N())}function K(){p("onend"),R.end()}V.endEmitted?c.nextTick(X):W.once("end",X),R.on("unpipe",D);var N=function(ae){return function(){var J=ae._readableState;p("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&u(ae,"data")&&(J.flowing=!0,v(ae))}}(W);R.on("drain",N);var M=!1,$=!1;function Y(ae){p("ondata"),$=!1,R.write(ae)!==!1||$||((V.pipesCount===1&&V.pipes===R||V.pipesCount>1&&E(V.pipes,R)!==-1)&&!M&&(p("false write response, pause",V.awaitDrain),V.awaitDrain++,$=!0),W.pause())}function ee(ae){p("onerror",ae),le(),R.removeListener("error",ee),u(R,"error")===0&&R.emit("error",ae)}function Q(){R.removeListener("finish",Z),le()}function Z(){p("onfinish"),R.removeListener("close",Q),le()}function le(){p("unpipe"),W.unpipe(R)}return W.on("data",Y),function(ae,J,ne){if(typeof ae.prependListener=="function")return ae.prependListener(J,ne);ae._events&&ae._events[J]?i(ae._events[J])?ae._events[J].unshift(ne):ae._events[J]=[ne,ae._events[J]]:ae.on(J,ne)}(R,"error",ee),R.once("close",Q),R.once("finish",Z),R.emit("pipe",W),V.flowing||(p("pipe resume"),W.resume()),R},P.prototype.unpipe=function(R){var O=this._readableState,W={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return R&&R!==O.pipes||(R||(R=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,R&&R.emit("unpipe",this,W)),this;if(!R){var V=O.pipes,X=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var D=0;D<X;D++)V[D].emit("unpipe",this,{hasUnpiped:!1});return this}var K=E(O.pipes,R);return K===-1||(O.pipes.splice(K,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),R.emit("unpipe",this,W)),this},P.prototype.on=function(R,O){var W=f.prototype.on.call(this,R,O);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var V=this._readableState;V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.emittedReadable=!1,V.reading?V.length&&z(this):c.nextTick(A,this))}return W},P.prototype.addListener=P.prototype.on,P.prototype.resume=function(){var R=this._readableState;return R.flowing||(p("resume"),R.flowing=!0,function(O,W){W.resumeScheduled||(W.resumeScheduled=!0,c.nextTick(k,O,W))}(this,R)),this},P.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},P.prototype.wrap=function(R){var O=this,W=this._readableState,V=!1;for(var X in R.on("end",function(){if(p("wrapped end"),W.decoder&&!W.ended){var K=W.decoder.end();K&&K.length&&O.push(K)}O.push(null)}),R.on("data",function(K){p("wrapped data"),W.decoder&&(K=W.decoder.write(K)),W.objectMode&&K==null||(W.objectMode||K&&K.length)&&(O.push(K)||(V=!0,R.pause()))}),R)this[X]===void 0&&typeof R[X]=="function"&&(this[X]=function(K){return function(){return R[K].apply(R,arguments)}}(X));for(var D=0;D<C.length;D++)R.on(C[D],this.emit.bind(this,C[D]));return this._read=function(K){p("wrapped _read",K),V&&(V=!1,R.resume())},this},Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),P._fromList=x}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,l){n.exports=a;var o=e("./_stream_duplex"),s=Object.create(e("core-util-is"));function c(f,d){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),g(f);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",i)}function i(){var f=this;typeof this._flush=="function"?this._flush(function(d,h){u(f,d,h)}):u(this,null,null)}function u(f,d,h){if(d)return f.emit("error",d);if(h!=null&&f.push(h),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=e("inherits"),s.inherits(a,o),a.prototype.push=function(f,d){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,d)},a.prototype._transform=function(f,d,h){throw new Error("_transform() is not implemented")},a.prototype._write=function(f,d,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=d,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},a.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},a.prototype._destroy=function(f,d){var h=this;o.prototype._destroy.call(this,f,function(g){d(g),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,l){(function(o,s,c){(function(){var a=e("process-nextick-args");function i(H){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(A,k,v){var x=A.entry;for(A.entry=null;x;){var w=x.callback;k.pendingcb--,w(v),x=x.next}k.corkedRequestsFree.next=A})(T,H)}}n.exports=I;var u,f=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?c:a.nextTick;I.WritableState=C;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,p=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b,m=e("./internal/streams/destroy");function S(){}function C(H,T){u=u||e("./_stream_duplex"),H=H||{};var A=T instanceof u;this.objectMode=!!H.objectMode,A&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var k=H.highWaterMark,v=H.writableHighWaterMark,x=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:A&&(v||v===0)?v:x,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=H.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(E,R){var O=E._writableState,W=O.sync,V=O.writecb;if(function(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}(O),R)(function(D,K,N,M,$){--K.pendingcb,N?(a.nextTick($,M),a.nextTick(U,D,K),D._writableState.errorEmitted=!0,D.emit("error",M)):($(M),D._writableState.errorEmitted=!0,D.emit("error",M),U(D,K))})(E,O,W,R,V);else{var X=B(O);X||O.corked||O.bufferProcessing||!O.bufferedRequest||j(E,O),W?f(L,E,O,X,V):L(E,O,X,V)}})(T,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(H){if(u=u||e("./_stream_duplex"),!(b.call(I,this)||this instanceof u))return new I(H);this._writableState=new C(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),g.call(this)}function P(H,T,A,k,v,x,w){T.writelen=k,T.writecb=w,T.writing=!0,T.sync=!0,A?H._writev(v,T.onwrite):H._write(v,x,T.onwrite),T.sync=!1}function L(H,T,A,k){A||function(v,x){x.length===0&&x.needDrain&&(x.needDrain=!1,v.emit("drain"))}(H,T),T.pendingcb--,k(),U(H,T)}function j(H,T){T.bufferProcessing=!0;var A=T.bufferedRequest;if(H._writev&&A&&A.next){var k=T.bufferedRequestCount,v=new Array(k),x=T.corkedRequestsFree;x.entry=A;for(var w=0,_=!0;A;)v[w]=A,A.isBuf||(_=!1),A=A.next,w+=1;v.allBuffers=_,P(H,T,!0,T.length,v,"",x.finish),T.pendingcb++,T.lastBufferedRequest=null,x.next?(T.corkedRequestsFree=x.next,x.next=null):T.corkedRequestsFree=new i(T),T.bufferedRequestCount=0}else{for(;A;){var E=A.chunk,R=A.encoding,O=A.callback;if(P(H,T,!1,T.objectMode?1:E.length,E,R,O),A=A.next,T.bufferedRequestCount--,T.writing)break}A===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=A,T.bufferProcessing=!1}function B(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function z(H,T){H._final(function(A){T.pendingcb--,A&&H.emit("error",A),T.prefinished=!0,H.emit("prefinish"),U(H,T)})}function U(H,T){var A=B(T);return A&&(function(k,v){v.prefinished||v.finalCalled||(typeof k._final=="function"?(v.pendingcb++,v.finalCalled=!0,a.nextTick(z,k,v)):(v.prefinished=!0,k.emit("prefinish")))}(H,T),T.pendingcb===0&&(T.finished=!0,H.emit("finish"))),A}d.inherits(I,g),C.prototype.getBuffer=function(){for(var H=this.bufferedRequest,T=[];H;)T.push(H),H=H.next;return T},function(){try{Object.defineProperty(C.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(H){return!!b.call(this,H)||this===I&&H&&H._writableState instanceof C}})):b=function(H){return H instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(H,T,A){var k,v=this._writableState,x=!1,w=!v.objectMode&&(k=H,y.isBuffer(k)||k instanceof p);return w&&!y.isBuffer(H)&&(H=function(_){return y.from(_)}(H)),typeof T=="function"&&(A=T,T=null),w?T="buffer":T||(T=v.defaultEncoding),typeof A!="function"&&(A=S),v.ended?function(_,E){var R=new Error("write after end");_.emit("error",R),a.nextTick(E,R)}(this,A):(w||function(_,E,R,O){var W=!0,V=!1;return R===null?V=new TypeError("May not write null values to stream"):typeof R=="string"||R===void 0||E.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(_.emit("error",V),a.nextTick(O,V),W=!1),W}(this,v,H,A))&&(v.pendingcb++,x=function(_,E,R,O,W,V){if(!R){var X=function(M,$,Y){return M.objectMode||M.decodeStrings===!1||typeof $!="string"||($=y.from($,Y)),$}(E,O,W);O!==X&&(R=!0,W="buffer",O=X)}var D=E.objectMode?1:O.length;E.length+=D;var K=E.length<E.highWaterMark;if(K||(E.needDrain=!0),E.writing||E.corked){var N=E.lastBufferedRequest;E.lastBufferedRequest={chunk:O,encoding:W,isBuf:R,callback:V,next:null},N?N.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else P(_,E,!1,D,O,W,V);return K}(this,v,w,H,T,A)),x},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||j(this,H))},I.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(H,T,A){A(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(H,T,A){var k=this._writableState;typeof H=="function"?(A=H,H=null,T=null):typeof T=="function"&&(A=T,T=null),H!=null&&this.write(H,T),k.corked&&(k.corked=1,this.uncork()),k.ending||function(v,x,w){x.ending=!0,U(v,x),w&&(x.finished?a.nextTick(w):v.once("finish",w)),x.ended=!0,v.writable=!1}(this,k,A)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(H,T){this.end(),T(H)}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,l){var o=e("safe-buffer").Buffer,s=e("util");n.exports=function(){function c(){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(a){var i={data:a,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},c.prototype.unshift=function(a){var i={data:a,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},c.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(a){if(this.length===0)return"";for(var i=this.head,u=""+i.data;i=i.next;)u+=a+i.data;return u},c.prototype.concat=function(a){if(this.length===0)return o.alloc(0);for(var i,u,f,d=o.allocUnsafe(a>>>0),h=this.head,g=0;h;)i=h.data,u=d,f=g,i.copy(u,f),g+=h.data.length,h=h.next;return d},c}(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var c=s.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,n,l){var o=e("process-nextick-args");function s(c,a){c.emit("error",a)}n.exports={destroy:function(c,a){var i=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(a?a(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(s,this,c)):o.nextTick(s,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!a&&d?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,o.nextTick(s,i,d)):o.nextTick(s,i,d):a&&a(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,l){arguments[4][490][0].apply(l,arguments)},{dup:490,events:422}],516:[function(e,n,l){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,l){(l=n.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,l){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,l){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,l){arguments[4][217][0].apply(l,arguments)},{buffer:220,dup:217}],521:[function(e,n,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,l){(function(o,s){(function(){var c=e("process/browser.js").nextTick,a=Function.prototype.apply,i=Array.prototype.slice,u={},f=0;function d(h,g){this._id=h,this._clearFn=g}l.setTimeout=function(){return new d(a.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new d(a.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},l.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},l._unrefActive=l.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},l.setImmediate=typeof o=="function"?o:function(h){var g=f++,y=!(arguments.length<2)&&i.call(arguments,1);return u[g]=!0,c(function(){u[g]&&(y?h.apply(null,y):h.call(null),l.clearImmediate(g))}),g},l.clearImmediate=typeof s=="function"?s:function(h){delete u[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,l){(function(o){(function(){function s(c){try{if(!o.localStorage)return!1}catch{return!1}var a=o.localStorage[c];return a!=null&&String(a).toLowerCase()==="true"}n.exports=function(c,a){if(s("noDeprecation"))return c;var i=!1;return function(){if(!i){if(s("throwDeprecation"))throw new Error(a);s("traceDeprecation")?console.trace(a):console.warn(a),i=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,l){typeof Object.create=="function"?n.exports=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(o,s){o.super_=s;var c=function(){};c.prototype=s.prototype,o.prototype=new c,o.prototype.constructor=o}},{}],526:[function(e,n,l){n.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],527:[function(e,n,l){(function(o,s){(function(){var c=/%[sdj%]/g;l.format=function(v){if(!C(v)){for(var x=[],w=0;w<arguments.length;w++)x.push(u(arguments[w]));return x.join(" ")}w=1;for(var _=arguments,E=_.length,R=String(v).replace(c,function(W){if(W==="%%")return"%";if(w>=E)return W;switch(W){case"%s":return String(_[w++]);case"%d":return Number(_[w++]);case"%j":try{return JSON.stringify(_[w++])}catch{return"[Circular]"}default:return W}}),O=_[w];w<E;O=_[++w])m(O)||!L(O)?R+=" "+O:R+=" "+u(O);return R},l.deprecate=function(v,x){if(I(s.process))return function(){return l.deprecate(v,x).apply(this,arguments)};if(o.noDeprecation===!0)return v;var w=!1;return function(){if(!w){if(o.throwDeprecation)throw new Error(x);o.traceDeprecation?console.trace(x):console.error(x),w=!0}return v.apply(this,arguments)}};var a,i={};function u(v,x){var w={seen:[],stylize:d};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),b(x)?w.showHidden=x:x&&l._extend(w,x),I(w.showHidden)&&(w.showHidden=!1),I(w.depth)&&(w.depth=2),I(w.colors)&&(w.colors=!1),I(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=f),h(w,v,w.depth)}function f(v,x){var w=u.styles[x];return w?"\x1B["+u.colors[w][0]+"m"+v+"\x1B["+u.colors[w][1]+"m":v}function d(v,x){return v}function h(v,x,w){if(v.customInspect&&x&&z(x.inspect)&&x.inspect!==l.inspect&&(!x.constructor||x.constructor.prototype!==x)){var _=x.inspect(w,v);return C(_)||(_=h(v,_,w)),_}var E=function(N,M){if(I(M))return N.stylize("undefined","undefined");if(C(M)){var $="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize($,"string")}if(S(M))return N.stylize(""+M,"number");if(b(M))return N.stylize(""+M,"boolean");if(m(M))return N.stylize("null","null")}(v,x);if(E)return E;var R=Object.keys(x),O=function(N){var M={};return N.forEach(function($,Y){M[$]=!0}),M}(R);if(v.showHidden&&(R=Object.getOwnPropertyNames(x)),B(x)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return g(x);if(R.length===0){if(z(x)){var W=x.name?": "+x.name:"";return v.stylize("[Function"+W+"]","special")}if(P(x))return v.stylize(RegExp.prototype.toString.call(x),"regexp");if(j(x))return v.stylize(Date.prototype.toString.call(x),"date");if(B(x))return g(x)}var V,X="",D=!1,K=["{","}"];return p(x)&&(D=!0,K=["[","]"]),z(x)&&(X=" [Function"+(x.name?": "+x.name:"")+"]"),P(x)&&(X=" "+RegExp.prototype.toString.call(x)),j(x)&&(X=" "+Date.prototype.toUTCString.call(x)),B(x)&&(X=" "+g(x)),R.length!==0||D&&x.length!=0?w<0?P(x)?v.stylize(RegExp.prototype.toString.call(x),"regexp"):v.stylize("[Object]","special"):(v.seen.push(x),V=D?function(N,M,$,Y,ee){for(var Q=[],Z=0,le=M.length;Z<le;++Z)k(M,String(Z))?Q.push(y(N,M,$,Y,String(Z),!0)):Q.push("");return ee.forEach(function(ae){ae.match(/^\d+$/)||Q.push(y(N,M,$,Y,ae,!0))}),Q}(v,x,w,O,R):R.map(function(N){return y(v,x,w,O,N,D)}),v.seen.pop(),function(N,M,$){return N.reduce(function(Y,ee){return ee.indexOf(`
`)>=0,Y+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(M===""?"":M+`
 `)+" "+N.join(`,
  `)+" "+$[1]:$[0]+M+" "+N.join(", ")+" "+$[1]}(V,X,K)):K[0]+X+K[1]}function g(v){return"["+Error.prototype.toString.call(v)+"]"}function y(v,x,w,_,E,R){var O,W,V;if((V=Object.getOwnPropertyDescriptor(x,E)||{value:x[E]}).get?W=V.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):V.set&&(W=v.stylize("[Setter]","special")),k(_,E)||(O="["+E+"]"),W||(v.seen.indexOf(V.value)<0?(W=m(w)?h(v,V.value,null):h(v,V.value,w-1)).indexOf(`
`)>-1&&(W=R?W.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+W.split(`
`).map(function(X){return"   "+X}).join(`
`)):W=v.stylize("[Circular]","special")),I(O)){if(R&&E.match(/^\d+$/))return W;(O=JSON.stringify(""+E)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=v.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=v.stylize(O,"string"))}return O+": "+W}function p(v){return Array.isArray(v)}function b(v){return typeof v=="boolean"}function m(v){return v===null}function S(v){return typeof v=="number"}function C(v){return typeof v=="string"}function I(v){return v===void 0}function P(v){return L(v)&&U(v)==="[object RegExp]"}function L(v){return typeof v=="object"&&v!==null}function j(v){return L(v)&&U(v)==="[object Date]"}function B(v){return L(v)&&(U(v)==="[object Error]"||v instanceof Error)}function z(v){return typeof v=="function"}function U(v){return Object.prototype.toString.call(v)}function H(v){return v<10?"0"+v.toString(10):v.toString(10)}l.debuglog=function(v){if(I(a)&&(a=o.env.NODE_DEBUG||""),v=v.toUpperCase(),!i[v])if(new RegExp("\\b"+v+"\\b","i").test(a)){var x=o.pid;i[v]=function(){var w=l.format.apply(l,arguments);console.error("%s %d: %s",v,x,w)}}else i[v]=function(){};return i[v]},l.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=p,l.isBoolean=b,l.isNull=m,l.isNullOrUndefined=function(v){return v==null},l.isNumber=S,l.isString=C,l.isSymbol=function(v){return typeof v=="symbol"},l.isUndefined=I,l.isRegExp=P,l.isObject=L,l.isDate=j,l.isError=B,l.isFunction=z,l.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},l.isBuffer=e("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var v=new Date,x=[H(v.getHours()),H(v.getMinutes()),H(v.getSeconds())].join(":");return[v.getDate(),T[v.getMonth()],x].join(" ")}function k(v,x){return Object.prototype.hasOwnProperty.call(v,x)}l.log=function(){console.log("%s - %s",A(),l.format.apply(l,arguments))},l.inherits=e("inherits"),l._extend=function(v,x){if(!x||!L(x))return v;for(var w=Object.keys(x),_=w.length;_--;)v[w[_]]=x[w[_]];return v}}).call(this)}).call(this,e("_process"),typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(l,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(l,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(l,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(l,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(l,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(l,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return h.default}});var o=g(e("./v1.js")),s=g(e("./v3.js")),c=g(e("./v4.js")),a=g(e("./v5.js")),i=g(e("./nil.js")),u=g(e("./version.js")),f=g(e("./validate.js")),d=g(e("./stringify.js")),h=g(e("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,l){function o(h){return 14+(h+64>>>9<<4)+1}function s(h,g){const y=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(y>>16)<<16|65535&y}function c(h,g,y,p,b,m){return s((S=s(s(g,h),s(p,m)))<<(C=b)|S>>>32-C,y);var S,C}function a(h,g,y,p,b,m,S){return c(g&y|~g&p,h,g,b,m,S)}function i(h,g,y,p,b,m,S){return c(g&p|y&~p,h,g,b,m,S)}function u(h,g,y,p,b,m,S){return c(g^y^p,h,g,b,m,S)}function f(h,g,y,p,b,m,S){return c(y^(g|~p),h,g,b,m,S)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let y=0;y<g.length;++y)h[y]=g.charCodeAt(y)}return function(g){const y=[],p=32*g.length;for(let b=0;b<p;b+=8){const m=g[b>>5]>>>b%32&255,S=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);y.push(S)}return y}(function(g,y){g[y>>5]|=128<<y%32,g[o(y)-1]=y;let p=1732584193,b=-271733879,m=-1732584194,S=271733878;for(let C=0;C<g.length;C+=16){const I=p,P=b,L=m,j=S;p=a(p,b,m,S,g[C],7,-680876936),S=a(S,p,b,m,g[C+1],12,-389564586),m=a(m,S,p,b,g[C+2],17,606105819),b=a(b,m,S,p,g[C+3],22,-1044525330),p=a(p,b,m,S,g[C+4],7,-176418897),S=a(S,p,b,m,g[C+5],12,1200080426),m=a(m,S,p,b,g[C+6],17,-1473231341),b=a(b,m,S,p,g[C+7],22,-45705983),p=a(p,b,m,S,g[C+8],7,1770035416),S=a(S,p,b,m,g[C+9],12,-1958414417),m=a(m,S,p,b,g[C+10],17,-42063),b=a(b,m,S,p,g[C+11],22,-1990404162),p=a(p,b,m,S,g[C+12],7,1804603682),S=a(S,p,b,m,g[C+13],12,-40341101),m=a(m,S,p,b,g[C+14],17,-1502002290),b=a(b,m,S,p,g[C+15],22,1236535329),p=i(p,b,m,S,g[C+1],5,-165796510),S=i(S,p,b,m,g[C+6],9,-1069501632),m=i(m,S,p,b,g[C+11],14,643717713),b=i(b,m,S,p,g[C],20,-373897302),p=i(p,b,m,S,g[C+5],5,-701558691),S=i(S,p,b,m,g[C+10],9,38016083),m=i(m,S,p,b,g[C+15],14,-660478335),b=i(b,m,S,p,g[C+4],20,-405537848),p=i(p,b,m,S,g[C+9],5,568446438),S=i(S,p,b,m,g[C+14],9,-1019803690),m=i(m,S,p,b,g[C+3],14,-187363961),b=i(b,m,S,p,g[C+8],20,1163531501),p=i(p,b,m,S,g[C+13],5,-1444681467),S=i(S,p,b,m,g[C+2],9,-51403784),m=i(m,S,p,b,g[C+7],14,1735328473),b=i(b,m,S,p,g[C+12],20,-1926607734),p=u(p,b,m,S,g[C+5],4,-378558),S=u(S,p,b,m,g[C+8],11,-2022574463),m=u(m,S,p,b,g[C+11],16,1839030562),b=u(b,m,S,p,g[C+14],23,-35309556),p=u(p,b,m,S,g[C+1],4,-1530992060),S=u(S,p,b,m,g[C+4],11,1272893353),m=u(m,S,p,b,g[C+7],16,-155497632),b=u(b,m,S,p,g[C+10],23,-1094730640),p=u(p,b,m,S,g[C+13],4,681279174),S=u(S,p,b,m,g[C],11,-358537222),m=u(m,S,p,b,g[C+3],16,-722521979),b=u(b,m,S,p,g[C+6],23,76029189),p=u(p,b,m,S,g[C+9],4,-640364487),S=u(S,p,b,m,g[C+12],11,-421815835),m=u(m,S,p,b,g[C+15],16,530742520),b=u(b,m,S,p,g[C+2],23,-995338651),p=f(p,b,m,S,g[C],6,-198630844),S=f(S,p,b,m,g[C+7],10,1126891415),m=f(m,S,p,b,g[C+14],15,-1416354905),b=f(b,m,S,p,g[C+5],21,-57434055),p=f(p,b,m,S,g[C+12],6,1700485571),S=f(S,p,b,m,g[C+3],10,-1894986606),m=f(m,S,p,b,g[C+10],15,-1051523),b=f(b,m,S,p,g[C+1],21,-2054922799),p=f(p,b,m,S,g[C+8],6,1873313359),S=f(S,p,b,m,g[C+15],10,-30611744),m=f(m,S,p,b,g[C+6],15,-1560198380),b=f(b,m,S,p,g[C+13],21,1309151649),p=f(p,b,m,S,g[C+4],6,-145523070),S=f(S,p,b,m,g[C+11],10,-1120210379),m=f(m,S,p,b,g[C+2],15,718787259),b=f(b,m,S,p,g[C+9],21,-343485551),p=s(p,I),b=s(b,P),m=s(m,L),S=s(S,j)}return[p,b,m,S]}(function(g){if(g.length===0)return[];const y=8*g.length,p=new Uint32Array(o(y));for(let b=0;b<y;b+=8)p[b>>5]|=(255&g[b/8])<<b%32;return p}(h),8*h.length))};l.default=d},{}],530:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./validate.js"))&&o.__esModule?o:{default:o},c=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");let i;const u=new Uint8Array(16);return u[0]=(i=parseInt(a.slice(0,8),16))>>>24,u[1]=i>>>16&255,u[2]=i>>>8&255,u[3]=255&i,u[4]=(i=parseInt(a.slice(9,13),16))>>>8,u[5]=255&i,u[6]=(i=parseInt(a.slice(14,18),16))>>>8,u[7]=255&i,u[8]=(i=parseInt(a.slice(19,23),16))>>>8,u[9]=255&i,u[10]=(i=parseInt(a.slice(24,36),16))/1099511627776&255,u[11]=i/4294967296&255,u[12]=i>>>24&255,u[13]=i>>>16&255,u[14]=i>>>8&255,u[15]=255&i,u};l.default=c},{"./validate.js":541}],532:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,l){let o;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)};const s=new Uint8Array(16)},{}],534:[function(e,n,l){function o(a,i,u,f){switch(a){case 0:return i&u^~i&f;case 1:return i^u^f;case 2:return i&u^i&f^u&f;case 3:return i^u^f}}function s(a,i){return a<<i|a>>>32-i}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var c=function(a){const i=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const g=unescape(encodeURIComponent(a));a=[];for(let y=0;y<g.length;++y)a.push(g.charCodeAt(y))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const f=a.length/4+2,d=Math.ceil(f/16),h=new Array(d);for(let g=0;g<d;++g){const y=new Uint32Array(16);for(let p=0;p<16;++p)y[p]=a[64*g+4*p]<<24|a[64*g+4*p+1]<<16|a[64*g+4*p+2]<<8|a[64*g+4*p+3];h[g]=y}h[d-1][14]=8*(a.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(a.length-1)&4294967295;for(let g=0;g<d;++g){const y=new Uint32Array(80);for(let I=0;I<16;++I)y[I]=h[g][I];for(let I=16;I<80;++I)y[I]=s(y[I-3]^y[I-8]^y[I-14]^y[I-16],1);let p=u[0],b=u[1],m=u[2],S=u[3],C=u[4];for(let I=0;I<80;++I){const P=Math.floor(I/20),L=s(p,5)+o(P,b,m,S)+C+i[P]+y[I]>>>0;C=S,S=m,m=s(b,30)>>>0,b=p,p=L}u[0]=u[0]+p>>>0,u[1]=u[1]+b>>>0,u[2]=u[2]+m>>>0,u[3]=u[3]+S>>>0,u[4]=u[4]+C>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};l.default=c},{}],535:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./validate.js"))&&o.__esModule?o:{default:o};const c=[];for(let i=0;i<256;++i)c.push((i+256).toString(16).substr(1));var a=function(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(c[i[u+0]]+c[i[u+1]]+c[i[u+2]]+c[i[u+3]]+"-"+c[i[u+4]]+c[i[u+5]]+"-"+c[i[u+6]]+c[i[u+7]]+"-"+c[i[u+8]]+c[i[u+9]]+"-"+c[i[u+10]]+c[i[u+11]]+c[i[u+12]]+c[i[u+13]]+c[i[u+14]]+c[i[u+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};l.default=a},{"./validate.js":541}],536:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c(e("./rng.js")),s=c(e("./stringify.js"));function c(h){return h&&h.__esModule?h:{default:h}}let a,i,u=0,f=0;var d=function(h,g,y){let p=g&&y||0;const b=g||new Array(16);let m=(h=h||{}).node||a,S=h.clockseq!==void 0?h.clockseq:i;if(m==null||S==null){const B=h.random||(h.rng||o.default)();m==null&&(m=a=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),S==null&&(S=i=16383&(B[6]<<8|B[7]))}let C=h.msecs!==void 0?h.msecs:Date.now(),I=h.nsecs!==void 0?h.nsecs:f+1;const P=C-u+(I-f)/1e4;if(P<0&&h.clockseq===void 0&&(S=S+1&16383),(P<0||C>u)&&h.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=C,f=I,i=S,C+=122192928e5;const L=(1e4*(268435455&C)+I)%4294967296;b[p++]=L>>>24&255,b[p++]=L>>>16&255,b[p++]=L>>>8&255,b[p++]=255&L;const j=C/4294967296*1e4&268435455;b[p++]=j>>>8&255,b[p++]=255&j,b[p++]=j>>>24&15|16,b[p++]=j>>>16&255,b[p++]=S>>>8|128,b[p++]=255&S;for(let B=0;B<6;++B)b[p+B]=m[B];return g||(0,s.default)(b)};l.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c(e("./v35.js")),s=c(e("./md5.js"));function c(i){return i&&i.__esModule?i:{default:i}}var a=(0,o.default)("v3",48,s.default);l.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(u,f,d){function h(g,y,p,b){if(typeof g=="string"&&(g=function(S){S=unescape(encodeURIComponent(S));const C=[];for(let I=0;I<S.length;++I)C.push(S.charCodeAt(I));return C}(g)),typeof y=="string"&&(y=(0,s.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+g.length);if(m.set(y),m.set(g,y.length),m=d(m),m[6]=15&m[6]|f,m[8]=63&m[8]|128,p){b=b||0;for(let S=0;S<16;++S)p[b+S]=m[S];return p}return(0,o.default)(m)}try{h.name=u}catch{}return h.DNS=a,h.URL=i,h},l.URL=l.DNS=void 0;var o=c(e("./stringify.js")),s=c(e("./parse.js"));function c(u){return u&&u.__esModule?u:{default:u}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";l.DNS=a;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";l.URL=i},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c(e("./rng.js")),s=c(e("./stringify.js"));function c(i){return i&&i.__esModule?i:{default:i}}var a=function(i,u,f){const d=(i=i||{}).random||(i.rng||o.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,u){f=f||0;for(let h=0;h<16;++h)u[f+h]=d[h];return u}return(0,s.default)(d)};l.default=a},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=c(e("./v35.js")),s=c(e("./sha1.js"));function c(i){return i&&i.__esModule?i:{default:i}}var a=(0,o.default)("v5",80,s.default);l.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./regex.js"))&&o.__esModule?o:{default:o},c=function(a){return typeof a=="string"&&s.default.test(a)};l.default=c},{"./regex.js":532}],542:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./validate.js"))&&o.__esModule?o:{default:o},c=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)};l.default=c},{"./validate.js":541}],543:[function(e,n,l){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR=`	
\r -퟿-�𐀀-􏿿`,l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isS=function(s){return s===32||s===10||s===13||s===9},l.isNameStartChar=o,l.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(e,n,l){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR="-퟿-�𐀀-􏿿",l.RESTRICTED_CHAR="-\b\v\f---",l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.RESTRICTED_CHAR_RE=new RegExp("^["+l.RESTRICTED_CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},l.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isS=function(s){return s===32||s===10||s===13||s===9},l.isNameStartChar=o,l.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(e,n,l){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function o(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(l,"__esModule",{value:!0}),l.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",l.NC_NAME_CHAR="-"+l.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",l.NC_NAME_START_CHAR_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]$","u"),l.NC_NAME_CHAR_RE=new RegExp("^["+l.NC_NAME_CHAR+"]$","u"),l.NC_NAME_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]["+l.NC_NAME_CHAR+"]*$","u"),l.isNCNameStartChar=o,l.isNCNameChar=function(s){return o(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(x0);var da=x0.exports;function hn(r){const t=r.replace("#",""),e=t.substring(0,2),n=t.substring(2,4),l=t.substring(4,6);return`FF${e}${n}${l}`}const Nc={default:{bg:"linear-gradient(180deg, rgba(124,192,255,0.18), rgba(124,192,255,0.08))"},green:{bg:"#4CAF50"},red:{bg:"#F44336"},yellow:{bg:"#E6A700"}};function mv(){const r="Segoe UI",e="#ffffff",n="#2a6bff",l=oe.useRef(null),o=oe.useRef(null),s=oe.useRef(null),[c,a]=oe.useState([]),[i,u]=oe.useState(null),[f,d]=oe.useState(""),[h,g]=oe.useState(null),y=oe.useCallback((U,H)=>{a(k=>k.map(v=>v.id===U?{...v,color:H}:v)),g(null);const T=document.querySelector(`[data-field-id="${U}"]`);T&&(T.classList.add("color-changed"),setTimeout(()=>{T.classList.remove("color-changed")},600));const A=c.find(k=>k.id===U);if(A){const k={default:"Default Blue",green:"Green",red:"Red",yellow:"Yellow"};window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`Cube "${A.name}" color changed to ${k[H]}`,type:"ok",durationMs:2e3}}))}},[c]),p=oe.useCallback((U,H)=>{U.preventDefault();const T=140,A=200,k=window.innerWidth,v=window.innerHeight;let x=U.clientX,w=U.clientY;x+T>k&&(x=k-T-10),w+A>v&&(w=v-A-10),g({visible:!0,x,y:w,fieldId:H})},[c]),b=oe.useCallback(()=>{u(null),d("")},[]),m=oe.useCallback((U,H,T)=>{try{const A=T.trim();a(x=>x.map(w=>w.id===U?{...w,[H]:A}:w)),u(null),d("");const k={fieldEssence:"Field Essence",dgh:"DGH",always:"Always Return",notes:"Notes"};console.log(`${k[H]} updated for field ${U}:`,A||"(empty)");const v=c.find(x=>x.id===U);if(v){const x=A?`${k[H]} updated for "${v.name}"`:`${k[H]} cleared for "${v.name}"`;window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:x,type:"ok",durationMs:2e3}}))}}catch(A){console.error(`Failed to update ${H}:`,A),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`Failed to update ${H}: ${A}`,type:"error",durationMs:3e3}}))}},[c]),S=oe.useCallback(()=>{g(null)},[]);oe.useEffect(()=>{const U=()=>S(),H=T=>{T.key==="Escape"&&S()};return document.addEventListener("click",U),document.addEventListener("keydown",H),()=>{document.removeEventListener("click",U),document.removeEventListener("keydown",H)}},[S]);const C=oe.useCallback(async()=>{try{const U=["שם שדה","סוג שדה","מהות השדה",'דג"ח',"האם יחזור תמיד?","הערות"],H=new da.Workbook,T=H.addWorksheet("Template",{views:[{rightToLeft:!0}]});U.forEach((E,R)=>{const O=T.getColumn(R+1);O.width=Math.max(18,E.length+2),O.alignment={horizontal:"center",vertical:"middle",wrapText:!0},O.font={name:r,size:14}}),T.addRow(U);const A=T.getRow(1);A.height=50,A.eachCell(E=>{E.font={name:r,size:14,bold:!0,color:{argb:hn(e)}},E.fill={type:"pattern",pattern:"solid",fgColor:{argb:hn(n)}},E.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},E.alignment={horizontal:"center",vertical:"middle",wrapText:!0}});const k=50;for(let E=2;E<=1+k;E++){const R=T.getRow(E);U.forEach((O,W)=>{const V=R.getCell(W+1);V.font={name:r,size:14},V.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},V.alignment={horizontal:"center",vertical:"middle",wrapText:!0}})}const v=await H.xlsx.writeBuffer(),x=new Blob([v],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),w=URL.createObjectURL(x),_=document.createElement("a");_.href=w,_.download="PaaS Template.xlsx",document.body.appendChild(_),_.click(),_.remove(),URL.revokeObjectURL(w)}catch(U){console.error("Failed to generate template:",U),alert("Failed to generate template. Check console for details.")}},[]),I=U=>{try{if(!U)return"";const H=U==null?void 0:U.path;if(typeof H=="string"&&H.trim())return H.trim().split(".").join(" -> ");const T=String(U.id||"").trim();if(!T)return U.name||"";const A=T.split(":")[0];return!A||A==="root"||!A.includes(".")?U.name||"":A.split(".").join(" -> ")}catch(H){return console.error("Failed to compute full hierarchy label for targetNode:",H,U),(U==null?void 0:U.name)||""}},P=oe.useCallback(async(U,H,T)=>{try{const A=["שם שדה צד ספק","מהות השדה","סוג השדה צד ספק",'דג"ח',"שם השדה בתקן","סוג השדה בתקן","חוקי השדה בתקן","האם יחזור תמיד","פירוט הפרסר","המיפוי יתבצע בOUTPUTS הבאים:","הערות","האם צריך להזרים מהספק?"],k=new da.Workbook,v=k.addWorksheet("mapping",{views:[{rightToLeft:!0}]});A.forEach((_,E)=>{const R=v.getColumn(E+1);E===0?R.width=33:E===3?R.width=45:E===4?R.width=50:R.width=Math.max(18,_.length+2),R.alignment={horizontal:"center",vertical:"middle",wrapText:!0},R.font={name:r,size:14}}),v.addRow(A);const x=v.getRow(1);x.height=50,x.eachCell(_=>{_.font={name:r,size:14,bold:!0,color:{argb:hn(e)}},_.fill={type:"pattern",pattern:"solid",fgColor:{argb:hn(n)}},_.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},_.alignment={horizontal:"center",vertical:"middle",wrapText:!0}});const w=new Map;if(H&&Array.isArray(H)&&H.forEach(_=>{var R,O;const E=`${((R=_==null?void 0:_.field)==null?void 0:R.name)||""}__${((O=_==null?void 0:_.field)==null?void 0:O.fieldType)||""}`;w.set(E,_)}),c&&c.length>0)c.forEach(E=>{var D,K,N,M;const R=w.get(`${E.name}__${E.fieldType}`),W=!!!!(R&&((D=R==null?void 0:R.targetNode)!=null&&D.name&&String(R.targetNode.name).trim()||(K=R==null?void 0:R.targetNode)!=null&&K.path))||!!E.isMapped,V=[E.name||"",E.fieldEssence||"",E.fieldType||"",E.dgh||"",I(R==null?void 0:R.targetNode)||"",((N=R==null?void 0:R.targetNode)==null?void 0:N.type)||"",(M=R==null?void 0:R.targetNode)!=null&&M.rules?R.targetNode.rules.join(", "):"",E.always||"",(R==null?void 0:R.mappingDetails)||"",(R==null?void 0:R.outputs)||"",E.notes||"",""],X=v.addRow(V);try{if(E.color==="yellow"||E.color==="red"){const $=E.color==="yellow"?"#E6A700":"#F44336";X.eachCell(Y=>{Y.fill={type:"pattern",pattern:"solid",fgColor:{argb:hn($)}}})}}catch($){console.warn("Failed to apply colored row background:",$)}A.forEach(($,Y)=>{const ee=X.getCell(Y+1);if(ee.font={name:r,size:14},ee.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},ee.alignment={horizontal:"center",vertical:"middle",wrapText:!0},Y===A.length-1){const Q=W?"FF90EE90":E.color==="yellow"?hn("#E6A700"):E.color==="red"?hn("#F44336"):"FFFFFFFF";ee.fill={type:"pattern",pattern:"solid",fgColor:{argb:Q}}}})});else if(U&&U.length>0)U.forEach((_,E)=>{const R=v.addRow(_);A.forEach((O,W)=>{const V=R.getCell(W+1);V.font={name:r,size:14},V.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},V.alignment={horizontal:"center",vertical:"middle",wrapText:!0},W===A.length-1&&(V.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}})})});else if(H&&H.length>0)console.log("Processing saved mappings for Excel generation:",H),H.forEach((_,E)=>{console.log(`Processing mapping ${E+1}:`,_);const R=[_.field.name||"",_.field.fieldEssence||"",_.field.fieldType||"",_.field.dgh||"",I(_.targetNode)||"",_.targetNode.type||"",_.targetNode.rules?_.targetNode.rules.join(", "):"",_.field.always||"",_.mappingDetails||"",_.outputs||"",_.field&&_.field.notes?_.field.notes:"",""];console.log(`Generated Excel row ${E+1}:`,R);const O=v.addRow(R);try{const W=c==null?void 0:c.find(V=>V.name===_.field.name&&V.fieldType===_.field.fieldType);if(W&&(W.color==="yellow"||W.color==="red")){const V=W.color==="yellow"?"#E6A700":"#F44336";O.eachCell(X=>{X.fill={type:"pattern",pattern:"solid",fgColor:{argb:hn(V)}}})}}catch(W){console.warn("Failed to apply colored row background (savedMappings branch):",W)}A.forEach((W,V)=>{var D,K;const X=O.getCell(V+1);if(X.font={name:r,size:14},X.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},X.alignment={horizontal:"center",vertical:"middle",wrapText:!0},V===A.length-1){const M=!!!!((D=_==null?void 0:_.targetNode)!=null&&D.name&&String(_.targetNode.name).trim()||(K=_==null?void 0:_.targetNode)!=null&&K.path);X.fill={type:"pattern",pattern:"solid",fgColor:{argb:M?"FF90EE90":"FFFFFFFF"}}}})}),console.log(`Added ${H.length} rows to Excel worksheet`);else{console.log("No saved mappings found, creating empty template rows");const _=50;for(let E=2;E<=1+_;E++){const R=v.getRow(E);A.forEach((O,W)=>{const V=R.getCell(W+1);V.font={name:r,size:14},V.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},V.alignment={horizontal:"center",vertical:"middle",wrapText:!0}})}}if(T){const _=k.addWorksheet("__meta");_.getCell("A1").value="schemaKey",_.getCell("B1").value=T,_.state="veryHidden"}return k}catch(A){throw console.error("Failed to generate mapping workbook:",A),A}},[c]),L=oe.useCallback(async()=>{try{console.log("Getting saved mappings from global state...");let U=[];const H=new CustomEvent("excel:request-mappings",{detail:{callback:E=>{U=E}}});window.dispatchEvent(H),await new Promise(E=>setTimeout(E,100));let T="";const A=new CustomEvent("excel:request-selected-schema",{detail:{callback:E=>{T=E}}});window.dispatchEvent(A),await new Promise(E=>setTimeout(E,50)),console.log("Final saved mappings for Excel generation:",U);const v=await(await P(void 0,U,T)).xlsx.writeBuffer(),x=new Blob([v],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),w=URL.createObjectURL(x),_=document.createElement("a");_.href=w,_.download="mapping.xlsx",document.body.appendChild(_),_.click(),_.remove(),URL.revokeObjectURL(w)}catch(U){console.error("Failed to download mapping excel:",U),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`Failed to download mapping excel: ${U}`,type:"error",durationMs:5e3}}))}},[P]),j=oe.useCallback(async U=>{try{const H=await U.arrayBuffer(),T=new da.Workbook;await T.xlsx.load(H);let A="";try{const Z=T.getWorksheet("__meta");if(Z){const le=Z.getCell("B1"),ae=le==null?void 0:le.value;typeof ae=="string"&&(A=ae.trim()),!A&&typeof ae=="object"&&ae&&"text"in ae&&(A=String(ae.text||"").trim())}}catch{console.warn("No __meta sheet found in mapping file or failed to read schema key")}const k=T.worksheets[0];if(!k)throw new Error("No worksheet found in uploaded mapping file");const v=k.getRow(1),x={};v.eachCell((Z,le)=>{const ae=String(Z.value??"").trim();ae&&(x[ae]=le)});const w=Z=>{for(const le of Z)if(x[le]!=null)return x[le];return-1},_=w(["שם שדה צד ספק"]),E=w(["מהות השדה"]),R=w(["סוג השדה צד ספק"]),O=w(['דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח','דג"ח']),W=w(["שם השדה בתקן"]),V=w(["סוג השדה בתקן"]),X=w(["חוקי השדה בתקן"]),D=w(["האם יחזור תמיד"]),K=w(["פירוט הפרסר"]),N=w(["המיפוי יתבצע בOUTPUTS הבאים:"]),M=w(["הערות"]),$=[],Y=new Map;c.forEach(Z=>{Y.set(`${Z.name}__${Z.fieldType}`,{...Z})});const ee=k.rowCount;for(let Z=2;Z<=ee;Z++){const le=k.getRow(Z),ae=(()=>{try{let Be=!1;return le.eachCell(Xe=>{const Ke=Xe&&Xe.fill||null,rt=Ke&&Ke.fgColor&&(Ke.fgColor.argb||Ke.fgColor.rgb)||"";if(typeof rt=="string"&&rt){const dt=rt.toUpperCase();(dt===hn("#E6A700").toUpperCase()||dt==="FFE6A700")&&(Be=!0)}}),Be}catch{return!1}})(),J=(()=>{try{let Be=!1;return le.eachCell(Xe=>{const Ke=Xe&&Xe.fill||null,rt=Ke&&Ke.fgColor&&(Ke.fgColor.argb||Ke.fgColor.rgb)||"";if(typeof rt=="string"&&rt){const dt=rt.toUpperCase();(dt===hn("#F44336").toUpperCase()||dt==="FFF44336")&&(Be=!0)}}),Be}catch{return!1}})(),ne=_>0?String(le.getCell(_).value??"").trim():"",se=R>0?String(le.getCell(R).value??"").trim():"",me=E>0?String(le.getCell(E).value??"").trim():"",de=O>0?String(le.getCell(O).value??"").trim():"",ge=W>0?String(le.getCell(W).value??"").trim():"",ve=(()=>{try{if(!ge)return"";if(ge.includes("->")){const Be=ge.split("->").map(rt=>rt.trim()).filter(Boolean),Xe=Be.length?Be[Be.length-1]:ge,Ke=Be.join(".");return{targetName:Xe,targetPath:Ke}}return{targetName:ge,targetPath:""}}catch(Be){return console.error("Failed to parse target name from imported mapping row:",Be,ge),{targetName:ge,targetPath:""}}})(),he=typeof ve=="object"&&ve?ve.targetName:"",Me=typeof ve=="object"&&ve?ve.targetPath:"",Ee=V>0?String(le.getCell(V).value??"").trim():"",Fe=X>0?String(le.getCell(X).value??"").trim():"",De=D>0?String(le.getCell(D).value??"").trim():"",et=K>0?String(le.getCell(K).value??"").trim():"",He=N>0?String(le.getCell(N).value??"").trim():"",Ze=M>0?String(le.getCell(M).value??"").trim():"";if(![ne,se,me,de,he,Ee,Fe,De,et,He,Ze].some(Boolean))continue;const We=`${ne}__${se}`,Ce=Y.get(We);Ce?(Ce.fieldEssence=me||Ce.fieldEssence||"",Ce.dgh=de||Ce.dgh||"",Ce.always=De||Ce.always||"",Ce.notes=Ze||Ce.notes||"",he||et||He?(Ce.isMapped=!0,Ce.mappedTargetLabel=I({id:"",name:he,path:Me})||"",Ce.color=ae?"yellow":J?"red":Ce.color||"green"):(ae||J)&&(Ce.color=ae?"yellow":"red"),Y.set(We,Ce)):Y.set(We,{id:`excel-imported-${Y.size+1}`,name:ne||`Field_${Y.size+1}`,fieldType:se||"",fieldEssence:me||"",dgh:de||"",always:De||"",notes:Ze||"",expanded:!1,isMapped:!!(he||et||He),mappedTargetLabel:he||et||He?I({id:"",name:he,path:Me})||"":void 0,color:ae?"yellow":J?"red":he||et||He?"green":"default"}),$.push({targetNode:{id:`import-${Z}`,name:he,type:Ee,rules:Fe?Fe.split(",").map(Be=>Be.trim()).filter(Boolean):[],...Me?{path:Me}:{}},field:{name:ne,fieldType:se,fieldEssence:me,dgh:de,always:De,notes:Ze},mappingDetails:et,outputs:He,timestamp:Date.now()})}const Q=Array.from(Y.values());a(Q),window.dispatchEvent(new CustomEvent("excel:mappings-imported",{detail:{mappings:$}})),A&&window.dispatchEvent(new CustomEvent("excel:apply-selected-schema",{detail:{key:A}})),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`Mapping file loaded. ${Q.length} fields refreshed`,type:"ok",durationMs:4e3}}))}catch(H){console.error("Failed to parse mapping Excel:",H),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"Failed to parse mapping Excel",type:"error",durationMs:5e3}}))}},[c]),B=oe.useCallback(async U=>{try{const H=await U.arrayBuffer(),T=new da.Workbook;await T.xlsx.load(H);const A=T.worksheets[0];if(!A)throw new Error("No worksheet found in uploaded file");const k=[],v=A.rowCount;for(let O=2;O<=v;O++){const W=String(A.getRow(O).getCell(1).value??"").trim(),V=String(A.getRow(O).getCell(2).value??"").trim(),X=String(A.getRow(O).getCell(3).value??"").trim(),D=String(A.getRow(O).getCell(4).value??"").trim(),K=String(A.getRow(O).getCell(5).value??"").trim(),N=String(A.getRow(O).getCell(6).value??"").trim();!W&&!V&&!X&&!D&&!K&&!N||k.push({name:W,type:V,essence:X,dgh:D,always:K,notes:N})}const x=[];k.forEach((O,W)=>{x.push({id:`excel-${W+1}`,name:O.name||`Field_${W+1}`,fieldType:O.type||"",fieldEssence:O.essence||"",dgh:O.dgh||"",always:O.always||"",notes:O.notes||"",expanded:!1,color:"default"})}),a(x);const w=k.length,_=x.length;let E="",R="ok";w===0?(E="האקסל ריק או שלא הצלחתי לקרוא אותו :(",R="error"):_===w?(E=`אקסל הועלה בהצלחה! ${_} שדות חולצו מתוך ${w} שורות באקסל.`,R="ok"):(E=`אקסל הועלה בהצלחה! ${_} שדות חולצו מתוך ${w} שורות באקסל.`,R="warn"),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:E,type:R,durationMs:5e3}})),_>0&&window.dispatchEvent(new CustomEvent("excel:uploaded"))}catch(H){console.error("Failed to parse uploaded Excel:",H),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"Excel is empty or couldn't read it",type:"error",durationMs:5e3}}))}},[]),z=oe.useCallback(()=>{try{if(a([]),u(null),d(""),g(null),s.current){try{s.current.remove()}catch{}s.current=null}window.dispatchEvent(new Event("excel:clear-all-mappings")),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:'נוקה ממשק הדג"ח',type:"ok",durationMs:2500}}))}catch(U){console.error("Failed to clear Excel extractor:",U),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`ניקוי נכשל: ${U}`,type:"error",durationMs:4e3}}))}},[]);return oe.useEffect(()=>{const U=()=>{C()},H=()=>{L()},T=()=>{var x;(x=l.current)==null||x.click()},A=()=>{var x;(x=o.current)==null||x.click()},k=async x=>{try{const{data:w,filename:_="mapping.xlsx"}=x.detail||{};let E="";const R=new CustomEvent("excel:request-selected-schema",{detail:{callback:K=>{E=K}}});window.dispatchEvent(R),await new Promise(K=>setTimeout(K,50));const W=await(await P(w,void 0,E)).xlsx.writeBuffer(),V=new Blob([W],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),X=URL.createObjectURL(V),D=document.createElement("a");D.href=X,D.download=_,document.body.appendChild(D),D.click(),D.remove(),URL.revokeObjectURL(X)}catch(w){console.error("Failed to save mapping excel:",w),alert("Failed to save mapping excel. Check console for details.")}},v=x=>{const{field:w,targetNode:_}=x.detail||{};w&&a(E=>E.map(R=>{if(R.name===w.name&&R.fieldType===w.fieldType){const O=I(_);return{...R,isMapped:!0,mappedTargetLabel:O||void 0,color:R.color||"default"}}return R}))};return window.addEventListener("excel:download-template-request",U),window.addEventListener("excel:download-mapping-request",H),window.addEventListener("excel:upload-request",T),window.addEventListener("excel:upload-mapping-request",A),window.addEventListener("excel:save-mapping-request",k),window.addEventListener("excel:mapping-saved",v),()=>{window.removeEventListener("excel:download-template-request",U),window.removeEventListener("excel:download-mapping-request",H),window.removeEventListener("excel:upload-request",T),window.removeEventListener("excel:upload-mapping-request",A),window.removeEventListener("excel:save-mapping-request",k),window.removeEventListener("excel:mapping-saved",v)}},[C,L,P]),F.jsx("aside",{className:"fridge-panel",children:F.jsxs("div",{className:"fridge-door",children:[F.jsx("div",{className:"fridge-handle"}),F.jsx("div",{className:"fridge-title",children:'פרק תדג"ח'}),F.jsx("div",{className:"fridge-subtitle",children:'שדות מהדג"ח'}),F.jsx("div",{className:"fridge-divider"}),c.length>0&&F.jsx("div",{className:"excel-fields",onDragOver:U=>{U.preventDefault()},children:F.jsx("div",{className:"excel-fields-list",children:c.map((U,H)=>F.jsxs("div",{"data-field-id":U.id,"data-color":U.color,className:`excel-cube ${U.expanded?"open":""} ${U.isMapped?"mapped":""} ${(i==null?void 0:i.id)===U.id?"editing":""}`,draggable:!0,title:"Right-click to change color",style:{background:U.isMapped?void 0:U.color?Nc[U.color].bg:Nc.default.bg,boxShadow:U.isMapped?void 0:"0 4px 12px rgba(0,0,0,0.2)"},onDragStart:T=>{T.dataTransfer.setData("application/json",JSON.stringify({kind:"excelField",field:U})),T.dataTransfer.setData("application/vnd.excel-field","1"),T.dataTransfer.effectAllowed="copy",window.__excelDragging=!0,window.dispatchEvent(new CustomEvent("excel:drag-start",{detail:U}));try{s.current&&(s.current.remove(),s.current=null);const k=T.currentTarget.cloneNode(!0);k.style.position="absolute",k.style.top="-1000px",k.style.left="-1000px",k.style.pointerEvents="none",k.style.transform="none",k.style.boxShadow="0 10px 28px rgba(0,0,0,0.36)",k.style.color="#ffffff",k.style.filter="saturate(1.1) brightness(1.05)",k.style.opacity="0.95",document.body.appendChild(k),s.current=k;const v=k.getBoundingClientRect(),x=v.width/2,w=v.height/2;T.dataTransfer.setDragImage&&T.dataTransfer.setDragImage(k,x,w)}catch(A){console.debug("Failed to set custom drag image",A)}},onDragEnd:()=>{if(window.__excelDragging=!1,window.dispatchEvent(new Event("excel:drag-end")),s.current){try{s.current.remove()}catch{}s.current=null}},onClick:T=>{const A=T.target;if(A.closest(".editable-field")||A.closest("input")||A.closest("textarea")){T.stopPropagation();return}a(v=>v.map((x,w)=>w===H?{...x,expanded:!x.expanded}:x))},onContextMenu:T=>{p(T,U.id)},children:[F.jsxs("div",{className:"excel-cube-head",style:{position:"relative"},children:[F.jsx("div",{className:"excel-cube-name",children:U.name}),U.fieldType&&F.jsx("div",{className:"excel-cube-sub",children:U.fieldType}),U.isMapped&&F.jsx("div",{className:"mapping-checkmark",title:"Field is mapped",style:{position:"absolute",top:"8px",right:"8px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#4CAF50",border:"2px solid #000",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"12px",fontWeight:"bold",zIndex:1},children:"✓"})]}),F.jsxs("div",{className:"excel-cube-desc",dir:"rtl",style:{display:U.expanded?"grid":"none"},children:[F.jsxs("div",{className:"row",children:[F.jsx("span",{className:"k",children:"מהות השדה:"}),(i==null?void 0:i.id)===U.id&&i.field==="fieldEssence"?F.jsx("textarea",{className:"editable-field",value:f,onChange:T=>{d(T.target.value);const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onFocus:T=>{const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onKeyDown:T=>{if(T.key==="Enter"&&T.shiftKey){T.preventDefault();const A=T.currentTarget,k=A.selectionStart??f.length,v=A.selectionEnd??f.length,x=f.slice(0,k)+`
`+f.slice(v);d(x),setTimeout(()=>{try{A.selectionStart=A.selectionEnd=k+1}catch{}},0);return}T.key==="Enter"?m(U.id,"fieldEssence",f):T.key==="Escape"&&b()},onBlur:()=>{f.trim()!==(U.fieldEssence||"")?m(U.id,"fieldEssence",f):b()},autoFocus:!0,style:{border:"1px solid #7cc0ff",borderRadius:"4px",padding:"6px 8px",fontSize:"14px",width:"100%",minHeight:"64px",resize:"none",overflow:"hidden",backgroundColor:"rgba(124, 192, 255, 0.1)",color:"#e6f1ff",outline:"none",boxShadow:"0 0 0 2px rgba(124, 192, 255, 0.2)"}}):F.jsxs("span",{className:"v editable-field",onDoubleClick:T=>{T.stopPropagation(),u({id:U.id,field:"fieldEssence"}),d(U.fieldEssence||"")},style:{cursor:"pointer",whiteSpace:"pre-wrap"},title:"Double-click to edit",children:[U.fieldEssence||"-",F.jsx("span",{className:`edit-icon ${U.fieldEssence?"":"empty"}`,children:F.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",marginLeft:"6px"},children:F.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"#000000"})})})})]})]}),F.jsxs("div",{className:"row",children:[F.jsx("span",{className:"k",children:'דג"ח:'}),(i==null?void 0:i.id)===U.id&&i.field==="dgh"?F.jsx("textarea",{className:"editable-field",value:f,onChange:T=>{d(T.target.value);const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onFocus:T=>{const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onKeyDown:T=>{if(T.key==="Enter"&&T.shiftKey){T.preventDefault();const A=T.currentTarget,k=A.selectionStart??f.length,v=A.selectionEnd??f.length,x=f.slice(0,k)+`
`+f.slice(v);d(x),setTimeout(()=>{try{A.selectionStart=A.selectionEnd=k+1}catch{}},0);return}T.key==="Enter"?m(U.id,"dgh",f):T.key==="Escape"&&b()},onBlur:()=>{f.trim()!==(U.dgh||"")?m(U.id,"dgh",f):b()},autoFocus:!0,style:{border:"1px solid #7cc0ff",borderRadius:"4px",padding:"6px 8px",fontSize:"14px",width:"100%",minHeight:"64px",resize:"none",overflow:"hidden",backgroundColor:"rgba(124, 192, 255, 0.1)",color:"#e6f1ff",outline:"none",boxShadow:"0 0 0 2px rgba(124, 192, 255, 0.2)"}}):F.jsxs("span",{className:"v editable-field",onDoubleClick:T=>{T.stopPropagation(),u({id:U.id,field:"dgh"}),d(U.dgh||"")},title:"Double-click to edit",style:{whiteSpace:"pre-wrap"},children:[U.dgh||"-",F.jsx("span",{className:`edit-icon ${U.dgh?"":"empty"}`,children:F.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",marginLeft:"6px"},children:F.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"#000000"})})})})]})]}),F.jsxs("div",{className:"row",children:[F.jsx("span",{className:"k",children:"האם יחזור תמיד?"}),(i==null?void 0:i.id)===U.id&&i.field==="always"?F.jsx("textarea",{className:"editable-field",value:f,onChange:T=>{d(T.target.value);const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onFocus:T=>{const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onKeyDown:T=>{if(T.key==="Enter"&&T.shiftKey){T.preventDefault();const A=T.currentTarget,k=A.selectionStart??f.length,v=A.selectionEnd??f.length,x=f.slice(0,k)+`
`+f.slice(v);d(x),setTimeout(()=>{try{A.selectionStart=A.selectionEnd=k+1}catch{}},0);return}T.key==="Enter"?m(U.id,"always",f):T.key==="Escape"&&b()},onBlur:()=>{f.trim()!==(U.always||"")?m(U.id,"always",f):b()},autoFocus:!0,style:{border:"1px solid #7cc0ff",borderRadius:"4px",padding:"6px 8px",fontSize:"14px",width:"100%",minHeight:"64px",resize:"none",overflow:"hidden",backgroundColor:"rgba(124, 192, 255, 0.1)",color:"#e6f1ff",outline:"none",boxShadow:"0 0 0 2px rgba(124, 192, 255, 0.2)"}}):F.jsxs("span",{className:"v editable-field",onDoubleClick:T=>{T.stopPropagation(),u({id:U.id,field:"always"}),d(U.always||"")},title:"Double-click to edit",style:{whiteSpace:"pre-wrap"},children:[U.always||"-",F.jsx("span",{className:`edit-icon ${U.always?"":"empty"}`,children:F.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",marginLeft:"6px"},children:F.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"#000000"})})})})]})]}),F.jsxs("div",{className:"row",children:[F.jsx("span",{className:"k",children:"הערות:"}),(i==null?void 0:i.id)===U.id&&i.field==="notes"?F.jsx("textarea",{className:"editable-field",value:f,onChange:T=>{d(T.target.value);const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onFocus:T=>{const A=T.currentTarget;A.style.height="auto",A.style.height=`${A.scrollHeight}px`},onKeyDown:T=>{if(T.key==="Enter"&&T.shiftKey){T.preventDefault();const A=T.currentTarget,k=A.selectionStart??f.length,v=A.selectionEnd??f.length,x=f.slice(0,k)+`
`+f.slice(v);d(x),setTimeout(()=>{try{A.selectionStart=A.selectionEnd=k+1}catch{}},0);return}T.key==="Enter"?m(U.id,"notes",f):T.key==="Escape"&&b()},onBlur:()=>{f.trim()!==(U.notes||"")?m(U.id,"notes",f):b()},autoFocus:!0,style:{border:"1px solid #7cc0ff",borderRadius:"4px",padding:"6px 8px",fontSize:"14px",width:"100%",minHeight:"64px",resize:"none",overflow:"hidden",backgroundColor:"rgba(124, 192, 255, 0.1)",color:"#e6f1ff",outline:"none",boxShadow:"0 0 0 2px rgba(124, 192, 255, 0.2)"}}):F.jsxs("span",{className:"v editable-field",onDoubleClick:T=>{T.stopPropagation(),u({id:U.id,field:"notes"}),d(U.notes||"")},style:{cursor:"pointer"},title:"Double-click to edit",children:[F.jsx("span",{style:{whiteSpace:"pre-wrap"},children:U.notes||"-"}),F.jsx("span",{className:`edit-icon ${U.notes?"":"empty"}`,children:F.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",marginLeft:"6px"},children:F.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"#000000"})})})})]})]}),U.isMapped&&U.mappedTargetLabel&&F.jsxs("div",{className:"row",children:[F.jsx("span",{className:"k",children:"שדה בתקן:"}),F.jsx("span",{className:"v",style:{fontSize:"8px"},children:U.mappedTargetLabel})]})]})]},U.id))})}),h&&F.jsxs("div",{className:"cube-context-menu",style:{position:"fixed",top:h.y,left:h.x,zIndex:1e3,backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"8px",padding:"8px 0",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",minWidth:"120px"},onClick:U=>U.stopPropagation(),children:[F.jsxs("div",{className:"context-menu-title",style:{padding:"8px 16px",fontSize:"12px",color:"#888",borderBottom:"1px solid #444",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F.jsx("span",{children:"Change Cube Color"}),F.jsx("button",{onClick:S,style:{background:"none",border:"none",color:"#888",cursor:"pointer",fontSize:"14px",padding:"2px",borderRadius:"3px",transition:"all 0.2s ease"},onMouseEnter:U=>{U.currentTarget.style.backgroundColor="#444",U.currentTarget.style.color="#fff"},onMouseLeave:U=>{U.currentTarget.style.backgroundColor="transparent",U.currentTarget.style.color="#888"},title:"Close",children:"✕"})]}),Object.entries(Nc).filter(([U])=>U!=="green").map(([U,H])=>F.jsxs("div",{className:"color-option",onClick:()=>y(h.fieldId,U),style:{padding:"8px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",color:"#fff",transition:"background-color 0.2s"},onMouseEnter:T=>{T.currentTarget.style.backgroundColor="#444"},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="transparent"},children:[F.jsx("div",{className:"color-preview",style:{width:"16px",height:"16px",borderRadius:"3px",background:U==="default"?"linear-gradient(180deg, rgba(124,192,255,0.6), rgba(124,192,255,0.3))":H.bg}}),F.jsx("span",{style:{textTransform:"capitalize"},children:U})]},U))]}),F.jsxs("div",{className:"excel-actions",children:[F.jsx("input",{ref:l,type:"file",accept:".xlsx,.xls",style:{display:"none"},onChange:U=>{var T;const H=(T=U.target.files)==null?void 0:T[0];H&&B(H),l.current&&(l.current.value="")}}),F.jsx("input",{ref:o,type:"file",accept:".xlsx,.xls",style:{display:"none"},onChange:U=>{var T;const H=(T=U.target.files)==null?void 0:T[0];H&&j(H),o.current&&(o.current.value="")}}),c.filter(U=>U.isMapped).length>0&&F.jsxs("div",{className:"mappings-count",children:[c.filter(U=>U.isMapped).length," mapping",c.filter(U=>U.isMapped).length!==1?"s":""," saved"]})]}),F.jsx("div",{className:"fridge-note",children:c.length===0?'הורידו את הפורמט, מלאו אותו בדג"ח מהספק והעלו אותו לפירוק!':'גררו שדה מהדג"ח לשדה שמתאים לו מהתקן, הכניסו את הפרסר הרצוי ולחצו שמור. לאחר שסיימתם למפות את כל השדות הרלוונטים - לחצו על כפתור הורדת המאפינג ותיהנו!'}),c.length===0&&F.jsx("div",{className:"excel-cta"}),c.length>0&&F.jsx("button",{className:"btn ghost extractor-clear-btn","aria-label":'נקה את הדג"ח',title:'נקה את הדג"ח',onClick:U=>{U.stopPropagation(),z()},children:F.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M9 3c-.55 0-1 .45-1 1v1H5.5c-.28 0-.5.22-.5.5s.22.5.5.5H6v13c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6h.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5H16V4c0-.55-.45-1-1-1H9zm1 2V4h4v1h-4zm-2 2h10v12c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1V7zm3 2c-.28 0-.5.22-.5.5v7c0 .28.22.5.5.5s.5-.22.5-.5v-7c0-.28-.22-.5-.5-.5zm4 0c-.28 0-.5.22-.5.5v7c0 .28.22.5.5.5s.5-.22.5-.5v-7c0-.28-.22-.5-.5-.5z"})})})]})})}function gv(r,t,e){const n=[],l=(o,s,c)=>{try{const a=Array.isArray(o==null?void 0:o.type)?o.type[0]:o==null?void 0:o.type;if(a==="object"&&(o!=null&&o.properties)&&typeof o.properties=="object"){const i=Array.isArray(o==null?void 0:o.required)?o.required:[],u=new Set(i);for(const[f,d]of Object.entries(o.properties))l(d,[...s,String(f)],u.has(String(f)))}else if(a==="array"&&(o!=null&&o.items))l(o.items,[...s,"item"],c);else{const i=s[s.length-1]||t,u=s.join(".");if(u){const f=[];c&&f.push("required"),typeof(o==null?void 0:o.pattern)=="string"&&f.push(`pattern: ${o.pattern}`),typeof(o==null?void 0:o.format)=="string"&&f.push(`format: ${o.format}`),typeof(o==null?void 0:o.minLength)=="number"&&f.push(`minLength: ${o.minLength}`),typeof(o==null?void 0:o.maxLength)=="number"&&f.push(`maxLength: ${o.maxLength}`),typeof(o==null?void 0:o.minimum)=="number"&&f.push(`minimum: ${o.minimum}`),typeof(o==null?void 0:o.maximum)=="number"&&f.push(`maximum: ${o.maximum}`),Array.isArray(o==null?void 0:o.enum)&&f.push(`enum: ${o.enum.join(", ")}`),n.push({id:`${r}:${u}`,schemaKey:r,schemaTitle:t,path:u,name:i,type:a||void 0,description:typeof(o==null?void 0:o.description)=="string"?o.description:void 0,rules:f.length?f:void 0})}}}catch(a){console.error("Failed to traverse schema at path:",s.join("."),a)}};return l(e,[t],!1),n}function yv({schemas:r}){var C,I;const[t,e]=oe.useState(""),[n,l]=oe.useState(null),[o,s]=oe.useState("all"),[c,a]=oe.useState(!1),[i,u]=oe.useState(0),[f,d]=oe.useState("all"),[h,g]=oe.useState(!1),y=oe.useRef(null),p=oe.useRef(null),b=oe.useRef(null);oe.useEffect(()=>{const P=L=>{const j=L.target;j.closest(".action-dropdown")||j.closest(".schema-dropdown")||(y.current&&!y.current.contains(j)&&a(!1),b.current&&!b.current.contains(j)&&g(!1))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const m=oe.useMemo(()=>{const P=[];try{Object.entries(r).forEach(([L,j])=>{P.push(...gv(L,j.title||L,j.schema))})}catch(L){console.error("Failed to flatten schemas:",L)}return P.sort((L,j)=>L.schemaTitle.localeCompare(j.schemaTitle)||L.path.localeCompare(j.path))},[r]),S=oe.useMemo(()=>{let P=m;f&&f!=="all"&&(P=P.filter(j=>j.schemaKey===f)),o==="fields"?P=P.filter(j=>j.path.split(".").length>2):o==="hierarchies"&&(P=P.filter(j=>j.path.split(".").length<=2));const L=t.trim().toLowerCase();return L?P.filter(j=>j.path.toLowerCase().includes(L)||j.name.toLowerCase().includes(L)||j.schemaTitle.toLowerCase().includes(L)||(j.type?j.type.toLowerCase().includes(L):!1)||(j.description?j.description.toLowerCase().includes(L):!1)):P},[m,t,o,f]);return oe.useEffect(()=>{const P=L=>{if(S.length!==0)switch(L.key){case"ArrowDown":L.preventDefault(),u(j=>Math.min(j+1,S.length-1));break;case"ArrowUp":L.preventDefault(),u(j=>Math.max(j-1,0));break;case"Home":L.preventDefault(),u(0);break;case"End":L.preventDefault(),u(S.length-1);break;case"Enter":L.preventDefault(),S[i]&&(console.log("Enter pressed - clearing old selection and setting new one"),l(null),setTimeout(()=>{l(S[i]),u(i)},10));break}};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[S,i]),oe.useEffect(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[i]),oe.useEffect(()=>{console.log("Selected state changed to:",(n==null?void 0:n.id)||"null")},[n]),F.jsxs(F.Fragment,{children:[F.jsx("aside",{className:"value-panel",dir:"rtl",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.12), 0 20px 60px rgba(0,0,0,0.35)"},children:F.jsxs("div",{className:"value-panel-inner",children:[F.jsxs("div",{className:"value-search",children:[F.jsxs("div",{className:"schema-selector",ref:b,style:{marginBottom:"12px",width:"100%"},children:[F.jsxs("button",{className:`btn ghost ${f?"":"is-placeholder"}`,onClick:()=>g(!h),style:{width:"100%"},children:[f==="all"?"כל התקנים":f&&r[f]?r[f].title:F.jsx("span",{className:"schema-placeholder",dir:"rtl",children:"בחר תקן"}),F.jsx("span",{style:{marginLeft:"8px"},children:"▼"})]}),h&&F.jsxs("div",{className:"schema-dropdown",children:[F.jsx("div",{className:"schema-option",onClick:()=>{d("all"),g(!1)},children:"כל התקנים"}),Object.entries(r).map(([P,L])=>F.jsx("div",{className:"schema-option",onClick:()=>{d(P),g(!1)},children:L.title},P))]})]}),F.jsxs("div",{className:"value-search-row",children:[F.jsx("input",{type:"text",placeholder:"חפש לפי שם/תיאור/היררכיה...",value:t,onChange:P=>e(P.target.value),className:"value-search-input"}),F.jsxs("div",{className:"value-filter-dropdown",ref:y,children:[F.jsxs("button",{className:"btn",onClick:()=>a(!c),children:[F.jsx("span",{children:"⏷"}),F.jsx("span",{children:o==="all"?"הכל":o==="fields"?"רק שדות בסיסיים":"רק היררכיות"})]}),c&&F.jsxs("div",{className:"value-filter-options",children:[F.jsx("div",{className:`value-filter-option ${o==="all"?"active":""}`,onClick:()=>{s("all"),a(!1)},children:"הכל"}),F.jsx("div",{className:`value-filter-option ${o==="fields"?"active":""}`,onClick:()=>{s("fields"),a(!1)},children:"רק שדות בסיסיים"}),F.jsx("div",{className:`value-filter-option ${o==="hierarchies"?"active":""}`,onClick:()=>{s("hierarchies"),a(!1)},children:"רק היררכיות"})]})]})]})]}),F.jsx("div",{className:"value-list custom-scrollbar",role:"list",children:S.map((P,L)=>F.jsx("button",{ref:L===i?p:null,className:`value-item ${L===i?"selected":""} ${(n==null?void 0:n.id)===P.id?"clicked":""}`,role:"listitem",title:`${P.schemaTitle} / ${P.path}`,onClick:()=>{l(P),u(-1)},children:F.jsxs("div",{className:"value-row",children:[F.jsx("span",{className:"value-hierarchy",children:(()=>{const j=P.path.split(".");return j.length<=2?"":j.slice(1,j.length-1).join(".")})()}),F.jsx("span",{className:"value-name",children:P.name})]})},P.id))})]})}),F.jsxs("section",{className:"value-detail-panel dictionary-box",dir:"rtl",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:"1px solid rgba(255,255,255,0.12)",overflow:"auto",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.12), 0 20px 60px rgba(0,0,0,0.35)"},children:[F.jsxs("div",{className:"value-detail-headline",style:{fontSize:"50px !important"},children:[F.jsx("div",{}),F.jsx("div",{className:`value-detail-path ${n?"selected":""}`,style:{fontSize:"26px !important"},children:n?(()=>{const P=n.path.split(".");return P.length<=2?n.name:`${P.slice(1,P.length-1).join(" -> ")} -> ${n.name}`})():""})]}),F.jsxs("div",{className:"value-detail-body",style:{fontSize:"26px !important"},children:[F.jsxs("div",{className:"detail-row",children:[F.jsx("span",{className:"k",style:{fontSize:"50px !important",color:"var(--muted) !important"},children:"מהות השדה:"}),F.jsx("span",{className:"v",style:{fontSize:"26px !important",color:"var(--text) !important"},children:(n==null?void 0:n.description)||"-"})]}),F.jsxs("div",{className:"detail-row",children:[F.jsx("span",{className:"k",style:{fontSize:"26px !important",color:"var(--muted) !important"},children:"סוג השדה:"}),F.jsx("span",{className:"v",style:{fontSize:"26px !important",color:"var(--text) !important"},children:(n==null?void 0:n.type)||"-"})]}),F.jsxs("div",{className:"detail-row",children:[F.jsx("span",{className:"k",style:{fontSize:"26px !important",color:"var(--muted) !important"},children:"האם שדה חובה:"}),F.jsx("span",{className:"v",style:{fontSize:"26px !important",color:"var(--text) !important"},children:(C=n==null?void 0:n.rules)!=null&&C.some(P=>P==="required")?"כן":"לא"})]}),F.jsxs("div",{className:"detail-row",children:[F.jsx("span",{className:"k",style:{fontSize:"26px !important",color:"var(--muted) !important"},children:'דג"ח/רשימה סגורה:'}),F.jsx("span",{className:"v",style:{fontSize:"26px !important",color:"var(--text) !important"},children:(I=n==null?void 0:n.rules)!=null&&I.find(P=>P.startsWith("enum"))?(()=>{const P=n.rules.find(L=>L.startsWith("enum"));if(P){const L=P.replace("enum: ","").split(", ");return F.jsx("div",{className:"enum-values",style:{fontSize:"26px !important"},children:L.map((j,B)=>F.jsx("div",{className:"enum-value",style:{fontSize:"26px !important"},children:j},B))})}return"-"})():"-"})]}),F.jsxs("div",{className:"detail-row",children:[F.jsx("span",{className:"k",style:{fontSize:"26px !important",color:"var(--muted) !important"},children:"חוקים:"}),F.jsx("span",{className:"v",style:{fontSize:"26px !important",color:"var(--text) !important"},children:n!=null&&n.rules&&n.rules.length?n.rules.join(" | "):"-"})]}),F.jsxs("div",{className:"detail-row",children:[F.jsx("span",{className:"k",style:{fontSize:"26px !important",color:"var(--muted) !important"},children:"בשימוש במשפחות:"}),F.jsx("span",{className:"v",style:{fontSize:"26px !important",color:"var(--text) !important"},children:n?(()=>{const P=new Set;return m.forEach(L=>{L.name===n.name&&L.path.split(".").slice(1,-1).join(".")===n.path.split(".").slice(1,-1).join(".")&&P.add(L.schemaTitle)}),Array.from(P).sort().join(", ")||"-"})():"-"})]})]})]})]})}/*! @azure/msal-common v15.13.0 2025-09-24 */const Re={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Yn={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},_i={GET:"GET",POST:"POST"},_s=[Re.OPENID_SCOPE,Re.PROFILE_SCOPE,Re.OFFLINE_ACCESS_SCOPE],wp=[..._s,Re.EMAIL_SCOPE],vr={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},xp={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},ii={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ha={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},wr={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Qd={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Ul={QUERY:"query",FRAGMENT:"fragment"},bv={QUERY:"query"},_0={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},fa={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Ao={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},lr={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Jd="appmetadata",vv="client_info",sl="1",ol={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Pr={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},or={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Mt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},io={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},_p={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},zi={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Oc={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},bi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},wv={Pop:"pop"},S0=300;/*! @azure/msal-common v15.13.0 2025-09-24 */const al="unexpected_error",xv="post_request_failed";/*! @azure/msal-common v15.13.0 2025-09-24 */const Sp={[al]:"Unexpected error in authentication.",[xv]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ot extends Error{constructor(t,e,n){const l=e?`${t}: ${e}`:t;super(l),Object.setPrototypeOf(this,Ot.prototype),this.errorCode=t||Re.EMPTY_STRING,this.errorMessage=e||Re.EMPTY_STRING,this.subError=n||Re.EMPTY_STRING,this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function Fu(r,t){return new Ot(r,t?`${Sp[r]} ${t}`:Sp[r])}/*! @azure/msal-common v15.13.0 2025-09-24 */const Zd="client_info_decoding_error",k0="client_info_empty_error",eh="token_parsing_error",C0="null_or_empty_token",Cn="endpoints_resolution_error",T0="network_error",E0="openid_config_error",A0="hash_not_deserialized",ys="invalid_state",I0="state_mismatch",Bu="state_not_found",M0="nonce_mismatch",th="auth_time_not_found",R0="max_age_transpired",_v="multiple_matching_tokens",Sv="multiple_matching_accounts",N0="multiple_matching_appMetadata",O0="request_cannot_be_made",P0="cannot_remove_empty_scope",j0="cannot_append_scopeset",zu="empty_input_scopeset",kv="device_code_polling_cancelled",Cv="device_code_expired",Tv="device_code_unknown_error",rh="no_account_in_silent_request",D0="invalid_cache_record",nh="invalid_cache_environment",Uu="no_account_found",Hu="no_crypto_object",Ev="unexpected_credential_type",Av="invalid_assertion",Iv="invalid_client_credential",si="token_refresh_required",Mv="user_timeout_reached",L0="token_claims_cnf_required_for_signedjwt",F0="authorization_code_missing_from_server_response",B0="binding_key_not_removed",z0="end_session_endpoint_not_supported",ih="key_id_missing",Rv="no_network_connectivity",Nv="user_canceled",Ov="missing_tenant_id_error",xt="method_not_implemented",Pv="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.13.0 2025-09-24 */const kp={[Zd]:"The client info could not be parsed/decoded correctly",[k0]:"The client info was empty",[eh]:"Token cannot be parsed",[C0]:"The token is null or empty",[Cn]:"Endpoints cannot be resolved",[T0]:"Network request failed",[E0]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[A0]:"The hash parameters could not be deserialized",[ys]:"State was not the expected format",[I0]:"State mismatch error",[Bu]:"State not found",[M0]:"Nonce mismatch error",[th]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[R0]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[_v]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Sv]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[N0]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[O0]:"Token request cannot be made without authorization code or refresh token.",[P0]:"Cannot remove null or empty scope from ScopeSet",[j0]:"Cannot append ScopeSet",[zu]:"Empty input ScopeSet cannot be processed",[kv]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Cv]:"Device code is expired.",[Tv]:"Device code stopped polling for unknown reasons.",[rh]:"Please pass an account object, silent flow is not supported without account information",[D0]:"Cache record object was null or undefined.",[nh]:"Invalid environment when attempting to create cache entry",[Uu]:"No account found in cache for given key.",[Hu]:"No crypto object detected.",[Ev]:"Unexpected credential type.",[Av]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Iv]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[si]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[Mv]:"User defined timeout for device code polling reached",[L0]:"Cannot generate a POP jwt if the token_claims are not populated",[F0]:"Server response does not contain an authorization code to proceed",[B0]:"Could not remove the credential's binding key from storage.",[z0]:"The provided authority does not support logout",[ih]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Rv]:"No network connectivity. Check your internet connection.",[Nv]:"User cancelled the flow.",[Ov]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[xt]:"This method has not been implemented",[Pv]:"The nested app auth bridge is disabled"};class sh extends Ot{constructor(t,e){super(t,e?`${kp[t]}: ${e}`:kp[t]),this.name="ClientAuthError",Object.setPrototypeOf(this,sh.prototype)}}function ze(r,t){return new sh(r,t)}/*! @azure/msal-common v15.13.0 2025-09-24 */const ll={createNewGuid:()=>{throw ze(xt)},base64Decode:()=>{throw ze(xt)},base64Encode:()=>{throw ze(xt)},base64UrlEncode:()=>{throw ze(xt)},encodeKid:()=>{throw ze(xt)},async getPublicKeyThumbprint(){throw ze(xt)},async removeTokenBindingKey(){throw ze(xt)},async clearKeystore(){throw ze(xt)},async signJwt(){throw ze(xt)},async hashString(){throw ze(xt)}};/*! @azure/msal-common v15.13.0 2025-09-24 */var Ut;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(Ut||(Ut={}));class ui{constructor(t,e,n){this.level=Ut.Info;const l=()=>{},o=t||ui.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||l,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Ut.Info,this.correlationId=o.correlationId||Re.EMPTY_STRING,this.packageName=e||Re.EMPTY_STRING,this.packageVersion=n||Re.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ut.Info}}clone(t,e,n){return new ui({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},t,e)}logMessage(t,e){if(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${e.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Ut[e.logLevel]} - ${t}`;this.executeCallback(e.logLevel,o,e.containsPii||!1)}executeCallback(t,e,n){this.localCallback&&this.localCallback(t,e,n)}error(t,e){this.logMessage(t,{logLevel:Ut.Error,containsPii:!1,correlationId:e||Re.EMPTY_STRING})}errorPii(t,e){this.logMessage(t,{logLevel:Ut.Error,containsPii:!0,correlationId:e||Re.EMPTY_STRING})}warning(t,e){this.logMessage(t,{logLevel:Ut.Warning,containsPii:!1,correlationId:e||Re.EMPTY_STRING})}warningPii(t,e){this.logMessage(t,{logLevel:Ut.Warning,containsPii:!0,correlationId:e||Re.EMPTY_STRING})}info(t,e){this.logMessage(t,{logLevel:Ut.Info,containsPii:!1,correlationId:e||Re.EMPTY_STRING})}infoPii(t,e){this.logMessage(t,{logLevel:Ut.Info,containsPii:!0,correlationId:e||Re.EMPTY_STRING})}verbose(t,e){this.logMessage(t,{logLevel:Ut.Verbose,containsPii:!1,correlationId:e||Re.EMPTY_STRING})}verbosePii(t,e){this.logMessage(t,{logLevel:Ut.Verbose,containsPii:!0,correlationId:e||Re.EMPTY_STRING})}trace(t,e){this.logMessage(t,{logLevel:Ut.Trace,containsPii:!1,correlationId:e||Re.EMPTY_STRING})}tracePii(t,e){this.logMessage(t,{logLevel:Ut.Trace,containsPii:!0,correlationId:e||Re.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.13.0 2025-09-24 */const U0="@azure/msal-common",oh="15.13.0";/*! @azure/msal-common v15.13.0 2025-09-24 */const ah={None:"none"};/*! @azure/msal-common v15.13.0 2025-09-24 */const H0="redirect_uri_empty",jv="claims_request_parsing_error",$0="authority_uri_insecure",Ks="url_parse_error",W0="empty_url_error",V0="empty_input_scopes_error",lh="invalid_claims",q0="token_request_empty",K0="logout_request_empty",Dv="invalid_code_challenge_method",ch="pkce_params_missing",uh="invalid_cloud_discovery_metadata",G0="invalid_authority_metadata",Y0="untrusted_authority",Hl="missing_ssh_jwk",X0="missing_ssh_kid",Lv="missing_nonce_authentication_header",Fv="invalid_authentication_header",Q0="cannot_set_OIDCOptions",J0="cannot_allow_platform_broker",Z0="authority_mismatch",e1="invalid_request_method_for_EAR",t1="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.13.0 2025-09-24 */const Bv={[H0]:"A redirect URI is required for all calls, and none has been set.",[jv]:"Could not parse the given claims request object.",[$0]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Ks]:"URL could not be parsed into appropriate segments.",[W0]:"URL was empty or null.",[V0]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[lh]:"Given claims parameter must be a stringified JSON object.",[q0]:"Token request was empty and not found in cache.",[K0]:"The logout request was null or undefined.",[Dv]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[ch]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[uh]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[G0]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Y0]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Hl]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[X0]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Lv]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Fv]:"Invalid authentication header provided",[Q0]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[J0]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[Z0]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[t1]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[e1]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class dh extends Ot{constructor(t){super(t,Bv[t]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,dh.prototype)}}function jt(r){return new dh(r)}/*! @azure/msal-common v15.13.0 2025-09-24 */class Fr{static isEmptyObj(t){if(t)try{const e=JSON.parse(t);return Object.keys(e).length===0}catch{}return!0}static startsWith(t,e){return t.indexOf(e)===0}static endsWith(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length}static queryStringToObject(t){const e={},n=t.split("&"),l=o=>decodeURIComponent(o.replace(/\+/g," "));return n.forEach(o=>{if(o.trim()){const[s,c]=o.split(/=(.+)/g,2);s&&c&&(e[l(s)]=l(c))}}),e}static trimArrayEntries(t){return t.map(e=>e.trim())}static removeEmptyStringsFromArray(t){return t.filter(e=>!!e)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class tr{constructor(t){const e=t?Fr.trimArrayEntries([...t]):[],n=e?Fr.removeEmptyStringsFromArray(e):[];if(!n||!n.length)throw jt(V0);this.scopes=new Set,n.forEach(l=>this.scopes.add(l))}static fromString(t){const n=(t||Re.EMPTY_STRING).split(" ");return new tr(n)}static createSearchScopes(t){const e=t&&t.length>0?t:[..._s],n=new tr(e);return n.containsOnlyOIDCScopes()?n.removeScope(Re.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(t){const e=this.printScopesLowerCase().split(" "),n=new tr(e);return t?n.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let t=0;return wp.forEach(e=>{this.containsScope(e)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(e=>this.appendScope(e))}catch{throw ze(j0)}}removeScope(t){if(!t)throw ze(P0);this.scopes.delete(t.trim())}removeOIDCScopes(){wp.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw ze(zu);const e=new Set;return t.scopes.forEach(n=>e.add(n.toLowerCase())),this.scopes.forEach(n=>e.add(n.toLowerCase())),e}intersectingScopeSets(t){if(!t)throw ze(zu);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const e=this.unionScopeSets(t),n=t.getScopeCount(),l=this.getScopeCount();return e.size<l+n}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(e=>t.push(e)),t}printScopes(){return this.scopes?this.asArray().join(" "):Re.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.13.0 2025-09-24 */function Cp(r,t){return!!r&&!!t&&r===t.split(".")[1]}function hh(r,t,e,n){if(n){const{oid:l,sub:o,tid:s,name:c,tfp:a,acr:i,preferred_username:u,upn:f,login_hint:d}=n,h=s||a||i||"";return{tenantId:h,localAccountId:l||o||"",name:c,username:u||f||"",loginHint:d,isHomeTenant:Cp(h,r)}}else return{tenantId:e,localAccountId:t,username:"",isHomeTenant:Cp(e,r)}}function fh(r,t,e,n){let l=r;if(t){const{isHomeTenant:o,...s}=t;l={...r,...s}}if(e){const{isHomeTenant:o,...s}=hh(r.homeAccountId,r.localAccountId,r.tenantId,e);return l={...l,...s,idTokenClaims:e,idToken:n},l}return l}/*! @azure/msal-common v15.13.0 2025-09-24 */function Ss(r,t){const e=zv(r);try{const n=t(e);return JSON.parse(n)}catch{throw ze(eh)}}function zv(r){if(!r)throw ze(C0);const e=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!e||e.length<4)throw ze(eh);return e[2]}function r1(r,t){if(t===0||Date.now()-3e5>r+t)throw ze(R0)}/*! @azure/msal-common v15.13.0 2025-09-24 */function Tp(r){if(!r)return r;let t=r.toLowerCase();return Fr.endsWith(t,"?")?t=t.slice(0,-1):Fr.endsWith(t,"?/")&&(t=t.slice(0,-2)),Fr.endsWith(t,"/")||(t+="/"),t}function n1(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function cl(r){if(!r||r.indexOf("=")<0)return null;try{const t=n1(r),e=Object.fromEntries(new URLSearchParams(t));if(e.code||e.ear_jwe||e.error||e.error_description||e.state)return e}catch{throw ze(A0)}return null}function Io(r,t=!0,e){const n=new Array;return r.forEach((l,o)=>{!t&&e&&o in e?n.push(`${o}=${l}`):n.push(`${o}=${encodeURIComponent(l)}`)}),n.join("&")}function Ep(r){if(!r)return r;const t=r.split("#")[0];try{const e=new URL(t),n=e.origin+e.pathname+e.search;return Tp(n)}catch{return Tp(t)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Et{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw jt(W0);t.includes("#")||(this._urlString=Et.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let e=t.toLowerCase();return Fr.endsWith(e,"?")?e=e.slice(0,-1):Fr.endsWith(e,"?/")&&(e=e.slice(0,-2)),Fr.endsWith(e,"/")||(e+="/"),e}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw jt(Ks)}if(!t.HostNameAndPort||!t.PathSegments)throw jt(Ks);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw jt($0)}static appendQueryString(t,e){return e?t.indexOf("?")<0?`${t}?${e}`:`${t}&${e}`:t}static removeHashFromUrl(t){return Et.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const e=this.getUrlComponents(),n=e.PathSegments;return t&&n.length!==0&&(n[0]===ii.COMMON||n[0]===ii.ORGANIZATIONS)&&(n[0]=t),Et.constructAuthorityUriFromObject(e)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw jt(Ks);const n={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]};let l=n.AbsolutePath.split("/");return l=l.filter(o=>o&&o.length>0),n.PathSegments=l,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(t){const e=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=t.match(e);if(!n)throw jt(Ks);return n[2]}static getAbsoluteUrl(t,e){if(t[0]===Re.FORWARD_SLASH){const l=new Et(e).getUrlComponents();return l.Protocol+"//"+l.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new Et(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}static hashContainsKnownProperties(t){return!!cl(t)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const i1={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Ap=i1.endpointMetadata,ph=i1.instanceDiscoveryMetadata,s1=new Set;ph.metadata.forEach(r=>{r.aliases.forEach(t=>{s1.add(t)})});function Uv(r,t){var l;let e;const n=r.canonicalAuthority;if(n){const o=new Et(n).getUrlComponents().HostNameAndPort;e=Ip(o,(l=r.cloudDiscoveryMetadata)==null?void 0:l.metadata,Pr.CONFIG,t)||Ip(o,ph.metadata,Pr.HARDCODED_VALUES,t)||r.knownAuthorities}return e||[]}function Ip(r,t,e,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${e}`),r&&t){const l=ul(t,r);if(l)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${e}, returning aliases`),l.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${e}`)}return null}function Hv(r){return ul(ph.metadata,r)}function ul(r,t){for(let e=0;e<r.length;e++){const n=r[e];if(n.aliases.includes(t))return n}return null}/*! @azure/msal-common v15.13.0 2025-09-24 */const dl="cache_quota_exceeded",mh="cache_error_unknown";/*! @azure/msal-common v15.13.0 2025-09-24 */const Pc={[dl]:"Exceeded cache storage capacity.",[mh]:"Unexpected error occurred when using cache storage."};class as extends Ot{constructor(t,e){const n=e||(Pc[t]?Pc[t]:Pc[mh]);super(`${t}: ${n}`),Object.setPrototypeOf(this,as.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=n}}function $u(r){return r instanceof Error?r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED"||r.message.includes("exceeded the quota")?new as(dl):new as(r.name,r.message):new as(mh)}/*! @azure/msal-common v15.13.0 2025-09-24 */class Wu{constructor(t,e,n,l,o){this.clientId=t,this.cryptoImpl=e,this.commonLogger=n.clone(U0,oh),this.staticAuthorityOptions=o,this.performanceClient=l}getAllAccounts(t,e){return this.buildTenantProfiles(this.getAccountsFilteredBy(t,e),e,t)}getAccountInfoFilteredBy(t,e){if(Object.keys(t).length===0||Object.values(t).every(l=>!l))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const n=this.getAllAccounts(t,e);return n.length>1?n.sort(o=>o.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(t,e){const n=this.getAccountsFilteredBy(t,e);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(t,e,n){return t.flatMap(l=>this.getTenantProfilesFromAccountEntity(l,e,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(t,e,n,l,o){let s=null,c;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;const a=this.getIdToken(t,l,e,n.tenantId);return a&&(c=Ss(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(c,o))?null:(s=fh(t,n,c,a==null?void 0:a.secret),s)}getTenantProfilesFromAccountEntity(t,e,n,l){const o=t.getAccountInfo();let s=o.tenantProfiles||new Map;const c=this.getTokenKeys();if(n){const i=s.get(n);if(i)s=new Map([[n,i]]);else return[]}const a=[];return s.forEach(i=>{const u=this.getTenantedAccountInfoByFilter(o,c,i,e,l);u&&a.push(u)}),a}tenantProfileMatchesFilter(t,e){return!(e.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,e.localAccountId)||e.name&&t.name!==e.name||e.isHomeTenant!==void 0&&t.isHomeTenant!==e.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,e){return!(e&&(e.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,e.localAccountId)||e.loginHint&&!this.matchLoginHintFromTokenClaims(t,e.loginHint)||e.username&&!this.matchUsername(t.preferred_username,e.username)||e.name&&!this.matchName(t,e.name)||e.sid&&!this.matchSid(t,e.sid)))}async saveCacheRecord(t,e,n){var l;if(!t)throw ze(D0);try{t.account&&await this.setAccount(t.account,e),t.idToken&&(n==null?void 0:n.idToken)!==!1&&await this.setIdTokenCredential(t.idToken,e),t.accessToken&&(n==null?void 0:n.accessToken)!==!1&&await this.saveAccessToken(t.accessToken,e),t.refreshToken&&(n==null?void 0:n.refreshToken)!==!1&&await this.setRefreshTokenCredential(t.refreshToken,e),t.appMetadata&&this.setAppMetadata(t.appMetadata,e)}catch(o){throw(l=this.commonLogger)==null||l.error("CacheManager.saveCacheRecord: failed"),o instanceof Ot?o:$u(o)}}async saveAccessToken(t,e){const n={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},l=this.getTokenKeys(),o=tr.fromString(t.target);l.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,n,!1))return;const c=this.getAccessTokenCredential(s,e);c&&this.credentialMatchesFilter(c,n)&&tr.fromString(c.target).intersectingScopeSets(o)&&this.removeAccessToken(s,e)}),await this.setAccessTokenCredential(t,e)}getAccountsFilteredBy(t,e){const n=this.getAccountKeys(),l=[];return n.forEach(o=>{var i;const s=this.getAccount(o,e);if(!s||t.homeAccountId&&!this.matchHomeAccountId(s,t.homeAccountId)||t.username&&!this.matchUsername(s.username,t.username)||t.environment&&!this.matchEnvironment(s,t.environment)||t.realm&&!this.matchRealm(s,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(s,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(s,t.authorityType))return;const c={localAccountId:t==null?void 0:t.localAccountId,name:t==null?void 0:t.name},a=(i=s.tenantProfiles)==null?void 0:i.filter(u=>this.tenantProfileMatchesFilter(u,c));a&&a.length===0||l.push(s)}),l}credentialMatchesFilter(t,e){return!(e.clientId&&!this.matchClientId(t,e.clientId)||e.userAssertionHash&&!this.matchUserAssertionHash(t,e.userAssertionHash)||typeof e.homeAccountId=="string"&&!this.matchHomeAccountId(t,e.homeAccountId)||e.environment&&!this.matchEnvironment(t,e.environment)||e.realm&&!this.matchRealm(t,e.realm)||e.credentialType&&!this.matchCredentialType(t,e.credentialType)||e.familyId&&!this.matchFamilyId(t,e.familyId)||e.target&&!this.matchTarget(t,e.target)||(e.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==e.requestedClaimsHash||t.credentialType===lr.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(e.tokenType&&!this.matchTokenType(t,e.tokenType)||e.tokenType===Mt.SSH&&e.keyId&&!this.matchKeyId(t,e.keyId)))}getAppMetadataFilteredBy(t){const e=this.getKeys(),n={};return e.forEach(l=>{if(!this.isAppMetadata(l))return;const o=this.getAppMetadata(l);o&&(t.environment&&!this.matchEnvironment(o,t.environment)||t.clientId&&!this.matchClientId(o,t.clientId)||(n[l]=o))}),n}getAuthorityMetadataByAlias(t){const e=this.getAuthorityMetadataKeys();let n=null;return e.forEach(l=>{if(!this.isAuthorityMetadata(l)||l.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(l);o&&o.aliases.indexOf(t)!==-1&&(n=o)}),n}removeAllAccounts(t){this.getAllAccounts({},t).forEach(n=>{this.removeAccount(n,t)})}removeAccount(t,e){this.removeAccountContext(t,e);const n=this.getAccountKeys(),l=o=>o.includes(t.homeAccountId)&&o.includes(t.environment);n.filter(l).forEach(o=>{this.removeItem(o,e),this.performanceClient.incrementFields({accountsRemoved:1},e)})}removeAccountContext(t,e){const n=this.getTokenKeys(),l=o=>o.includes(t.homeAccountId)&&o.includes(t.environment);n.idToken.filter(l).forEach(o=>{this.removeIdToken(o,e)}),n.accessToken.filter(l).forEach(o=>{this.removeAccessToken(o,e)}),n.refreshToken.filter(l).forEach(o=>{this.removeRefreshToken(o,e)})}removeAccessToken(t,e){const n=this.getAccessTokenCredential(t,e);if(this.removeItem(t,e),this.performanceClient.incrementFields({accessTokensRemoved:1},e),!n||n.credentialType.toLowerCase()!==lr.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==Mt.POP)return;const l=n.keyId;l&&this.cryptoImpl.removeTokenBindingKey(l).catch(()=>{var o;this.commonLogger.error(`Failed to remove token binding key ${l}`,e),(o=this.performanceClient)==null||o.incrementFields({removeTokenBindingKeyFailure:1},e)})}removeAppMetadata(t){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,t)}),!0}getIdToken(t,e,n,l,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:lr.ID_TOKEN,clientId:this.clientId,realm:l},c=this.getIdTokensByFilter(s,e,n),a=c.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let i=c;if(!l){const u=new Map;c.forEach((d,h)=>{d.realm===t.tenantId&&u.set(h,d)});const f=u.size;if(f<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),c.values().next().value;if(f===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;i=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),i.forEach((u,f)=>{this.removeIdToken(f,e)}),o&&e&&o.addFields({multiMatchedID:c.size},e),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),c.values().next().value}getIdTokensByFilter(t,e,n){const l=n&&n.idToken||this.getTokenKeys().idToken,o=new Map;return l.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...t}))return;const c=this.getIdTokenCredential(s,e);c&&this.credentialMatchesFilter(c,t)&&o.set(s,c)}),o}idTokenKeyMatchesFilter(t,e){const n=t.toLowerCase();return!(e.clientId&&n.indexOf(e.clientId.toLowerCase())===-1||e.homeAccountId&&n.indexOf(e.homeAccountId.toLowerCase())===-1)}removeIdToken(t,e){this.removeItem(t,e)}removeRefreshToken(t,e){this.removeItem(t,e)}getAccessToken(t,e,n,l){const o=e.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);const s=tr.createSearchScopes(e.scopes),c=e.authenticationScheme||Mt.BEARER,a=c.toLowerCase()!==Mt.BEARER.toLowerCase()?lr.ACCESS_TOKEN_WITH_AUTH_SCHEME:lr.ACCESS_TOKEN,i={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:a,clientId:this.clientId,realm:l||t.tenantId,target:s,tokenType:c,keyId:e.sshKid,requestedClaimsHash:e.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,f=[];u.forEach(h=>{if(this.accessTokenKeyMatchesFilter(h,i,!0)){const g=this.getAccessTokenCredential(h,o);g&&this.credentialMatchesFilter(g,i)&&f.push(g)}});const d=f.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),f.forEach(h=>{this.removeAccessToken(this.generateCredentialKey(h),o)}),this.performanceClient.addFields({multiMatchedAT:f.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),f[0])}accessTokenKeyMatchesFilter(t,e,n){const l=t.toLowerCase();if(e.clientId&&l.indexOf(e.clientId.toLowerCase())===-1||e.homeAccountId&&l.indexOf(e.homeAccountId.toLowerCase())===-1||e.realm&&l.indexOf(e.realm.toLowerCase())===-1||e.requestedClaimsHash&&l.indexOf(e.requestedClaimsHash.toLowerCase())===-1)return!1;if(e.target){const o=e.target.asArray();for(let s=0;s<o.length;s++){if(n&&!l.includes(o[s].toLowerCase()))return!1;if(!n&&l.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t,e){const n=this.getTokenKeys(),l=[];return n.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,t,!0))return;const s=this.getAccessTokenCredential(o,e);s&&this.credentialMatchesFilter(s,t)&&l.push(s)}),l}getRefreshToken(t,e,n,l,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=e?sl:void 0,c={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:lr.REFRESH_TOKEN,clientId:this.clientId,familyId:s},a=l&&l.refreshToken||this.getTokenKeys().refreshToken,i=[];a.forEach(f=>{if(this.refreshTokenKeyMatchesFilter(f,c)){const d=this.getRefreshTokenCredential(f,n);d&&this.credentialMatchesFilter(d,c)&&i.push(d)}});const u=i.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&o&&n&&o.addFields({multiMatchedRT:u},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),i[0])}refreshTokenKeyMatchesFilter(t,e){const n=t.toLowerCase();return!(e.familyId&&n.indexOf(e.familyId.toLowerCase())===-1||!e.familyId&&e.clientId&&n.indexOf(e.clientId.toLowerCase())===-1||e.homeAccountId&&n.indexOf(e.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t){const e={environment:t,clientId:this.clientId},n=this.getAppMetadataFilteredBy(e),l=Object.keys(n).map(s=>n[s]),o=l.length;if(o<1)return null;if(o>1)throw ze(N0);return l[0]}isAppMetadataFOCI(t){const e=this.readAppMetadataFromCache(t);return!!(e&&e.familyId===sl)}matchHomeAccountId(t,e){return typeof t.homeAccountId=="string"&&e===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,e){const n=t.oid||t.sub;return e===n}matchLocalAccountIdFromTenantProfile(t,e){return t.localAccountId===e}matchName(t,e){var n;return e.toLowerCase()===((n=t.name)==null?void 0:n.toLowerCase())}matchUsername(t,e){return!!(t&&typeof t=="string"&&(e==null?void 0:e.toLowerCase())===t.toLowerCase())}matchUserAssertionHash(t,e){return!!(t.userAssertionHash&&e===t.userAssertionHash)}matchEnvironment(t,e){if(this.staticAuthorityOptions){const l=Uv(this.staticAuthorityOptions,this.commonLogger);if(l.includes(e)&&l.includes(t.environment))return!0}const n=this.getAuthorityMetadataByAlias(e);return!!(n&&n.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,e){return!!(t.clientId&&e===t.clientId)}matchFamilyId(t,e){return!!(t.familyId&&e===t.familyId)}matchRealm(t,e){var n;return((n=t.realm)==null?void 0:n.toLowerCase())===e.toLowerCase()}matchNativeAccountId(t,e){return!!(t.nativeAccountId&&e===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,e){return t.login_hint===e||t.preferred_username===e||t.upn===e}matchSid(t,e){return t.sid===e}matchAuthorityType(t,e){return!!(t.authorityType&&e.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,e){return t.credentialType!==lr.ACCESS_TOKEN&&t.credentialType!==lr.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:tr.fromString(t.target).containsScopeSet(e)}matchTokenType(t,e){return!!(t.tokenType&&t.tokenType===e)}matchKeyId(t,e){return!!(t.keyId&&t.keyId===e)}isAppMetadata(t){return t.indexOf(Jd)!==-1}isAuthorityMetadata(t){return t.indexOf(ol.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(t){return`${ol.CACHE_KEY}-${this.clientId}-${t}`}static toObject(t,e){for(const n in e)t[n]=e[n];return t}}class $v extends Wu{async setAccount(){throw ze(xt)}getAccount(){throw ze(xt)}async setIdTokenCredential(){throw ze(xt)}getIdTokenCredential(){throw ze(xt)}async setAccessTokenCredential(){throw ze(xt)}getAccessTokenCredential(){throw ze(xt)}async setRefreshTokenCredential(){throw ze(xt)}getRefreshTokenCredential(){throw ze(xt)}setAppMetadata(){throw ze(xt)}getAppMetadata(){throw ze(xt)}setServerTelemetry(){throw ze(xt)}getServerTelemetry(){throw ze(xt)}setAuthorityMetadata(){throw ze(xt)}getAuthorityMetadata(){throw ze(xt)}getAuthorityMetadataKeys(){throw ze(xt)}setThrottlingCache(){throw ze(xt)}getThrottlingCache(){throw ze(xt)}removeItem(){throw ze(xt)}getKeys(){throw ze(xt)}getAccountKeys(){throw ze(xt)}getTokenKeys(){throw ze(xt)}generateCredentialKey(){throw ze(xt)}generateAccountKey(){throw ze(xt)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const Mr={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.13.0 2025-09-24 */const fe={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},Wv={InProgress:1};/*! @azure/msal-common v15.13.0 2025-09-24 */class Mp{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class o1{generateId(){return"callback-id"}startMeasurement(t,e){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Wv.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:e||""},measurement:new Mp}}startPerformanceMeasurement(){return new Mp}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.13.0 2025-09-24 */const a1={tokenRenewalOffsetSeconds:S0,preventCorsPreflight:!1},Vv={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ut.Info,correlationId:Re.EMPTY_STRING},qv={claimsBasedCachingEnabled:!1},Kv={async sendGetRequestAsync(){throw ze(xt)},async sendPostRequestAsync(){throw ze(xt)}},Gv={sku:Re.SKU,version:oh,cpu:Re.EMPTY_STRING,os:Re.EMPTY_STRING},Yv={clientSecret:Re.EMPTY_STRING,clientAssertion:void 0},Xv={azureCloudInstance:ah.None,tenant:`${Re.DEFAULT_COMMON_TENANT}`},Qv={application:{appName:"",appVersion:""}};function Jv({authOptions:r,systemOptions:t,loggerOptions:e,cacheOptions:n,storageInterface:l,networkInterface:o,cryptoInterface:s,clientCredentials:c,libraryInfo:a,telemetry:i,serverTelemetryManager:u,persistencePlugin:f,serializableCache:d}){const h={...Vv,...e};return{authOptions:Zv(r),systemOptions:{...a1,...t},loggerOptions:h,cacheOptions:{...qv,...n},storageInterface:l||new $v(r.clientId,ll,new ui(h),new o1),networkInterface:o||Kv,cryptoInterface:s||ll,clientCredentials:c||Yv,libraryInfo:{...Gv,...a},telemetry:{...Qv,...i},serverTelemetryManager:u||null,persistencePlugin:f||null,serializableCache:d||null}}function Zv(r){return{clientCapabilities:[],azureCloudOptions:Xv,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...r}}function l1(r){return r.authOptions.authority.options.protocolMode===Mr.OIDC}/*! @azure/msal-common v15.13.0 2025-09-24 */const tn={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.13.0 2025-09-24 */function hl(r,t){if(!r)throw ze(k0);try{const e=t(r);return JSON.parse(e)}catch{throw ze(Zd)}}function ls(r){if(!r)throw ze(Zd);const t=r.split(Ao.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Re.EMPTY_STRING:t[1]}}/*! @azure/msal-common v15.13.0 2025-09-24 */const Ri="client_id",c1="redirect_uri",ew="response_type",tw="response_mode",rw="grant_type",nw="claims",iw="scope",sw="refresh_token",ow="state",aw="nonce",lw="prompt",cw="code",uw="code_challenge",dw="code_challenge_method",hw="code_verifier",fw="client-request-id",pw="x-client-SKU",mw="x-client-VER",gw="x-client-OS",yw="x-client-CPU",bw="x-client-current-telemetry",vw="x-client-last-telemetry",ww="x-ms-lib-capability",xw="x-app-name",_w="x-app-ver",Sw="post_logout_redirect_uri",kw="id_token_hint",Cw="client_secret",Tw="client_assertion",Ew="client_assertion_type",u1="token_type",d1="req_cnf",Rp="return_spa_code",Aw="nativebroker",Iw="logout_hint",Mw="sid",Rw="login_hint",Nw="domain_hint",Ow="x-client-xtra-sku",fl="brk_client_id",pl="brk_redirect_uri",Vu="instance_aware",Pw="ear_jwk",jw="ear_jwe_crypto";/*! @azure/msal-common v15.13.0 2025-09-24 */function $l(r,t,e){if(!t)return;const n=r.get(Ri);n&&r.has(fl)&&(e==null||e.addFields({embeddedClientId:n,embeddedRedirectUri:r.get(c1)},t))}function gh(r,t){r.set(ew,t)}function Dw(r,t){r.set(tw,t||bv.QUERY)}function Lw(r){r.set(Aw,"1")}function yh(r,t,e=!0,n=_s){e&&!n.includes("openid")&&!t.includes("openid")&&n.push("openid");const l=e?[...t||[],...n]:t||[],o=new tr(l);r.set(iw,o.printScopes())}function bh(r,t){r.set(Ri,t)}function vh(r,t){r.set(c1,t)}function Fw(r,t){r.set(Sw,t)}function Bw(r,t){r.set(kw,t)}function zw(r,t){r.set(Nw,t)}function pa(r,t){r.set(Rw,t)}function ml(r,t){r.set(vr.CCS_HEADER,`UPN:${t}`)}function so(r,t){r.set(vr.CCS_HEADER,`Oid:${t.uid}@${t.utid}`)}function Np(r,t){r.set(Mw,t)}function wh(r,t,e){const n=qw(t,e);try{JSON.parse(n)}catch{throw jt(lh)}r.set(nw,n)}function xh(r,t){r.set(fw,t)}function _h(r,t){r.set(pw,t.sku),r.set(mw,t.version),t.os&&r.set(gw,t.os),t.cpu&&r.set(yw,t.cpu)}function Sh(r,t){t!=null&&t.appName&&r.set(xw,t.appName),t!=null&&t.appVersion&&r.set(_w,t.appVersion)}function Uw(r,t){r.set(lw,t)}function h1(r,t){t&&r.set(ow,t)}function Hw(r,t){r.set(aw,t)}function f1(r,t,e){if(t&&e)r.set(uw,t),r.set(dw,e);else throw jt(ch)}function $w(r,t){r.set(cw,t)}function Ww(r,t){r.set(sw,t)}function Vw(r,t){r.set(hw,t)}function p1(r,t){r.set(Cw,t)}function m1(r,t){t&&r.set(Tw,t)}function g1(r,t){t&&r.set(Ew,t)}function y1(r,t){r.set(rw,t)}function kh(r){r.set(vv,"1")}function b1(r){r.has(Vu)||r.set(Vu,"true")}function oi(r,t){Object.entries(t).forEach(([e,n])=>{!r.has(e)&&n&&r.set(e,n)})}function qw(r,t){let e;if(!r)e={};else try{e=JSON.parse(r)}catch{throw jt(lh)}return t&&t.length>0&&(e.hasOwnProperty(ha.ACCESS_TOKEN)||(e[ha.ACCESS_TOKEN]={}),e[ha.ACCESS_TOKEN][ha.XMS_CC]={values:t}),JSON.stringify(e)}function Ch(r,t){t&&(r.set(u1,Mt.POP),r.set(d1,t))}function v1(r,t){t&&(r.set(u1,Mt.SSH),r.set(d1,t))}function w1(r,t){r.set(bw,t.generateCurrentRequestHeaderValue()),r.set(vw,t.generateLastRequestHeaderValue())}function x1(r){r.set(ww,io.X_MS_LIB_CAPABILITY_VALUE)}function Kw(r,t){r.set(Iw,t)}function Wl(r,t,e){r.has(fl)||r.set(fl,t),r.has(pl)||r.set(pl,e)}function Gw(r,t){r.set(Pw,encodeURIComponent(t)),r.set(jw,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Yw(r,t){Object.entries(t).forEach(([e,n])=>{n&&r.set(e,n)})}/*! @azure/msal-common v15.13.0 2025-09-24 */const Zr={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.13.0 2025-09-24 */function Xw(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.13.0 2025-09-24 */function Qw(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}/*! @azure/msal-common v15.13.0 2025-09-24 */function Jw(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}/*! @azure/msal-common v15.13.0 2025-09-24 */const Br=(r,t,e,n,l)=>(...o)=>{e.trace(`Executing function ${t}`);const s=n==null?void 0:n.startMeasurement(t,l);if(l){const c=t+"CallCount";n==null||n.incrementFields({[c]:1},l)}try{const c=r(...o);return s==null||s.end({success:!0}),e.trace(`Returning result from ${t}`),c}catch(c){e.trace(`Error occurred in ${t}`);try{e.trace(JSON.stringify(c))}catch{e.trace("Unable to print error message.")}throw s==null||s.end({success:!1},c),c}},Ie=(r,t,e,n,l)=>(...o)=>{e.trace(`Executing function ${t}`);const s=n==null?void 0:n.startMeasurement(t,l);if(l){const c=t+"CallCount";n==null||n.incrementFields({[c]:1},l)}return n==null||n.setPreQueueTime(t,l),r(...o).then(c=>(e.trace(`Returning result from ${t}`),s==null||s.end({success:!0}),c)).catch(c=>{e.trace(`Error occurred in ${t}`);try{e.trace(JSON.stringify(c))}catch{e.trace("Unable to print error message.")}throw s==null||s.end({success:!1},c),c})};/*! @azure/msal-common v15.13.0 2025-09-24 */class Vl{constructor(t,e,n,l){this.networkInterface=t,this.logger=e,this.performanceClient=n,this.correlationId=l}async detectRegion(t,e){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.RegionDiscoveryDetectRegion,this.correlationId);let n=t;if(n)e.region_source=zi.ENVIRONMENT_VARIABLE;else{const o=Vl.IMDS_OPTIONS;try{const s=await Ie(this.getRegionFromIMDS.bind(this),fe.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Re.IMDS_VERSION,o);if(s.status===Yn.SUCCESS&&(n=s.body,e.region_source=zi.IMDS),s.status===Yn.BAD_REQUEST){const c=await Ie(this.getCurrentVersion.bind(this),fe.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!c)return e.region_source=zi.FAILED_AUTO_DETECTION,null;const a=await Ie(this.getRegionFromIMDS.bind(this),fe.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(c,o);a.status===Yn.SUCCESS&&(n=a.body,e.region_source=zi.IMDS)}}catch{return e.region_source=zi.FAILED_AUTO_DETECTION,null}}return n||(e.region_source=zi.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(t,e){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(fe.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Re.IMDS_ENDPOINT}?api-version=${t}&format=text`,e,Re.IMDS_TIMEOUT)}async getCurrentVersion(t){var e;(e=this.performanceClient)==null||e.addQueueMeasurement(fe.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${Re.IMDS_ENDPOINT}?format=json`,t);return n.status===Yn.BAD_REQUEST&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}Vl.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.13.0 2025-09-24 */function Rr(){return Math.round(new Date().getTime()/1e3)}function Op(r){return r.getTime()/1e3}function cs(r){return r?new Date(Number(r)*1e3):new Date}function gl(r,t){const e=Number(r)||0;return Rr()+t>e}function Zw(r,t){const e=Number(r)+t*24*60*60*1e3;return Date.now()>e}function ex(r){return Number(r)>Rr()}/*! @azure/msal-common v15.13.0 2025-09-24 */function ql(r,t,e,n,l){return{credentialType:lr.ID_TOKEN,homeAccountId:r,environment:t,clientId:n,secret:e,realm:l,lastUpdatedAt:Date.now().toString()}}function Kl(r,t,e,n,l,o,s,c,a,i,u,f,d,h,g){var p,b;const y={homeAccountId:r,credentialType:lr.ACCESS_TOKEN,secret:e,cachedAt:Rr().toString(),expiresOn:s.toString(),extendedExpiresOn:c.toString(),environment:t,clientId:n,realm:l,target:o,tokenType:u||Mt.BEARER,lastUpdatedAt:Date.now().toString()};if(f&&(y.userAssertionHash=f),i&&(y.refreshOn=i.toString()),h&&(y.requestedClaims=h,y.requestedClaimsHash=g),((p=y.tokenType)==null?void 0:p.toLowerCase())!==Mt.BEARER.toLowerCase())switch(y.credentialType=lr.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case Mt.POP:const m=Ss(e,a);if(!((b=m==null?void 0:m.cnf)!=null&&b.kid))throw ze(L0);y.keyId=m.cnf.kid;break;case Mt.SSH:y.keyId=d}return y}function _1(r,t,e,n,l,o,s){const c={credentialType:lr.REFRESH_TOKEN,homeAccountId:r,environment:t,clientId:n,secret:e,lastUpdatedAt:Date.now().toString()};return o&&(c.userAssertionHash=o),l&&(c.familyId=l),s&&(c.expiresOn=s.toString()),c}function Th(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function Pp(r){return r?Th(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===lr.ACCESS_TOKEN||r.credentialType===lr.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function tx(r){return r?Th(r)&&r.hasOwnProperty("realm")&&r.credentialType===lr.ID_TOKEN:!1}function jp(r){return r?Th(r)&&r.credentialType===lr.REFRESH_TOKEN:!1}function rx(r,t){const e=r.indexOf(or.CACHE_KEY)===0;let n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),e&&n}function nx(r,t){let e=!1;r&&(e=r.indexOf(io.THROTTLING_PREFIX)===0);let n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),e&&n}function ix({environment:r,clientId:t}){return[Jd,r,t].join(Ao.CACHE_KEY_SEPARATOR).toLowerCase()}function sx(r,t){return t?r.indexOf(Jd)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function ox(r,t){return t?r.indexOf(ol.CACHE_KEY)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function Dp(){return Rr()+ol.REFRESH_TIME_SECONDS}function ma(r,t,e){r.authorization_endpoint=t.authorization_endpoint,r.token_endpoint=t.token_endpoint,r.end_session_endpoint=t.end_session_endpoint,r.issuer=t.issuer,r.endpointsFromNetwork=e,r.jwks_uri=t.jwks_uri}function jc(r,t,e){r.aliases=t.aliases,r.preferred_cache=t.preferred_cache,r.preferred_network=t.preferred_network,r.aliasesFromNetwork=e}function Lp(r){return r.expiresAt<=Rr()}/*! @azure/msal-common v15.13.0 2025-09-24 */class fr{constructor(t,e,n,l,o,s,c,a){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=n,this.authorityOptions=l,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=c,this.correlationId=s,this.managedIdentity=a||!1,this.regionDiscovery=new Vl(e,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(Re.CIAM_AUTH_URL))return Zr.Ciam;const e=t.PathSegments;if(e.length)switch(e[0].toLowerCase()){case Re.ADFS:return Zr.Adfs;case Re.DSTS:return Zr.Dsts}return Zr.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Et(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ze(Cn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ze(Cn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ze(Cn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ze(z0);return this.replacePath(this.metadata.end_session_endpoint)}else throw ze(Cn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ze(Cn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ze(Cn)}canReplaceTenant(t){return t.PathSegments.length===1&&!fr.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===Zr.Default&&this.protocolMode!==Mr.OIDC}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let e=t;const l=new Et(this.metadata.canonical_authority).getUrlComponents(),o=l.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((c,a)=>{let i=o[a];if(a===0&&this.canReplaceTenant(l)){const u=new Et(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==u&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${u}`),i=u)}c!==i&&(e=e.replace(`/${i}/`,`/${c}/`))}),this.replaceTenant(e)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Zr.Adfs||this.protocolMode===Mr.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var l,o;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.AuthorityResolveEndpointsAsync,this.correlationId);const t=this.getCurrentMetadataEntity(),e=await Ie(this.updateCloudDiscoveryMetadata.bind(this),fe.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const n=await Ie(this.updateEndpointMetadata.bind(this),fe.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,e,{source:n}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:e,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Dp(),jwks_uri:""}),t}updateCachedMetadata(t,e,n){e!==Pr.CACHE&&(n==null?void 0:n.source)!==Pr.CACHE&&(t.expiresAt=Dp(),t.canonical_authority=this.canonicalAuthority);const l=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache);this.cacheManager.setAuthorityMetadata(l,t),this.metadata=t}async updateEndpointMetadata(t){var l,o,s;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.AuthorityUpdateEndpointMetadata,this.correlationId);const e=this.updateEndpointMetadataFromLocalSources(t);if(e){if(e.source===Pr.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&e.metadata){const c=await Ie(this.updateMetadataWithRegionalInformation.bind(this),fe.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(e.metadata);ma(t,c,!1),t.canonical_authority=this.canonicalAuthority}return e.source}let n=await Ie(this.getEndpointMetadataFromNetwork.bind(this),fe.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(n=await Ie(this.updateMetadataWithRegionalInformation.bind(this),fe.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),ma(t,n,!0),Pr.NETWORK;throw ze(E0,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const e=this.getEndpointMetadataFromConfig();if(e)return this.logger.verbose("Found endpoint metadata in authority configuration"),ma(t,e,!1),{source:Pr.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const l=this.getEndpointMetadataFromHardcodedValues();if(l)return ma(t,l,!1),{source:Pr.HARDCODED_VALUES,metadata:l};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Lp(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Pr.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(t){return new Et(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw jt(G0)}return null}async getEndpointMetadataFromNetwork(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(fe.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const t={},e=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${e}`);try{const l=await this.networkInterface.sendGetRequestAsync(e,t);return Xw(l.body)?l.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(l){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${l}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Ap?Ap[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){var n,l,o;(n=this.performanceClient)==null||n.addQueueMeasurement(fe.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const e=(l=this.authorityOptions.azureRegionConfiguration)==null?void 0:l.azureRegion;if(e){if(e!==Re.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Oc.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=e,fr.replaceWithRegionalInformation(t,e);const s=await Ie(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),fe.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=Oc.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,fr.replaceWithRegionalInformation(t,s);this.regionDiscoveryMetadata.region_outcome=Oc.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const e=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(e)return e;const n=await Ie(this.getCloudDiscoveryMetadataFromNetwork.bind(this),fe.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return jc(t,n,!0),Pr.NETWORK;throw jt(Y0)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Re.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Re.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${t.canonical_authority||Re.NOT_APPLICABLE}`);const e=this.getCloudDiscoveryMetadataFromConfig();if(e)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),jc(t,e,!1),Pr.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const l=Hv(this.hostnameAndPort);if(l)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),jc(t,l,!1),Pr.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=Lp(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),Pr.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Zr.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),fr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=ul(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),jt(uh)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),fr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const t=`${Re.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,e={};let n=null;try{const o=await this.networkInterface.sendGetRequestAsync(t,e);let s,c;if(Qw(o.body))s=o.body,c=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(Jw(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===Re.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=ul(c,this.hostnameAndPort)}catch(o){if(o instanceof Ot)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=fr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&Et.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,e){let n;if(e&&e.azureCloudInstance!==ah.None){const l=e.tenant?e.tenant:Re.DEFAULT_COMMON_TENANT;n=`${e.azureCloudInstance}/${l}/`}return n||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return Re.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ze(Cn)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return s1.has(t)}static isPublicCloudAuthority(t){return Re.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0}static buildRegionalAuthorityString(t,e,n){const l=new Et(t);l.validateAsUri();const o=l.getUrlComponents();let s=`${e}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${e}.${Re.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const c=Et.constructAuthorityUriFromObject({...l.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${c}?${n}`:c}static replaceWithRegionalInformation(t,e){const n={...t};return n.authorization_endpoint=fr.buildRegionalAuthorityString(n.authorization_endpoint,e),n.token_endpoint=fr.buildRegionalAuthorityString(n.token_endpoint,e),n.end_session_endpoint&&(n.end_session_endpoint=fr.buildRegionalAuthorityString(n.end_session_endpoint,e)),n}static transformCIAMAuthority(t){let e=t;const l=new Et(t).getUrlComponents();if(l.PathSegments.length===0&&l.HostNameAndPort.endsWith(Re.CIAM_AUTH_URL)){const o=l.HostNameAndPort.split(".")[0];e=`${e}${o}${Re.AAD_TENANT_DOMAIN_SUFFIX}`}return e}}fr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",ii.COMMON,ii.CONSUMERS,ii.ORGANIZATIONS]);function ax(r){var l;const n=(l=new Et(r).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:l.toLowerCase();switch(n){case ii.COMMON:case ii.ORGANIZATIONS:case ii.CONSUMERS:return;default:return n}}function S1(r){return r.endsWith(Re.FORWARD_SLASH)?r:`${r}${Re.FORWARD_SLASH}`}function lx(r){const t=r.cloudDiscoveryMetadata;let e;if(t)try{e=JSON.parse(t)}catch{throw jt(uh)}return{canonicalAuthority:r.authority?S1(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:e}}/*! @azure/msal-common v15.13.0 2025-09-24 */async function k1(r,t,e,n,l,o,s){s==null||s.addQueueMeasurement(fe.AuthorityFactoryCreateDiscoveredInstance,o);const c=fr.transformCIAMAuthority(S1(r)),a=new fr(c,t,e,n,l,o,s);try{return await Ie(a.resolveEndpointsAsync.bind(a),fe.AuthorityResolveEndpointsAsync,l,s,o)(),a}catch{throw ze(Cn)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Li extends Ot{constructor(t,e,n,l,o){super(t,e,n),this.name="ServerError",this.errorNo=l,this.status=o,Object.setPrototypeOf(this,Li.prototype)}}/*! @azure/msal-common v15.13.0 2025-09-24 */function Gl(r,t,e){var n;return{clientId:r,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:e,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||((n=t.tokenBodyParameters)==null?void 0:n.clientId)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class bn{static generateThrottlingStorageKey(t){return`${io.THROTTLING_PREFIX}.${JSON.stringify(t)}`}static preProcess(t,e,n){var s;const l=bn.generateThrottlingStorageKey(e),o=t.getThrottlingCache(l);if(o){if(o.throttleTime<Date.now()){t.removeItem(l,n);return}throw new Li(((s=o.errorCodes)==null?void 0:s.join(" "))||Re.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(t,e,n,l){if(bn.checkResponseStatus(n)||bn.checkResponseForRetryAfter(n)){const o={throttleTime:bn.calculateThrottleTime(parseInt(n.headers[vr.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};t.setThrottlingCache(bn.generateThrottlingStorageKey(e),o,l)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(vr.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const e=t<=0?0:t,n=Date.now()/1e3;return Math.floor(Math.min(n+(e||io.DEFAULT_THROTTLE_TIME_SECONDS),n+io.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(t,e,n,l){const o=Gl(e,n,l),s=this.generateThrottlingStorageKey(o);t.removeItem(s,n.correlationId)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Yl extends Ot{constructor(t,e,n){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,Yl.prototype),this.name="NetworkError",this.error=t,this.httpStatus=e,this.responseHeaders=n}}function Gs(r,t,e,n){return r.errorMessage=`${r.errorMessage}, additionalErrorInfo: error.name:${n==null?void 0:n.name}, error.message:${n==null?void 0:n.message}`,new Yl(r,t,e)}/*! @azure/msal-common v15.13.0 2025-09-24 */class Eh{constructor(t,e){this.config=Jv(t),this.logger=new ui(this.config.loggerOptions,U0,oh),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=e}createTokenRequestHeaders(t){const e={};if(e[vr.CONTENT_TYPE]=Re.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case tn.HOME_ACCOUNT_ID:try{const n=ls(t.credential);e[vr.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case tn.UPN:e[vr.CCS_HEADER]=`UPN: ${t.credential}`;break}return e}async executePostToTokenEndpoint(t,e,n,l,o,s){var a;s&&((a=this.performanceClient)==null||a.addQueueMeasurement(s,o));const c=await this.sendPostRequest(l,t,{body:e,headers:n},o);return this.config.serverTelemetryManager&&c.status<500&&c.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),c}async sendPostRequest(t,e,n,l){var s,c,a;bn.preProcess(this.cacheManager,t,l);let o;try{o=await Ie(this.networkClient.sendPostRequestAsync.bind(this.networkClient),fe.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,l)(e,n);const i=o.headers||{};(c=this.performanceClient)==null||c.addFields({refreshTokenSize:((s=o.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:i[vr.X_MS_HTTP_VERSION]||"",requestId:i[vr.X_MS_REQUEST_ID]||""},l)}catch(i){if(i instanceof Yl){const u=i.responseHeaders;throw u&&((a=this.performanceClient)==null||a.addFields({httpVerToken:u[vr.X_MS_HTTP_VERSION]||"",requestId:u[vr.X_MS_REQUEST_ID]||"",contentTypeHeader:u[vr.CONTENT_TYPE]||void 0,contentLengthHeader:u[vr.CONTENT_LENGTH]||void 0,httpStatus:i.httpStatus},l)),i.error}throw i instanceof Ot?i:ze(T0)}return bn.postProcess(this.cacheManager,t,o,l),o}async updateAuthority(t,e){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(fe.UpdateTokenEndpointAuthority,e);const n=`https://${t}/${this.authority.tenant}/`,l=await k1(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,e,this.performanceClient);this.authority=l}createTokenQueryParameters(t){const e=new Map;return t.embeddedClientId&&Wl(e,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenQueryParameters&&oi(e,t.tokenQueryParameters),xh(e,t.correlationId),$l(e,t.correlationId,this.performanceClient),Io(e)}}/*! @azure/msal-common v15.13.0 2025-09-24 */function C1(r){return r&&(r.tid||r.tfp||r.acr)||null}/*! @azure/msal-common v15.13.0 2025-09-24 */class an{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(t=>[t.tenantId,t])),dataBoundary:this.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(t,e,n){var i,u,f,d,h,g,y;const l=new an;e.authorityType===Zr.Adfs?l.authorityType=fa.ADFS_ACCOUNT_TYPE:e.protocolMode===Mr.OIDC?l.authorityType=fa.GENERIC_ACCOUNT_TYPE:l.authorityType=fa.MSSTS_ACCOUNT_TYPE;let o;t.clientInfo&&n&&(o=hl(t.clientInfo,n),o.xms_tdbr&&(l.dataBoundary=o.xms_tdbr==="EU"?"EU":"None")),l.clientInfo=t.clientInfo,l.homeAccountId=t.homeAccountId,l.nativeAccountId=t.nativeAccountId;const s=t.environment||e&&e.getPreferredCache();if(!s)throw ze(nh);l.environment=s,l.realm=(o==null?void 0:o.utid)||C1(t.idTokenClaims)||"",l.localAccountId=(o==null?void 0:o.uid)||((i=t.idTokenClaims)==null?void 0:i.oid)||((u=t.idTokenClaims)==null?void 0:u.sub)||"";const c=((f=t.idTokenClaims)==null?void 0:f.preferred_username)||((d=t.idTokenClaims)==null?void 0:d.upn),a=(h=t.idTokenClaims)!=null&&h.emails?t.idTokenClaims.emails[0]:null;if(l.username=c||a||"",l.loginHint=(g=t.idTokenClaims)==null?void 0:g.login_hint,l.name=((y=t.idTokenClaims)==null?void 0:y.name)||"",l.cloudGraphHostName=t.cloudGraphHostName,l.msGraphHost=t.msGraphHost,t.tenantProfiles)l.tenantProfiles=t.tenantProfiles;else{const p=hh(t.homeAccountId,l.localAccountId,l.realm,t.idTokenClaims);l.tenantProfiles=[p]}return l}static createFromAccountInfo(t,e,n){var o;const l=new an;return l.authorityType=t.authorityType||fa.GENERIC_ACCOUNT_TYPE,l.homeAccountId=t.homeAccountId,l.localAccountId=t.localAccountId,l.nativeAccountId=t.nativeAccountId,l.realm=t.tenantId,l.environment=t.environment,l.username=t.username,l.name=t.name,l.loginHint=t.loginHint,l.cloudGraphHostName=e,l.msGraphHost=n,l.tenantProfiles=Array.from(((o=t.tenantProfiles)==null?void 0:o.values())||[]),l.dataBoundary=t.dataBoundary,l}static generateHomeAccountId(t,e,n,l,o){if(!(e===Zr.Adfs||e===Zr.Dsts)){if(t)try{const s=hl(t,l.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(t){return t?t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(t,e,n){if(!t||!e)return!1;let l=!0;if(n){const o=t.idTokenClaims||{},s=e.idTokenClaims||{};l=o.iat===s.iat&&o.nonce===s.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.loginHint===e.loginHint&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&l}}/*! @azure/msal-common v15.13.0 2025-09-24 */const yl="no_tokens_found",T1="native_account_unavailable",Ah="refresh_token_expired",Ih="ux_not_allowed",cx="interaction_required",ux="consent_required",dx="login_required",Xl="bad_token";/*! @azure/msal-common v15.13.0 2025-09-24 */const Fp=[cx,ux,dx,Xl,Ih],hx=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],fx={[yl]:"No refresh token found in the cache. Please sign-in.",[T1]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Ah]:"Refresh token has expired.",[Xl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[Ih]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class ln extends Ot{constructor(t,e,n,l,o,s,c,a){super(t,e,n),Object.setPrototypeOf(this,ln.prototype),this.timestamp=l||Re.EMPTY_STRING,this.traceId=o||Re.EMPTY_STRING,this.correlationId=s||Re.EMPTY_STRING,this.claims=c||Re.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=a}}function E1(r,t,e){const n=!!r&&Fp.indexOf(r)>-1,l=!!e&&hx.indexOf(e)>-1,o=!!t&&Fp.some(s=>t.indexOf(s)>-1);return n||o||l}function bl(r){return new ln(r,fx[r])}/*! @azure/msal-common v15.13.0 2025-09-24 */class ks{static setRequestState(t,e,n){const l=ks.generateLibraryState(t,n);return e?`${l}${Re.RESOURCE_DELIM}${e}`:l}static generateLibraryState(t,e){if(!t)throw ze(Hu);const n={id:t.createNewGuid()};e&&(n.meta=e);const l=JSON.stringify(n);return t.base64Encode(l)}static parseRequestState(t,e){if(!t)throw ze(Hu);if(!e)throw ze(ys);try{const n=e.split(Re.RESOURCE_DELIM),l=n[0],o=n.length>1?n.slice(1).join(Re.RESOURCE_DELIM):Re.EMPTY_STRING,s=t.base64Decode(l),c=JSON.parse(s);return{userRequestState:o||Re.EMPTY_STRING,libraryState:c}}catch{throw ze(ys)}}}/*! @azure/msal-common v15.13.0 2025-09-24 */const px={SW:"sw"};class bs{constructor(t,e){this.cryptoUtils=t,this.performanceClient=e}async generateCnf(t,e){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(fe.PopTokenGenerateCnf,t.correlationId);const n=await Ie(this.generateKid.bind(this),fe.PopTokenGenerateCnf,e,this.performanceClient,t.correlationId)(t),l=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:l}}async generateKid(t){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(fe.PopTokenGenerateKid,t.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:px.SW}}async signPopToken(t,e,n){return this.signPayload(t,e,n)}async signPayload(t,e,n,l){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:c,shrNonce:a,shrOptions:i}=n,u=s?new Et(s):void 0,f=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:Rr(),m:o==null?void 0:o.toUpperCase(),u:f==null?void 0:f.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:f==null?void 0:f.AbsolutePath,q:f!=null&&f.QueryString?[[],f.QueryString]:void 0,client_claims:c||void 0,...l},e,i,n.correlationId)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class mx{constructor(t,e){this.cache=t,this.hasChanged=e}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Ni{constructor(t,e,n,l,o,s,c){this.clientId=t,this.cacheStorage=e,this.cryptoObj=n,this.logger=l,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=c}validateTokenResponse(t,e){var n;if(t.error||t.error_description||t.suberror){const l=`Error(s): ${t.error_codes||Re.NOT_AVAILABLE} - Timestamp: ${t.timestamp||Re.NOT_AVAILABLE} - Description: ${t.error_description||Re.NOT_AVAILABLE} - Correlation ID: ${t.correlation_id||Re.NOT_AVAILABLE} - Trace ID: ${t.trace_id||Re.NOT_AVAILABLE}`,o=(n=t.error_codes)!=null&&n.length?t.error_codes[0]:void 0,s=new Li(t.error,l,t.suberror,o,t.status);if(e&&t.status&&t.status>=Yn.SERVER_ERROR_RANGE_START&&t.status<=Yn.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(e&&t.status&&t.status>=Yn.CLIENT_ERROR_RANGE_START&&t.status<=Yn.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw E1(t.error,t.error_description,t.suberror)?new ln(t.error,t.error_description,t.suberror,t.timestamp||Re.EMPTY_STRING,t.trace_id||Re.EMPTY_STRING,t.correlation_id||Re.EMPTY_STRING,t.claims||Re.EMPTY_STRING,o):s}}async handleServerTokenResponse(t,e,n,l,o,s,c,a,i){var g;(g=this.performanceClient)==null||g.addQueueMeasurement(fe.HandleServerTokenResponse,t.correlation_id);let u;if(t.id_token){if(u=Ss(t.id_token||Re.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw ze(M0);if(l.maxAge||l.maxAge===0){const y=u.auth_time;if(!y)throw ze(th);r1(y,l.maxAge)}}this.homeAccountIdentifier=an.generateHomeAccountId(t.client_info||Re.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,u);let f;o&&o.state&&(f=ks.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||l.sshKid||void 0;const d=this.generateCacheRecord(t,e,n,l,u,s,o);let h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new mx(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),c&&!a&&d.account){const y=this.cacheStorage.generateAccountKey(d.account.getAccountInfo());if(!this.cacheStorage.getAccount(y,l.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Ni.generateAuthenticationResult(this.cryptoObj,e,d,!1,l,u,f,void 0,i)}await this.cacheStorage.saveCacheRecord(d,l.correlationId,l.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return Ni.generateAuthenticationResult(this.cryptoObj,e,d,!1,l,u,f,t,i)}generateCacheRecord(t,e,n,l,o,s,c){const a=e.getPreferredCache();if(!a)throw ze(nh);const i=C1(o);let u,f;t.id_token&&o&&(u=ql(this.homeAccountIdentifier,a,t.id_token,this.clientId,i||""),f=Mh(this.cacheStorage,e,this.homeAccountIdentifier,this.cryptoObj.base64Decode,l.correlationId,o,t.client_info,a,i,c,void 0,this.logger));let d=null;if(t.access_token){const y=t.scope?tr.fromString(t.scope):new tr(l.scopes||[]),p=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,b=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,m=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,S=n+p,C=S+b,I=m&&m>0?n+m:void 0;d=Kl(this.homeAccountIdentifier,a,t.access_token,this.clientId,i||e.tenant||"",y.printScopes(),S,C,this.cryptoObj.base64Decode,I,t.token_type,s,t.key_id,l.claims,l.requestedClaimsHash)}let h=null;if(t.refresh_token){let y;if(t.refresh_token_expires_in){const p=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;y=n+p}h=_1(this.homeAccountIdentifier,a,t.refresh_token,this.clientId,t.foci,s,y)}let g=null;return t.foci&&(g={clientId:this.clientId,environment:a,familyId:t.foci}),{account:f,idToken:u,accessToken:d,refreshToken:h,appMetadata:g}}static async generateAuthenticationResult(t,e,n,l,o,s,c,a,i){var S,C,I,P,L;let u=Re.EMPTY_STRING,f=[],d=null,h,g,y=Re.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Mt.POP&&!o.popKid){const j=new bs(t),{secret:B,keyId:z}=n.accessToken;if(!z)throw ze(ih);u=await j.signPopToken(B,z,o)}else u=n.accessToken.secret;f=tr.fromString(n.accessToken.target).asArray(),d=cs(n.accessToken.expiresOn),h=cs(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(g=cs(n.accessToken.refreshOn))}n.appMetadata&&(y=n.appMetadata.familyId===sl?sl:"");const p=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",b=(s==null?void 0:s.tid)||"";a!=null&&a.spa_accountid&&n.account&&(n.account.nativeAccountId=a==null?void 0:a.spa_accountid);const m=n.account?fh(n.account.getAccountInfo(),void 0,s,(S=n.idToken)==null?void 0:S.secret):null;return{authority:e.canonicalAuthority,uniqueId:p,tenantId:b,scopes:f,account:m,idToken:((C=n==null?void 0:n.idToken)==null?void 0:C.secret)||"",idTokenClaims:s||{},accessToken:u,fromCache:l,expiresOn:d,extExpiresOn:h,refreshOn:g,correlationId:o.correlationId,requestId:i||Re.EMPTY_STRING,familyId:y,tokenType:((I=n.accessToken)==null?void 0:I.tokenType)||Re.EMPTY_STRING,state:c?c.userRequestState:Re.EMPTY_STRING,cloudGraphHostName:((P=n.account)==null?void 0:P.cloudGraphHostName)||Re.EMPTY_STRING,msGraphHost:((L=n.account)==null?void 0:L.msGraphHost)||Re.EMPTY_STRING,code:a==null?void 0:a.spa_code,fromNativeBroker:!1}}}function Mh(r,t,e,n,l,o,s,c,a,i,u,f){f==null||f.verbose("setCachedAccount called");const h=r.getAccountKeys().find(m=>m.startsWith(e));let g=null;h&&(g=r.getAccount(h,l));const y=g||an.createAccount({homeAccountId:e,idTokenClaims:o,clientInfo:s,environment:c,cloudGraphHostName:i==null?void 0:i.cloud_graph_host_name,msGraphHost:i==null?void 0:i.msgraph_host,nativeAccountId:u},t,n),p=y.tenantProfiles||[],b=a||y.realm;if(b&&!p.find(m=>m.tenantId===b)){const m=hh(e,y.localAccountId,b,o);p.push(m)}return y.tenantProfiles=p,y}/*! @azure/msal-common v15.13.0 2025-09-24 */async function A1(r,t,e){return typeof r=="string"?r:r({clientId:t,tokenEndpoint:e})}/*! @azure/msal-common v15.13.0 2025-09-24 */class I1 extends Eh{constructor(t,e){var n;super(t,e),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes}async acquireToken(t,e){var c,a;if((c=this.performanceClient)==null||c.addQueueMeasurement(fe.AuthClientAcquireToken,t.correlationId),!t.code)throw ze(O0);const n=Rr(),l=await Ie(this.executeTokenRequest.bind(this),fe.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(this.authority,t),o=(a=l.headers)==null?void 0:a[vr.X_MS_REQUEST_ID],s=new Ni(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(l.body),Ie(s.handleServerTokenResponse.bind(s),fe.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(l.body,this.authority,n,t,e,void 0,void 0,void 0,o)}getLogoutUri(t){if(!t)throw jt(K0);const e=this.createLogoutUrlQueryString(t);return Et.appendQueryString(this.authority.endSessionEndpoint,e)}async executeTokenRequest(t,e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(fe.AuthClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),l=Et.appendQueryString(t.tokenEndpoint,n),o=await Ie(this.createTokenRequestBody.bind(this),fe.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e);let s;if(e.clientInfo)try{const u=hl(e.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${u.uid}${Ao.CLIENT_INFO_SEPARATOR}${u.utid}`,type:tn.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const c=this.createTokenRequestHeaders(s||e.ccsCredential),a=Gl(this.config.authOptions.clientId,e);return Ie(this.executePostToTokenEndpoint.bind(this),fe.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(l,o,c,a,e.correlationId,fe.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){var l,o;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.AuthClientCreateTokenRequestBody,t.correlationId);const e=new Map;if(bh(e,t.embeddedClientId||((o=t.tokenBodyParameters)==null?void 0:o[Ri])||this.config.authOptions.clientId),this.includeRedirectUri)vh(e,t.redirectUri);else if(!t.redirectUri)throw jt(H0);if(yh(e,t.scopes,!0,this.oidcDefaultScopes),$w(e,t.code),_h(e,this.config.libraryInfo),Sh(e,this.config.telemetry.application),x1(e),this.serverTelemetryManager&&!l1(this.config)&&w1(e,this.serverTelemetryManager),t.codeVerifier&&Vw(e,t.codeVerifier),this.config.clientCredentials.clientSecret&&p1(e,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;m1(e,await A1(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),g1(e,s.assertionType)}if(y1(e,_0.AUTHORIZATION_CODE_GRANT),kh(e),t.authenticationScheme===Mt.POP){const s=new bs(this.cryptoUtils,this.performanceClient);let c;t.popKid?c=this.cryptoUtils.encodeKid(t.popKid):c=(await Ie(s.generateCnf.bind(s),fe.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Ch(e,c)}else if(t.authenticationScheme===Mt.SSH)if(t.sshJwk)v1(e,t.sshJwk);else throw jt(Hl);(!Fr.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&wh(e,t.claims,this.config.authOptions.clientCapabilities);let n;if(t.clientInfo)try{const s=hl(t.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${s.uid}${Ao.CLIENT_INFO_SEPARATOR}${s.utid}`,type:tn.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else n=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case tn.HOME_ACCOUNT_ID:try{const s=ls(n.credential);so(e,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case tn.UPN:ml(e,n.credential);break}return t.embeddedClientId&&Wl(e,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenBodyParameters&&oi(e,t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[Rp])&&oi(e,{[Rp]:"1"}),$l(e,t.correlationId,this.performanceClient),Io(e)}createLogoutUrlQueryString(t){const e=new Map;return t.postLogoutRedirectUri&&Fw(e,t.postLogoutRedirectUri),t.correlationId&&xh(e,t.correlationId),t.idTokenHint&&Bw(e,t.idTokenHint),t.state&&h1(e,t.state),t.logoutHint&&Kw(e,t.logoutHint),t.extraQueryParameters&&oi(e,t.extraQueryParameters),this.config.authOptions.instanceAware&&b1(e),Io(e,this.config.authOptions.encodeExtraQueryParams,t.extraQueryParameters)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const gx=300;class yx extends Eh{constructor(t,e){super(t,e)}async acquireToken(t){var s,c;(s=this.performanceClient)==null||s.addQueueMeasurement(fe.RefreshTokenClientAcquireToken,t.correlationId);const e=Rr(),n=await Ie(this.executeTokenRequest.bind(this),fe.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(t,this.authority),l=(c=n.headers)==null?void 0:c[vr.X_MS_REQUEST_ID],o=new Ni(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Ie(o.handleServerTokenResponse.bind(o),fe.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(n.body,this.authority,e,t,void 0,void 0,!0,t.forceCache,l)}async acquireTokenByRefreshToken(t){var n;if(!t)throw jt(q0);if((n=this.performanceClient)==null||n.addQueueMeasurement(fe.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),!t.account)throw ze(rh);if(this.cacheManager.isAppMetadataFOCI(t.account.environment))try{return await Ie(this.acquireTokenWithCachedRefreshToken.bind(this),fe.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(l){const o=l instanceof ln&&l.errorCode===yl,s=l instanceof Li&&l.errorCode===_p.INVALID_GRANT_ERROR&&l.subError===_p.CLIENT_MISMATCH_ERROR;if(o||s)return Ie(this.acquireTokenWithCachedRefreshToken.bind(this),fe.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1);throw l}return Ie(this.acquireTokenWithCachedRefreshToken.bind(this),fe.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,e){var o,s,c;(o=this.performanceClient)==null||o.addQueueMeasurement(fe.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId);const n=Br(this.cacheManager.getRefreshToken.bind(this.cacheManager),fe.CacheManagerGetRefreshToken,this.logger,this.performanceClient,t.correlationId)(t.account,e,t.correlationId,void 0,this.performanceClient);if(!n)throw bl(yl);if(n.expiresOn&&gl(n.expiresOn,t.refreshTokenExpirationOffsetSeconds||gx))throw(s=this.performanceClient)==null||s.addFields({rtExpiresOnMs:Number(n.expiresOn)},t.correlationId),bl(Ah);const l={...t,refreshToken:n.secret,authenticationScheme:t.authenticationScheme||Mt.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:tn.HOME_ACCOUNT_ID}};try{return await Ie(this.acquireToken.bind(this),fe.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(l)}catch(a){if(a instanceof ln&&((c=this.performanceClient)==null||c.addFields({rtExpiresOnMs:Number(n.expiresOn)},t.correlationId),a.subError===Xl)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const i=this.cacheManager.generateCredentialKey(n);this.cacheManager.removeRefreshToken(i,t.correlationId)}throw a}}async executeTokenRequest(t,e){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(fe.RefreshTokenClientExecuteTokenRequest,t.correlationId);const n=this.createTokenQueryParameters(t),l=Et.appendQueryString(e.tokenEndpoint,n),o=await Ie(this.createTokenRequestBody.bind(this),fe.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),s=this.createTokenRequestHeaders(t.ccsCredential),c=Gl(this.config.authOptions.clientId,t);return Ie(this.executePostToTokenEndpoint.bind(this),fe.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(l,o,s,c,t.correlationId,fe.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){var n,l,o;(n=this.performanceClient)==null||n.addQueueMeasurement(fe.RefreshTokenClientCreateTokenRequestBody,t.correlationId);const e=new Map;if(bh(e,t.embeddedClientId||((l=t.tokenBodyParameters)==null?void 0:l[Ri])||this.config.authOptions.clientId),t.redirectUri&&vh(e,t.redirectUri),yh(e,t.scopes,!0,(o=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:o.defaultScopes),y1(e,_0.REFRESH_TOKEN_GRANT),kh(e),_h(e,this.config.libraryInfo),Sh(e,this.config.telemetry.application),x1(e),this.serverTelemetryManager&&!l1(this.config)&&w1(e,this.serverTelemetryManager),Ww(e,t.refreshToken),this.config.clientCredentials.clientSecret&&p1(e,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;m1(e,await A1(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),g1(e,s.assertionType)}if(t.authenticationScheme===Mt.POP){const s=new bs(this.cryptoUtils,this.performanceClient);let c;t.popKid?c=this.cryptoUtils.encodeKid(t.popKid):c=(await Ie(s.generateCnf.bind(s),fe.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Ch(e,c)}else if(t.authenticationScheme===Mt.SSH)if(t.sshJwk)v1(e,t.sshJwk);else throw jt(Hl);if((!Fr.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&wh(e,t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case tn.HOME_ACCOUNT_ID:try{const s=ls(t.ccsCredential.credential);so(e,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case tn.UPN:ml(e,t.ccsCredential.credential);break}return t.embeddedClientId&&Wl(e,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenBodyParameters&&oi(e,t.tokenBodyParameters),$l(e,t.correlationId,this.performanceClient),Io(e)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class bx extends Eh{constructor(t,e){super(t,e)}async acquireCachedToken(t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(fe.SilentFlowClientAcquireCachedToken,t.correlationId);let e=bi.NOT_APPLICABLE;if(t.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Fr.isEmptyObj(t.claims))throw this.setCacheOutcome(bi.FORCE_REFRESH_OR_CLAIMS,t.correlationId),ze(si);if(!t.account)throw ze(rh);const n=t.account.tenantId||ax(t.authority),l=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(t.account,t,l,n);if(o){if(ex(o.cachedAt)||gl(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(bi.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),ze(si);o.refreshOn&&gl(o.refreshOn,0)&&(e=bi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(bi.NO_CACHED_ACCESS_TOKEN,t.correlationId),ze(si);const s=t.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(t.account),t.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(t.account,t.correlationId,l,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(e,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ie(this.generateResultFromCacheRecord.bind(this),fe.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,t.correlationId)(c,t),e]}setCacheOutcome(t,e){var n,l;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(t),(l=this.performanceClient)==null||l.addFields({cacheOutcome:t},e),t!==bi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${t}`)}async generateResultFromCacheRecord(t,e){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(fe.SilentFlowClientGenerateResultFromCacheRecord,e.correlationId);let n;if(t.idToken&&(n=Ss(t.idToken.secret,this.config.cryptoInterface.base64Decode)),e.maxAge||e.maxAge===0){const o=n==null?void 0:n.auth_time;if(!o)throw ze(th);r1(o,e.maxAge)}return Ni.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,e,n)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const vx={sendGetRequestAsync:()=>Promise.reject(ze(xt)),sendPostRequestAsync:()=>Promise.reject(ze(xt))};/*! @azure/msal-common v15.13.0 2025-09-24 */function wx(r,t,e,n){var c,a;const l=t.correlationId,o=new Map;bh(o,t.embeddedClientId||((c=t.extraQueryParameters)==null?void 0:c[Ri])||r.clientId);const s=[...t.scopes||[],...t.extraScopesToConsent||[]];if(yh(o,s,!0,(a=r.authority.options.OIDCOptions)==null?void 0:a.defaultScopes),vh(o,t.redirectUri),xh(o,l),Dw(o,t.responseMode),kh(o),t.prompt&&(Uw(o,t.prompt),n==null||n.addFields({prompt:t.prompt},l)),t.domainHint&&(zw(o,t.domainHint),n==null||n.addFields({domainHintFromRequest:!0},l)),t.prompt!==wr.SELECT_ACCOUNT)if(t.sid&&t.prompt===wr.NONE)e.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Np(o,t.sid),n==null||n.addFields({sidFromRequest:!0},l);else if(t.account){const i=Sx(t.account);let u=kx(t.account);if(u&&t.domainHint&&(e.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){e.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),pa(o,u),n==null||n.addFields({loginHintFromClaim:!0},l);try{const f=ls(t.account.homeAccountId);so(o,f)}catch{e.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(i&&t.prompt===wr.NONE){e.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Np(o,i),n==null||n.addFields({sidFromClaim:!0},l);try{const f=ls(t.account.homeAccountId);so(o,f)}catch{e.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)e.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),pa(o,t.loginHint),ml(o,t.loginHint),n==null||n.addFields({loginHintFromRequest:!0},l);else if(t.account.username){e.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),pa(o,t.account.username),n==null||n.addFields({loginHintFromUpn:!0},l);try{const f=ls(t.account.homeAccountId);so(o,f)}catch{e.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(e.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),pa(o,t.loginHint),ml(o,t.loginHint),n==null||n.addFields({loginHintFromRequest:!0},l));else e.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&Hw(o,t.nonce),t.state&&h1(o,t.state),(t.claims||r.clientCapabilities&&r.clientCapabilities.length>0)&&wh(o,t.claims,r.clientCapabilities),t.embeddedClientId&&Wl(o,r.clientId,r.redirectUri),r.instanceAware&&(!t.extraQueryParameters||!Object.keys(t.extraQueryParameters).includes(Vu))&&b1(o),o}function Rh(r,t,e,n){const l=Io(t,e,n);return Et.appendQueryString(r.authorizationEndpoint,l)}function xx(r,t){if(M1(r,t),!r.code)throw ze(F0);return r}function M1(r,t){if(!r.state||!t)throw r.state?ze(Bu,"Cached State"):ze(Bu,"Server State");let e,n;try{e=decodeURIComponent(r.state)}catch{throw ze(ys,r.state)}try{n=decodeURIComponent(t)}catch{throw ze(ys,r.state)}if(e!==n)throw ze(I0);if(r.error||r.error_description||r.suberror){const l=_x(r);throw E1(r.error,r.error_description,r.suberror)?new ln(r.error||"",r.error_description,r.suberror,r.timestamp||"",r.trace_id||"",r.correlation_id||"",r.claims||"",l):new Li(r.error||"",r.error_description,r.suberror,l)}}function _x(r){var n,l;const t="code=",e=(n=r.error_uri)==null?void 0:n.lastIndexOf(t);return e&&e>=0?(l=r.error_uri)==null?void 0:l.substring(e+t.length):void 0}function Sx(r){var t;return((t=r.idTokenClaims)==null?void 0:t.sid)||null}function kx(r){var t;return r.loginHint||((t=r.idTokenClaims)==null?void 0:t.login_hint)||null}/*! @azure/msal-common v15.13.0 2025-09-24 */const Bp=",",R1="|";function Cx(r){const{skus:t,libraryName:e,libraryVersion:n,extensionName:l,extensionVersion:o}=r,s=new Map([[0,[e,n]],[2,[l,o]]]);let c=[];if(t!=null&&t.length){if(c=t.split(Bp),c.length<4)return t}else c=Array.from({length:4},()=>R1);return s.forEach((a,i)=>{var u,f;a.length===2&&((u=a[0])!=null&&u.length)&&((f=a[1])!=null&&f.length)&&Tx({skuArr:c,index:i,skuName:a[0],skuVersion:a[1]})}),c.join(Bp)}function Tx(r){const{skuArr:t,index:e,skuName:n,skuVersion:l}=r;e>=t.length||(t[e]=[n,l].join(R1))}class Mo{constructor(t,e){this.cacheOutcome=bi.NOT_APPLICABLE,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||Re.EMPTY_STRING,this.wrapperVer=t.wrapperVer||Re.EMPTY_STRING,this.telemetryCacheKey=or.CACHE_KEY+Ao.CACHE_KEY_SEPARATOR+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${or.VALUE_SEPARATOR}${this.cacheOutcome}`,e=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&e.push(`broker_error=${n}`);const l=e.join(or.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[t,o].join(or.VALUE_SEPARATOR);return[or.SCHEMA_VERSION,s,l].join(or.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),e=Mo.maxErrorsToSend(t),n=t.failedRequests.slice(0,2*e).join(or.VALUE_SEPARATOR),l=t.errors.slice(0,e).join(or.VALUE_SEPARATOR),o=t.errors.length,s=e<o?or.OVERFLOW_TRUE:or.OVERFLOW_FALSE,c=[o,s].join(or.VALUE_SEPARATOR);return[or.SCHEMA_VERSION,t.cacheHits,n,l,c].join(or.CATEGORY_SEPARATOR)}cacheFailedRequest(t){const e=this.getLastRequests();e.errors.length>=or.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof Ot?t.subError?e.errors.push(t.subError):t.errorCode?e.errors.push(t.errorCode):e.errors.push(t.toString()):e.errors.push(t.toString()):e.errors.push(or.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t}clearTelemetryCache(){const t=this.getLastRequests(),e=Mo.maxErrorsToSend(t),n=t.errors.length;if(e===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const l={failedRequests:t.failedRequests.slice(e*2),errors:t.errors.slice(e),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,l,this.correlationId)}}static maxErrorsToSend(t){let e,n=0,l=0;const o=t.errors.length;for(e=0;e<o;e++){const s=t.failedRequests[2*e]||Re.EMPTY_STRING,c=t.failedRequests[2*e+1]||Re.EMPTY_STRING,a=t.errors[e]||Re.EMPTY_STRING;if(l+=s.toString().length+c.toString().length+a.length+3,l<or.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||Re.EMPTY_STRING),t.push(this.regionSource||Re.EMPTY_STRING),t.push(this.regionOutcome||Re.EMPTY_STRING),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const e=this.getLastRequests();e.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}static makeExtraSkuString(t){return Cx(t)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const N1="missing_kid_error",O1="missing_alg_error";/*! @azure/msal-common v15.13.0 2025-09-24 */const Ex={[N1]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[O1]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Nh extends Ot{constructor(t,e){super(t,e),this.name="JoseHeaderError",Object.setPrototypeOf(this,Nh.prototype)}}function zp(r){return new Nh(r,Ex[r])}/*! @azure/msal-common v15.13.0 2025-09-24 */class Oh{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw zp(N1);if(!t.alg)throw zp(O1);const e=new Oh({typ:t.typ||wv.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(e)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const Ph="pkce_not_created",jh="ear_jwk_empty",P1="ear_jwe_empty",qu="crypto_nonexistent",Ql="empty_navigate_uri",j1="hash_empty_error",Dh="no_state_in_hash",D1="hash_does_not_contain_known_properties",L1="unable_to_parse_state",F1="state_interaction_type_mismatch",B1="interaction_in_progress",z1="popup_window_error",U1="empty_window_error",Ro="user_cancelled",Ax="monitor_popup_timeout",H1="monitor_window_timeout",$1="redirect_in_iframe",W1="block_iframe_reload",V1="block_nested_popups",Ix="iframe_closed_prematurely",Jl="silent_logout_unsupported",q1="no_account_error",Mx="silent_prompt_value_error",K1="no_token_request_cache_error",G1="unable_to_parse_token_request_cache_error",Rx="auth_request_not_set_error",Nx="invalid_cache_type",Zl="non_browser_environment",Ui="database_not_open",vl="no_network_connectivity",Y1="post_request_failed",X1="get_request_failed",Ku="failed_to_parse_response",Q1="unable_to_load_token",Lh="crypto_key_not_found",J1="auth_code_required",Z1="auth_code_or_nativeAccountId_required",ey="spa_code_and_nativeAccountId_present",Fh="database_unavailable",ty="unable_to_acquire_token_from_native_platform",ry="native_handshake_timeout",ny="native_extension_not_installed",Bh="native_connection_not_established",oo="uninitialized_public_client_application",iy="native_prompt_not_supported",sy="invalid_base64_string",oy="invalid_pop_token_request",ay="failed_to_build_headers",ly="failed_to_parse_headers",Na="failed_to_decrypt_ear_response",wl="timed_out";/*! @azure/msal-browser v4.24.0 2025-09-24 */const Sn="For more visit: aka.ms/msaljs/browser-errors",Ox={[Ph]:"The PKCE code challenge and verifier could not be generated.",[jh]:"No EAR encryption key provided. This is unexpected.",[P1]:"Server response does not contain ear_jwe property. This is unexpected.",[qu]:"The crypto object or function is not available.",[Ql]:"Navigation URI is empty. Please check stack trace for more info.",[j1]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Sn}`,[Dh]:"Hash does not contain state. Please verify that the request originated from msal.",[D1]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Sn}`,[L1]:"Unable to parse state. Please verify that the request originated from msal.",[F1]:"Hash contains state but the interaction type does not match the caller.",[B1]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Sn}`,[z1]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[U1]:"window.open returned null or undefined window object.",[Ro]:"User cancelled the flow.",[Ax]:`Token acquisition in popup failed due to timeout.  ${Sn}`,[H1]:`Token acquisition in iframe failed due to timeout.  ${Sn}`,[$1]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[W1]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Sn}`,[V1]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Ix]:"The iframe being monitored was closed prematurely.",[Jl]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[q1]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Mx]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[K1]:"No token request found in cache.",[G1]:"The cached token request could not be parsed.",[Rx]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Nx]:"Invalid cache type",[Zl]:"Login and token requests are not supported in non-browser environments.",[Ui]:"Database is not open!",[vl]:"No network connectivity. Check your internet connection.",[Y1]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[X1]:"Network request failed. Please check the network trace to determine root cause.",[Ku]:"Failed to parse network response. Check network trace.",[Q1]:"Error loading token to cache.",[Lh]:"Cryptographic Key or Keypair not found in browser storage.",[J1]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Z1]:"An authorization code or nativeAccountId must be provided to this flow.",[ey]:"Request cannot contain both spa code and native account id.",[Fh]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ty]:`Unable to acquire token from native platform.  ${Sn}`,[ry]:"Timed out while attempting to establish connection to browser extension",[ny]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Bh]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Sn}`,[oo]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Sn}`,[iy]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[sy]:"Invalid base64 encoded string.",[oy]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[ay]:"Failed to build request headers object.",[ly]:"Failed to parse response headers",[Na]:"Failed to decrypt ear response",[wl]:"The request timed out."};class Bo extends Ot{constructor(t,e){super(t,Ox[t],e),Object.setPrototypeOf(this,Bo.prototype),this.name="BrowserAuthError"}}function tt(r,t){return new Bo(r,t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const Cr={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Vr={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Ls={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},rr={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Up={GET:"GET",POST:"POST"},qn={SIGNIN:"signin",SIGNOUT:"signout"},Qt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},ga={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Nt={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var bt;(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(bt||(bt={}));const Hp={scopes:_s},cy="jwk",Gu="msal.db",Px=1,jx=`${Gu}.keys`,yr={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},Dx=[yr.Default,yr.Skip,yr.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.24.0 2025-09-24 */function ya(r){return encodeURIComponent(No(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function di(r){return uy(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function No(r){return uy(new TextEncoder().encode(r))}function uy(r){const t=Array.from(r,e=>String.fromCodePoint(e)).join("");return btoa(t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */function sn(r){return new TextDecoder().decode(ai(r))}function ai(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw tt(sy)}const e=atob(t);return Uint8Array.from(e,n=>n.codePointAt(0)||0)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const Lx="RSASSA-PKCS1-v1_5",Cs="AES-GCM",dy="HKDF",zh="SHA-256",Fx=2048,Bx=new Uint8Array([1,0,1]),$p="0123456789abcdef",Wp=new Uint32Array(1),Uh="raw",hy="encrypt",Hh="decrypt",zx="deriveKey",Ux="crypto_subtle_undefined",$h={name:Lx,hash:zh,modulusLength:Fx,publicExponent:Bx};function Hx(r){if(!window)throw tt(Zl);if(!window.crypto)throw tt(qu);if(!r&&!window.crypto.subtle)throw tt(qu,Ux)}async function fy(r,t,e){t==null||t.addQueueMeasurement(fe.Sha256Digest,e);const l=new TextEncoder().encode(r);return window.crypto.subtle.digest(zh,l)}function $x(r){return window.crypto.getRandomValues(r)}function Dc(){return window.crypto.getRandomValues(Wp),Wp[0]}function cn(){const r=Date.now(),t=Dc()*1024+(Dc()&1023),e=new Uint8Array(16),n=Math.trunc(t/2**30),l=t&2**30-1,o=Dc();e[0]=r/2**40,e[1]=r/2**32,e[2]=r/2**24,e[3]=r/2**16,e[4]=r/2**8,e[5]=r,e[6]=112|n>>>8,e[7]=n,e[8]=128|l>>>24,e[9]=l>>>16,e[10]=l>>>8,e[11]=l,e[12]=o>>>24,e[13]=o>>>16,e[14]=o>>>8,e[15]=o;let s="";for(let c=0;c<e.length;c++)s+=$p.charAt(e[c]>>>4),s+=$p.charAt(e[c]&15),(c===3||c===5||c===7||c===9)&&(s+="-");return s}async function Wx(r,t){return window.crypto.subtle.generateKey($h,r,t)}async function Lc(r){return window.crypto.subtle.exportKey(cy,r)}async function Vx(r,t,e){return window.crypto.subtle.importKey(cy,r,$h,t,e)}async function qx(r,t){return window.crypto.subtle.sign($h,r,t)}async function Wh(){const r=await py(),e={alg:"dir",kty:"oct",k:di(new Uint8Array(r))};return No(JSON.stringify(e))}async function Kx(r){const t=sn(r),n=JSON.parse(t).k,l=ai(n);return window.crypto.subtle.importKey(Uh,l,Cs,!1,[Hh])}async function Gx(r,t){const e=t.split(".");if(e.length!==5)throw tt(Na,"jwe_length");const n=await Kx(r).catch(()=>{throw tt(Na,"import_key")});try{const l=new TextEncoder().encode(e[0]),o=ai(e[2]),s=ai(e[3]),c=ai(e[4]),a=c.byteLength*8,i=new Uint8Array(s.length+c.length);i.set(s),i.set(c,s.length);const u=await window.crypto.subtle.decrypt({name:Cs,iv:o,tagLength:a,additionalData:l},n,i);return new TextDecoder().decode(u)}catch{throw tt(Na,"decrypt")}}async function py(){const r=await window.crypto.subtle.generateKey({name:Cs,length:256},!0,[hy,Hh]);return window.crypto.subtle.exportKey(Uh,r)}async function Vp(r){return window.crypto.subtle.importKey(Uh,r,dy,!1,[zx])}async function my(r,t,e){return window.crypto.subtle.deriveKey({name:dy,salt:t,hash:zh,info:new TextEncoder().encode(e)},r,{name:Cs,length:256},!1,[hy,Hh])}async function Yx(r,t,e){const n=new TextEncoder().encode(t),l=window.crypto.getRandomValues(new Uint8Array(16)),o=await my(r,l,e),s=await window.crypto.subtle.encrypt({name:Cs,iv:new Uint8Array(12)},o,n);return{data:di(new Uint8Array(s)),nonce:di(l)}}async function qp(r,t,e,n){const l=ai(n),o=await my(r,ai(t),e),s=await window.crypto.subtle.decrypt({name:Cs,iv:new Uint8Array(12)},o,l);return new TextDecoder().decode(s)}async function gy(r){const t=await fy(r),e=new Uint8Array(t);return di(e)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const ec="storage_not_supported",yy="stubbed_public_client_application_called",Vh="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.24.0 2025-09-24 */const Oa={[ec]:"Given storage configuration option was not supported.",[yy]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Vh]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};Oa[ec],Oa[yy],Oa[Vh];class qh extends Ot{constructor(t,e){super(t,e),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,qh.prototype)}}function Kh(r){return new qh(r,Oa[r])}/*! @azure/msal-browser v4.24.0 2025-09-24 */function by(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function Xx(r){const t=r.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function Gh(){return window.parent!==window}function Qx(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Cr.POPUP_NAME_PREFIX}.`)===0}function In(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Jx(){const t=new Et(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function Zx(){if(Et.hashContainsKnownProperties(window.location.hash)&&Gh())throw tt(W1)}function e5(r){if(Gh()&&!r)throw tt($1)}function t5(){if(Qx())throw tt(V1)}function vy(){if(typeof window>"u")throw tt(Zl)}function wy(r){if(!r)throw tt(oo)}function Yh(r){vy(),Zx(),t5(),wy(r)}function Kp(r,t){if(Yh(r),e5(t.system.allowRedirectInIframe),t.cache.cacheLocation===rr.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw Kh(Vh)}function xy(r){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(r).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function r5(){return cn()}/*! @azure/msal-browser v4.24.0 2025-09-24 */class xl{navigateInternal(t,e){return xl.defaultNavigateWindow(t,e)}navigateExternal(t,e){return xl.defaultNavigateWindow(t,e)}static defaultNavigateWindow(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise((n,l)=>{setTimeout(()=>{l(tt(wl,"failed_to_redirect"))},e.timeout)})}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class n5{async sendGetRequestAsync(t,e){let n,l={},o=0;const s=Gp(e);try{n=await fetch(t,{method:Up.GET,headers:s})}catch(c){throw Gs(tt(window.navigator.onLine?X1:vl),void 0,void 0,c)}l=Yp(n.headers);try{return o=n.status,{headers:l,body:await n.json(),status:o}}catch(c){throw Gs(tt(Ku),o,l,c)}}async sendPostRequestAsync(t,e){const n=e&&e.body||"",l=Gp(e);let o,s=0,c={};try{o=await fetch(t,{method:Up.POST,headers:l,body:n})}catch(a){throw Gs(tt(window.navigator.onLine?Y1:vl),void 0,void 0,a)}c=Yp(o.headers);try{return s=o.status,{headers:c,body:await o.json(),status:s}}catch(a){throw Gs(tt(Ku),s,c,a)}}}function Gp(r){try{const t=new Headers;if(!(r&&r.headers))return t;const e=r.headers;return Object.entries(e).forEach(([n,l])=>{t.append(n,l)}),t}catch(t){throw Gs(tt(ay),void 0,void 0,t)}}function Yp(r){try{const t={};return r.forEach((e,n)=>{t[n]=e}),t}catch{throw tt(ly)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const i5=6e4,Yu=1e4,s5=3e4,_y=2e3;function o5({auth:r,cache:t,system:e,telemetry:n},l){const o={clientId:Re.EMPTY_STRING,authority:`${Re.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Re.EMPTY_STRING,authorityMetadata:Re.EMPTY_STRING,redirectUri:typeof window<"u"?In():"",postLogoutRedirectUri:Re.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Mr.AAD,OIDCOptions:{serverResponseType:Ul.FRAGMENT,defaultScopes:[Re.OPENID_SCOPE,Re.PROFILE_SCOPE,Re.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ah.None,tenant:Re.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:rr.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:rr.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(t&&t.cacheLocation===rr.LocalStorage),claimsBasedCachingEnabled:!1},c={loggerCallback:()=>{},logLevel:Ut.Info,piiLoggingEnabled:!1},i={...{...a1,loggerOptions:c,networkClient:l?new n5:vx,navigationClient:new xl,loadFrameTimeout:0,windowHashTimeout:(e==null?void 0:e.loadFrameTimeout)||i5,iframeHashTimeout:(e==null?void 0:e.loadFrameTimeout)||Yu,navigateFrameWait:0,redirectNavigationTimeout:s5,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(e==null?void 0:e.nativeBrokerHandshakeTimeout)||_y,pollIntervalMilliseconds:Cr.DEFAULT_POLL_INTERVAL_MS},...e,loggerOptions:(e==null?void 0:e.loggerOptions)||c},u={application:{appName:Re.EMPTY_STRING,appVersion:Re.EMPTY_STRING},client:new o1};if((r==null?void 0:r.protocolMode)!==Mr.OIDC&&(r!=null&&r.OIDCOptions)&&new ui(i.loggerOptions).warning(JSON.stringify(jt(Q0))),r!=null&&r.protocolMode&&r.protocolMode===Mr.OIDC&&(i!=null&&i.allowPlatformBroker))throw jt(J0);return{auth:{...o,...r,OIDCOptions:{...o.OIDCOptions,...r==null?void 0:r.OIDCOptions}},cache:{...s,...t},system:i,telemetry:{...u,...n}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const a5="@azure/msal-browser",Oi="4.24.0";/*! @azure/msal-browser v4.24.0 2025-09-24 */const nr="msal",Xh="browser",Fc="-",Un=1,Xu=1,l5=`${nr}.${Xh}.log.level`,c5=`${nr}.${Xh}.log.pii`,u5=`${nr}.${Xh}.platform.auth.dom`,Xp=`${nr}.version`,Qp="account.keys",Jp="token.keys";function gn(r=Xu){return r<1?`${nr}.${Qp}`:`${nr}.${r}.${Qp}`}function Si(r,t=Un){return t<1?`${nr}.${Jp}.${r}`:`${nr}.${t}.${Jp}.${r}`}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Qh{static loggerCallback(t,e){switch(t){case Ut.Error:console.error(e);return;case Ut.Info:console.info(e);return;case Ut.Verbose:console.debug(e);return;case Ut.Warning:console.warn(e);return;default:console.log(e);return}}constructor(t){var a;this.browserEnvironment=typeof window<"u",this.config=o5(t,this.browserEnvironment);let e;try{e=window[rr.SessionStorage]}catch{}const n=e==null?void 0:e.getItem(l5),l=(a=e==null?void 0:e.getItem(c5))==null?void 0:a.toLowerCase(),o=l==="true"?!0:l==="false"?!1:void 0,s={...this.config.system.loggerOptions},c=n&&Object.keys(Ut).includes(n)?Ut[n]:void 0;c&&(s.loggerCallback=Qh.loggerCallback,s.logLevel=c),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new ui(s,a5,Oi),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Pi extends Qh{getModuleName(){return Pi.MODULE_NAME}getId(){return Pi.ID}async initialize(){return this.available=typeof window<"u",this.available}}Pi.MODULE_NAME="";Pi.ID="StandardOperatingContext";/*! @azure/msal-browser v4.24.0 2025-09-24 */class d5{constructor(){this.dbName=Gu,this.version=Px,this.tableName=jx,this.dbOpen=!1}async open(){return new Promise((t,e)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",l=>{l.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",l=>{const o=l;this.db=o.target.result,this.dbOpen=!0,t()}),n.addEventListener("error",()=>e(tt(Fh)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(tt(Ui));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);s.addEventListener("success",c=>{const a=c;this.closeConnection(),e(a.target.result)}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async setItem(t,e){return await this.validateDbIsOpen(),new Promise((n,l)=>{if(!this.db)return l(tt(Ui));const c=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(e,t);c.addEventListener("success",()=>{this.closeConnection(),n()}),c.addEventListener("error",a=>{this.closeConnection(),l(a)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(tt(Ui));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);s.addEventListener("success",()=>{this.closeConnection(),e()}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,e)=>{if(!this.db)return e(tt(Ui));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const c=s;this.closeConnection(),t(c.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),e(s)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(tt(Ui));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);s.addEventListener("success",c=>{const a=c;this.closeConnection(),e(a.target.result===1)}),s.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,e)=>{const n=window.indexedDB.deleteDatabase(Gu),l=setTimeout(()=>e(!1),200);n.addEventListener("success",()=>(clearTimeout(l),t(!0))),n.addEventListener("blocked",()=>(clearTimeout(l),t(!0))),n.addEventListener("error",()=>(clearTimeout(l),e(!1)))})}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class tc{constructor(){this.cache=new Map}async initialize(){}getItem(t){return this.cache.get(t)||null}getUserData(t){return this.getItem(t)}setItem(t,e){this.cache.set(t,e)}async setUserData(t,e){this.setItem(t,e)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((e,n)=>{t.push(n)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class h5{constructor(t){this.inMemoryCache=new tc,this.indexedDBCache=new d5,this.logger=t}handleDatabaseAccessError(t){if(t instanceof Bo&&t.errorCode===Fh)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw t}async getItem(t){const e=this.inMemoryCache.getItem(t);if(!e)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(t)}catch(n){this.handleDatabaseAccessError(n)}return e}async setItem(t,e){this.inMemoryCache.setItem(t,e);try{await this.indexedDBCache.setItem(t,e)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(t){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(e){this.handleDatabaseAccessError(e)}}async getKeys(){const t=this.inMemoryCache.getKeys();if(t.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(e){this.handleDatabaseAccessError(e)}return t}async containsKey(t){const e=this.inMemoryCache.containsKey(t);if(!e)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(t)}catch(n){this.handleDatabaseAccessError(n)}return e}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const t=await this.indexedDBCache.deleteDatabase();return t&&this.logger.verbose("Persistent keystore deleted"),t}catch(t){return this.handleDatabaseAccessError(t),!1}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class jn{constructor(t,e,n){this.logger=t,Hx(n??!1),this.cache=new h5(this.logger),this.performanceClient=e}createNewGuid(){return cn()}base64Encode(t){return No(t)}base64Decode(t){return sn(t)}base64UrlEncode(t){return ya(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){var u;const e=(u=this.performanceClient)==null?void 0:u.startMeasurement(fe.CryptoOptsGetPublicKeyThumbprint,t.correlationId),n=await Wx(jn.EXTRACTABLE,jn.POP_KEY_USAGES),l=await Lc(n.publicKey),o={e:l.e,kty:l.kty,n:l.n},s=Zp(o),c=await this.hashString(s),a=await Lc(n.privateKey),i=await Vx(a,!1,["sign"]);return await this.cache.setItem(c,{privateKey:i,publicKey:n.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),e&&e.end({success:!0}),c}async removeTokenBindingKey(t){if(await this.cache.removeItem(t),await this.cache.containsKey(t))throw ze(B0)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(t,e,n,l){var S;const o=(S=this.performanceClient)==null?void 0:S.startMeasurement(fe.CryptoOptsSignJwt,l),s=await this.cache.getItem(e);if(!s)throw tt(Lh);const c=await Lc(s.publicKey),a=Zp(c),i=ya(JSON.stringify({kid:e})),u=Oh.getShrHeaderString({...n==null?void 0:n.header,alg:c.alg,kid:i}),f=ya(u);t.cnf={jwk:JSON.parse(a)};const d=ya(JSON.stringify(t)),h=`${f}.${d}`,y=new TextEncoder().encode(h),p=await qx(s.privateKey,y),b=di(new Uint8Array(p)),m=`${h}.${b}`;return o&&o.end({success:!0}),m}async hashString(t){return gy(t)}}jn.POP_KEY_USAGES=["sign","verify"];jn.EXTRACTABLE=!0;function Zp(r){return JSON.stringify(r,Object.keys(r).sort())}/*! @azure/msal-browser v4.24.0 2025-09-24 */const f5=24*60*60*1e3,Qu={Lax:"Lax",None:"None"};class Sy{initialize(){return Promise.resolve()}getItem(t){const e=`${encodeURIComponent(t)}`,n=document.cookie.split(";");for(let l=0;l<n.length;l++){const o=n[l],[s,...c]=decodeURIComponent(o).trim().split("="),a=c.join("=");if(s===e)return a}return""}getUserData(){throw ze(xt)}setItem(t,e,n,l=!0,o=Qu.Lax){let s=`${encodeURIComponent(t)}=${encodeURIComponent(e)};path=/;SameSite=${o};`;if(n){const c=p5(n);s+=`expires=${c};`}(l||o===Qu.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(ze(xt))}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),e=[];return t.forEach(n=>{const l=decodeURIComponent(n).trim().split("=");e.push(l[0])}),e}containsKey(t){return this.getKeys().includes(t)}decryptData(){return Promise.resolve(null)}}function p5(r){const t=new Date;return new Date(t.getTime()+r*f5).toUTCString()}/*! @azure/msal-browser v4.24.0 2025-09-24 */function ao(r,t){const e=r.getItem(gn(t));return e?JSON.parse(e):[]}function lo(r,t,e){const n=t.getItem(Si(r,e));if(n){const l=JSON.parse(n);if(l&&l.hasOwnProperty("idToken")&&l.hasOwnProperty("accessToken")&&l.hasOwnProperty("refreshToken"))return l}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Ju(r){return r.hasOwnProperty("id")&&r.hasOwnProperty("nonce")&&r.hasOwnProperty("data")}/*! @azure/msal-browser v4.24.0 2025-09-24 */const em="msal.cache.encryption",m5="msal.broadcast.cache";class g5{constructor(t,e,n){if(!window.localStorage)throw Kh(ec);this.memoryStorage=new tc,this.initialized=!1,this.clientId=t,this.logger=e,this.performanceClient=n,this.broadcast=new BroadcastChannel(m5)}async initialize(t){const e=new Sy,n=e.getItem(em);let l={key:"",id:""};if(n)try{l=JSON.parse(n)}catch{}if(l.key&&l.id){const o=Br(ai,fe.Base64Decode,this.logger,this.performanceClient,t)(l.key);this.encryptionCookie={id:l.id,key:await Ie(Vp,fe.GenerateHKDF,this.logger,this.performanceClient,t)(o)}}else{const o=cn(),s=await Ie(py,fe.GenerateBaseKey,this.logger,this.performanceClient,t)(),c=Br(di,fe.UrlEncodeArr,this.logger,this.performanceClient,t)(new Uint8Array(s));this.encryptionCookie={id:o,key:await Ie(Vp,fe.GenerateHKDF,this.logger,this.performanceClient,t)(s)};const a={id:o,key:c};e.setItem(em,JSON.stringify(a),0,!0,Qu.None)}await Ie(this.importExistingCache.bind(this),fe.ImportExistingCache,this.logger,this.performanceClient,t)(t),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(t){return window.localStorage.getItem(t)}getUserData(t){if(!this.initialized)throw tt(oo);return this.memoryStorage.getItem(t)}async decryptData(t,e,n){if(!this.initialized||!this.encryptionCookie)throw tt(oo);if(e.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null;const l=await Ie(qp,fe.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,e.nonce,this.getContext(t),e.data);if(!l)return null;try{return JSON.parse(l)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},n),null}}setItem(t,e){window.localStorage.setItem(t,e)}async setUserData(t,e,n,l){if(!this.initialized||!this.encryptionCookie)throw tt(oo);const{data:o,nonce:s}=await Ie(Yx,fe.Encrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,e,this.getContext(t)),c={id:this.encryptionCookie.id,nonce:s,data:o,lastUpdatedAt:l};this.memoryStorage.setItem(t,e),this.setItem(t,JSON.stringify(c)),this.broadcast.postMessage({key:t,value:e,context:this.getContext(t)})}removeItem(t){this.memoryStorage.containsKey(t)&&(this.memoryStorage.removeItem(t),this.broadcast.postMessage({key:t,value:null,context:this.getContext(t)})),window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}clear(){this.memoryStorage.clear(),ao(this).forEach(n=>this.removeItem(n));const e=lo(this.clientId,this);e.idToken.forEach(n=>this.removeItem(n)),e.accessToken.forEach(n=>this.removeItem(n)),e.refreshToken.forEach(n=>this.removeItem(n)),this.getKeys().forEach(n=>{(n.startsWith(nr)||n.indexOf(this.clientId)!==-1)&&this.removeItem(n)})}async importExistingCache(t){if(!this.encryptionCookie)return;let e=ao(this);e=await this.importArray(e,t),e.length?this.setItem(gn(),JSON.stringify(e)):this.removeItem(gn());const n=lo(this.clientId,this);n.idToken=await this.importArray(n.idToken,t),n.accessToken=await this.importArray(n.accessToken,t),n.refreshToken=await this.importArray(n.refreshToken,t),n.idToken.length||n.accessToken.length||n.refreshToken.length?this.setItem(Si(this.clientId),JSON.stringify(n)):this.removeItem(Si(this.clientId))}async getItemFromEncryptedCache(t,e){if(!this.encryptionCookie)return null;const n=this.getItem(t);if(!n)return null;let l;try{l=JSON.parse(n)}catch{return null}return Ju(l)?l.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},e),null):Ie(qp,fe.Decrypt,this.logger,this.performanceClient,e)(this.encryptionCookie.key,l.nonce,this.getContext(t),l.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},e),l)}async importArray(t,e){const n=[],l=[];return t.forEach(o=>{const s=this.getItemFromEncryptedCache(o,e).then(c=>{c?(this.memoryStorage.setItem(o,c),n.push(o)):this.removeItem(o)});l.push(s)}),await Promise.all(l),n}getContext(t){let e="";return t.includes(this.clientId)&&(e=this.clientId),e}updateCache(t){this.logger.trace("Updating internal cache from broadcast event");const e=this.performanceClient.startMeasurement(fe.LocalStorageUpdated);e.add({isBackground:!0});const{key:n,value:l,context:o}=t.data;if(!n){this.logger.error("Broadcast event missing key"),e.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),e.end({success:!1,errorCode:"contextMismatch"});return}l?(this.memoryStorage.setItem(n,l),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),e.end({success:!0})}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class y5{constructor(){if(!window.sessionStorage)throw Kh(ec)}async initialize(){}getItem(t){return window.sessionStorage.getItem(t)}getUserData(t){return this.getItem(t)}setItem(t,e){window.sessionStorage.setItem(t,e)}async setUserData(t,e){this.setItem(t,e)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const gt={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.24.0 2025-09-24 */function tm(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Zu extends Wu{constructor(t,e,n,l,o,s,c){super(t,n,l,o,c),this.cacheConfig=e,this.logger=l,this.internalStorage=new tc,this.browserStorage=rm(t,e.cacheLocation,l,o),this.temporaryCacheStorage=rm(t,e.temporaryCacheLocation,l,o),this.cookieStorage=new Sy,this.eventHandler=s}async initialize(t){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},t),await this.browserStorage.initialize(t),await this.migrateExistingCache(t),this.trackVersionChanges(t)}async migrateExistingCache(t){const e=ao(this.browserStorage,0),n=lo(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:e.length,oldAccessCount:n.accessToken.length,oldIdCount:n.idToken.length,oldRefreshCount:n.refreshToken.length},t);const l=ao(this.browserStorage,1),o=lo(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:l.length,currAccessCount:o.accessToken.length,currIdCount:o.idToken.length,currRefreshCount:o.refreshToken.length},t),await Promise.all([this.updateV0ToCurrent(Xu,e,l,t),this.updateV0ToCurrent(Un,n.idToken,o.idToken,t),this.updateV0ToCurrent(Un,n.accessToken,o.accessToken,t),this.updateV0ToCurrent(Un,n.refreshToken,o.refreshToken,t)]),e.length>0?this.browserStorage.setItem(gn(0),JSON.stringify(e)):this.browserStorage.removeItem(gn(0)),l.length>0?this.browserStorage.setItem(gn(1),JSON.stringify(l)):this.browserStorage.removeItem(gn(1)),this.setTokenKeys(n,t,0),this.setTokenKeys(o,t,1)}async updateV0ToCurrent(t,e,n,l){const o=[];for(const s of[...e]){const c=this.browserStorage.getItem(s),a=this.validateAndParseJson(c||"");if(!a){tm(e,s);continue}a.lastUpdatedAt||(a.lastUpdatedAt=Date.now().toString(),this.setItem(s,JSON.stringify(a),l));const i=Ju(a)?await this.browserStorage.decryptData(s,a,l):a;let u;if(i&&(Pp(i)||jp(i))&&(u=i.expiresOn),!i||Zw(a.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||u&&gl(u,S0)){this.browserStorage.removeItem(s),tm(e,s),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},l);continue}if(this.cacheConfig.cacheLocation!==rr.LocalStorage||Ju(a)){const f=`${nr}.${t}${Fc}${s}`,d=this.browserStorage.getItem(f);if(d){const h=this.validateAndParseJson(d);if(Number(a.lastUpdatedAt)>Number(h.lastUpdatedAt)){o.push(this.setUserData(f,JSON.stringify(i),l,a.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},l)}));continue}}else{o.push(this.setUserData(f,JSON.stringify(i),l,a.lastUpdatedAt).then(()=>{n.push(f),this.performanceClient.incrementFields({upgradedCacheCount:1},l)}));continue}}}return Promise.all(o)}trackVersionChanges(t){const e=this.browserStorage.getItem(Xp);e&&(this.logger.info(`MSAL.js was last initialized by version: ${e}`),this.performanceClient.addFields({previousLibraryVersion:e},t)),e!==Oi&&this.setItem(Xp,Oi,t)}validateAndParseJson(t){if(!t)return null;try{const e=JSON.parse(t);return e&&typeof e=="object"?e:null}catch{return null}}setItem(t,e,n){let l=0,o=[];const s=20;for(let c=0;c<=s;c++)try{this.browserStorage.setItem(t,e),c>0&&(c<=l?this.removeAccessTokenKeys(o.slice(0,c),n,0):(this.removeAccessTokenKeys(o.slice(0,l),n,0),this.removeAccessTokenKeys(o.slice(l,c),n)));break}catch(a){const i=$u(a);if(i.errorCode===dl&&c<s){if(!o.length){const u=t===Si(this.clientId,0)?JSON.parse(e).accessToken:this.getTokenKeys(0).accessToken,f=t===Si(this.clientId)?JSON.parse(e).accessToken:this.getTokenKeys().accessToken;o=[...u,...f],l=u.length}if(o.length<=c)throw i;this.removeAccessToken(o[c],n,!1)}else throw i}}async setUserData(t,e,n,l){let o=0,s=[];const c=20;for(let a=0;a<=c;a++)try{await Ie(this.browserStorage.setUserData.bind(this.browserStorage),fe.SetUserData,this.logger,this.performanceClient)(t,e,n,l),a>0&&(a<=o?this.removeAccessTokenKeys(s.slice(0,a),n,0):(this.removeAccessTokenKeys(s.slice(0,o),n,0),this.removeAccessTokenKeys(s.slice(o,a),n)));break}catch(i){const u=$u(i);if(u.errorCode===dl&&a<c){if(!s.length){const f=this.getTokenKeys(0).accessToken,d=this.getTokenKeys().accessToken;s=[...f,...d],o=f.length}if(s.length<=a)throw u;this.removeAccessToken(s[a],n,!1)}else throw u}}getAccount(t,e){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.browserStorage.getUserData(t);if(!n)return this.removeAccountKeyFromMap(t,e),null;const l=this.validateAndParseJson(n);return!l||!an.isAccountEntity(l)?null:Wu.toObject(new an,l)}async setAccount(t,e){this.logger.trace("BrowserCacheManager.setAccount called");const n=this.generateAccountKey(t.getAccountInfo()),l=Date.now().toString();t.lastUpdatedAt=l,await this.setUserData(n,JSON.stringify(t),e,l);const o=this.addAccountKeyToMap(n,e);this.cacheConfig.cacheLocation===rr.LocalStorage&&o&&this.eventHandler.emitEvent(gt.ACCOUNT_ADDED,void 0,t.getAccountInfo())}getAccountKeys(){return ao(this.browserStorage)}addAccountKeyToMap(t,e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${t}`);const n=this.getAccountKeys();return n.indexOf(t)===-1?(n.push(t),this.setItem(gn(),JSON.stringify(n),e),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(t,e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${t}`);const n=this.getAccountKeys(),l=n.indexOf(t);if(l>-1){if(n.splice(l,1),n.length===0){this.removeItem(gn());return}else this.setItem(gn(),JSON.stringify(n),e);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(t,e){const n=this.getActiveAccount(e);(n==null?void 0:n.homeAccountId)===t.homeAccountId&&(n==null?void 0:n.environment)===t.environment&&this.setActiveAccount(null,e),super.removeAccount(t,e),this.removeAccountKeyFromMap(this.generateAccountKey(t),e),this.browserStorage.getKeys().forEach(l=>{l.includes(t.homeAccountId)&&l.includes(t.environment)&&this.browserStorage.removeItem(l)}),this.cacheConfig.cacheLocation===rr.LocalStorage&&this.eventHandler.emitEvent(gt.ACCOUNT_REMOVED,void 0,t)}removeIdToken(t,e){super.removeIdToken(t,e);const n=this.getTokenKeys(),l=n.idToken.indexOf(t);l>-1&&(this.logger.info("idToken removed from tokenKeys map"),n.idToken.splice(l,1),this.setTokenKeys(n,e))}removeAccessToken(t,e,n=!0){super.removeAccessToken(t,e),n&&this.removeAccessTokenKeys([t],e)}removeAccessTokenKeys(t,e,n=Un){this.logger.trace("removeAccessTokenKey called");const l=this.getTokenKeys(n);let o=0;if(t.forEach(s=>{const c=l.accessToken.indexOf(s);c>-1&&(l.accessToken.splice(c,1),o++)}),o>0){this.logger.info(`removed ${o} accessToken keys from tokenKeys map`),this.setTokenKeys(l,e,n);return}}removeRefreshToken(t,e){super.removeRefreshToken(t,e);const n=this.getTokenKeys(),l=n.refreshToken.indexOf(t);l>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),n.refreshToken.splice(l,1),this.setTokenKeys(n,e))}getTokenKeys(t=Un){return lo(this.clientId,this.browserStorage,t)}setTokenKeys(t,e,n=Un){if(t.idToken.length===0&&t.accessToken.length===0&&t.refreshToken.length===0){this.removeItem(Si(this.clientId,n));return}else this.setItem(Si(this.clientId,n),JSON.stringify(t),e)}getIdTokenCredential(t,e){const n=this.browserStorage.getUserData(t);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(t,e),null;const l=this.validateAndParseJson(n);return!l||!tx(l)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),l)}async setIdTokenCredential(t,e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=this.generateCredentialKey(t),l=Date.now().toString();t.lastUpdatedAt=l,await this.setUserData(n,JSON.stringify(t),e,l);const o=this.getTokenKeys();o.idToken.indexOf(n)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),o.idToken.push(n),this.setTokenKeys(o,e))}getAccessTokenCredential(t,e){const n=this.browserStorage.getUserData(t);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([t],e),null;const l=this.validateAndParseJson(n);return!l||!Pp(l)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),l)}async setAccessTokenCredential(t,e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=this.generateCredentialKey(t),l=Date.now().toString();t.lastUpdatedAt=l,await this.setUserData(n,JSON.stringify(t),e,l);const o=this.getTokenKeys(),s=o.accessToken.indexOf(n);s!==-1&&o.accessToken.splice(s,1),this.logger.trace(`access token ${s===-1?"added to":"updated in"} map`),o.accessToken.push(n),this.setTokenKeys(o,e)}getRefreshTokenCredential(t,e){const n=this.browserStorage.getUserData(t);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(t,e),null;const l=this.validateAndParseJson(n);return!l||!jp(l)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),l)}async setRefreshTokenCredential(t,e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=this.generateCredentialKey(t),l=Date.now().toString();t.lastUpdatedAt=l,await this.setUserData(n,JSON.stringify(t),e,l);const o=this.getTokenKeys();o.refreshToken.indexOf(n)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),o.refreshToken.push(n),this.setTokenKeys(o,e))}getAppMetadata(t){const e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(e);return!n||!sx(t,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n)}setAppMetadata(t,e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=ix(t);this.setItem(n,JSON.stringify(t),e)}getServerTelemetry(t){const e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(e);return!n||!rx(t,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n)}setServerTelemetry(t,e,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(e),n)}getAuthorityMetadata(t){const e=this.internalStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(e);return n&&ox(t,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(e=>this.isAuthorityMetadata(e))}setWrapperMetadata(t,e){this.internalStorage.setItem(ga.WRAPPER_SKU,t),this.internalStorage.setItem(ga.WRAPPER_VER,e)}getWrapperMetadata(){const t=this.internalStorage.getItem(ga.WRAPPER_SKU)||Re.EMPTY_STRING,e=this.internalStorage.getItem(ga.WRAPPER_VER)||Re.EMPTY_STRING;return[t,e]}setAuthorityMetadata(t,e){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(e))}getActiveAccount(t){const e=this.generateCacheKey(xp.ACTIVE_ACCOUNT_FILTERS),n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const l=this.validateAndParseJson(n);return l?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:l.homeAccountId,localAccountId:l.localAccountId,tenantId:l.tenantId},t)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(t,e){const n=this.generateCacheKey(xp.ACTIVE_ACCOUNT_FILTERS);if(t){this.logger.verbose("setActiveAccount: Active account set");const l={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId,lastUpdatedAt:Rr().toString()};this.setItem(n,JSON.stringify(l),e)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n);this.eventHandler.emitEvent(gt.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(t){const e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(e);return!n||!nx(t,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n)}setThrottlingCache(t,e,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(e),n)}getTemporaryCache(t,e){const n=e?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const l=this.temporaryCacheStorage.getItem(n);if(!l){if(this.cacheConfig.cacheLocation===rr.LocalStorage){const o=this.browserStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),l}setTemporaryCache(t,e,n){const l=n?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(l,e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(l,e,void 0,this.cacheConfig.secureCookies))}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(t))}getKeys(){return this.browserStorage.getKeys()}clear(t){this.removeAllAccounts(t),this.removeAppMetadata(t),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(nr)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(nr)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(t){this.performanceClient.addQueueMeasurement(fe.ClearTokensAndKeysWithClaims,t);const e=this.getTokenKeys();let n=0;e.accessToken.forEach(l=>{const o=this.getAccessTokenCredential(l,t);o!=null&&o.requestedClaimsHash&&l.includes(o.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(l,t),n++)}),n>0&&this.logger.warning(`${n} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(t){return Fr.startsWith(t,nr)?t:`${nr}.${this.clientId}.${t}`}generateCredentialKey(t){const e=t.credentialType===lr.REFRESH_TOKEN&&t.familyId||t.clientId,n=t.tokenType&&t.tokenType.toLowerCase()!==Mt.BEARER.toLowerCase()?t.tokenType.toLowerCase():"";return[`${nr}.${Un}`,t.homeAccountId,t.environment,t.credentialType,e,t.realm||"",t.target||"",t.requestedClaimsHash||"",n].join(Fc).toLowerCase()}generateAccountKey(t){const e=t.homeAccountId.split(".")[1];return[`${nr}.${Xu}`,t.homeAccountId,t.environment,e||t.tenantId||""].join(Fc).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Qt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Qt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Qt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Qt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Qt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(t,e){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=No(JSON.stringify(t));if(this.setTemporaryCache(Qt.REQUEST_PARAMS,n,!0),e){const l=No(e);this.setTemporaryCache(Qt.VERIFIER,l,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(Qt.REQUEST_PARAMS,!0);if(!t)throw tt(K1);const e=this.getTemporaryCache(Qt.VERIFIER,!0);let n,l="";try{n=JSON.parse(sn(t)),e&&(l=sn(e))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),tt(G1)}return[n,l]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const t=this.getTemporaryCache(Qt.NATIVE_REQUEST,!0);if(!t)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const e=this.validateAndParseJson(t);return e||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(t){var n;const e=(n=this.getInteractionInProgress())==null?void 0:n.clientId;return t?e===this.clientId:!!e}getInteractionInProgress(){const t=`${nr}.${Qt.INTERACTION_STATUS_KEY}`,e=this.getTemporaryCache(t,!1);try{return e?JSON.parse(e):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(t),this.resetRequestCache(),by(window),null}}setInteractionInProgress(t,e=qn.SIGNIN){var l;const n=`${nr}.${Qt.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())throw tt(B1);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:e}),!1)}else!t&&((l=this.getInteractionInProgress())==null?void 0:l.clientId)===this.clientId&&this.removeTemporaryItem(n)}async hydrateCache(t,e){var c,a,i;const n=ql((c=t.account)==null?void 0:c.homeAccountId,(a=t.account)==null?void 0:a.environment,t.idToken,this.clientId,t.tenantId);let l;e.claims&&(l=await this.cryptoImpl.hashString(e.claims));const o=Kl((i=t.account)==null?void 0:i.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?Op(t.expiresOn):0,t.extExpiresOn?Op(t.extExpiresOn):0,sn,void 0,t.tokenType,void 0,e.sshKid,e.claims,l),s={idToken:n,accessToken:o};return this.saveCacheRecord(s,t.correlationId)}async saveCacheRecord(t,e,n){try{await super.saveCacheRecord(t,e,n)}catch(l){if(l instanceof as&&this.performanceClient&&e)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},e)}catch{}throw l}}}function rm(r,t,e,n){try{switch(t){case rr.LocalStorage:return new g5(r,e,n);case rr.SessionStorage:return new y5;case rr.MemoryStorage:default:break}}catch(l){e.error(l)}return new tc}const b5=(r,t,e,n)=>{const l={cacheLocation:rr.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:rr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Zu(r,l,ll,t,e,n)};/*! @azure/msal-browser v4.24.0 2025-09-24 */function v5(r,t,e,n,l){return r.verbose("getAllAccounts called"),e?t.getAllAccounts(l||{},n):[]}function w5(r,t,e,n){const l=e.getAccountInfoFilteredBy(r,n);return l?(t.verbose("getAccount: Account matching provided filter found, returning"),l):(t.verbose("getAccount: No matching account found, returning null"),null)}function x5(r,t,e,n){if(t.trace("getAccountByUsername called"),!r)return t.warning("getAccountByUsername: No username provided"),null;const l=e.getAccountInfoFilteredBy({username:r},n);return l?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${r}`),l):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}function _5(r,t,e,n){if(t.trace("getAccountByHomeId called"),!r)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const l=e.getAccountInfoFilteredBy({homeAccountId:r},n);return l?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${r}`),l):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function S5(r,t,e,n){if(t.trace("getAccountByLocalId called"),!r)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const l=e.getAccountInfoFilteredBy({localAccountId:r},n);return l?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${r}`),l):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function k5(r,t,e){t.setActiveAccount(r,e)}function C5(r,t){return r.getActiveAccount(t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const T5="msal.broadcast.event";class E5{constructor(t){this.eventCallbacks=new Map,this.logger=t||new ui({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(T5)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(t,e,n){if(typeof window<"u"){const l=n||r5();return this.eventCallbacks.has(l)?(this.logger.error(`Event callback with id: ${l} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(l,[t,e||[]]),this.logger.verbose(`Event callback registered with id: ${l}`),l)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose(`Event callback ${t} removed.`)}emitEvent(t,e,n,l){var s;const o={eventType:t,interactionType:e||null,payload:n||null,error:l||null,timestamp:Date.now()};switch(t){case gt.ACCOUNT_ADDED:case gt.ACCOUNT_REMOVED:case gt.ACTIVE_ACCOUNT_CHANGED:(s=this.broadcastChannel)==null||s.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(t){this.eventCallbacks.forEach(([e,n],l)=>{(n.length===0||n.includes(t.eventType))&&(this.logger.verbose(`Emitting event to callback ${l}: ${t.eventType}`),e.apply(null,[t]))})}invokeCrossTabCallbacks(t){const e=t.data;this.invokeCallbacks(e)}subscribeCrossTab(){var t;(t=this.broadcastChannel)==null||t.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var t;(t=this.broadcastChannel)==null||t.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class ky{constructor(t,e,n,l,o,s,c,a,i){this.config=t,this.browserStorage=e,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.platformAuthProvider=a,this.correlationId=i||cn(),this.logger=l.clone(Cr.MSAL_SKU,Oi,this.correlationId),this.performanceClient=c}async clearCacheOnLogout(t,e){if(e)try{this.browserStorage.removeAccount(e,t),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(t),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(t){this.logger.verbose("getRedirectUri called");const e=t||this.config.auth.redirectUri;return Et.getAbsoluteUrl(e,In())}initializeServerTelemetryManager(t,e){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Mo(n,this.browserStorage)}async getDiscoveredAuthority(t){const{account:e}=t,n=t.requestExtraQueryParameters&&t.requestExtraQueryParameters.hasOwnProperty("instance_aware")?t.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(fe.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const l={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=t.requestAuthority||this.config.auth.authority,s=n!=null&&n.length?n==="true":this.config.auth.instanceAware,c=e&&s?this.config.auth.authority.replace(Et.getDomainFromUrl(o),e.environment):o,a=fr.generateAuthority(c,t.requestAzureCloudOptions||this.config.auth.azureCloudOptions),i=await Ie(k1,fe.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,l,this.logger,this.correlationId,this.performanceClient);if(e&&!i.isAlias(e.environment))throw jt(Z0);return i}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function Jh(r,t,e,n){e.addQueueMeasurement(fe.InitializeBaseRequest,r.correlationId);const l=r.authority||t.auth.authority,o=[...r&&r.scopes||[]],s={...r,correlationId:r.correlationId,authority:l,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=Mt.BEARER,n.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Mt.SSH){if(!r.sshJwk)throw jt(Hl);if(!r.sshKid)throw jt(X0)}n.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return t.cache.claimsBasedCachingEnabled&&r.claims&&!Fr.isEmptyObj(r.claims)&&(s.requestedClaimsHash=await gy(r.claims)),s}async function A5(r,t,e,n,l){n.addQueueMeasurement(fe.InitializeSilentRequest,r.correlationId);const o=await Ie(Jh,fe.InitializeBaseRequest,l,n,r.correlationId)(r,e,n,l);return{...r,...o,account:t,forceRefresh:r.forceRefresh||!1}}function Cy(r,t){let e;const n=r.httpMethod;if(t===Mr.EAR){if(e=n||_i.POST,e!==_i.POST)throw jt(e1)}else e=n||_i.GET;if(r.authorizePostBodyParameters&&e!==_i.POST)throw jt(t1);return e}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Ts extends ky{initializeLogoutRequest(t){this.logger.verbose("initializeLogoutRequest called",t==null?void 0:t.correlationId);const e={correlationId:this.correlationId||cn(),...t};if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){const n=this.getLogoutHintFromIdTokenClaims(t.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),e.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",e.correlationId),e.postLogoutRedirectUri=Et.getAbsoluteUrl(t.postLogoutRedirectUri,In())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",e.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",e.correlationId),e.postLogoutRedirectUri=Et.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,In())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",e.correlationId),e.postLogoutRedirectUri=Et.getAbsoluteUrl(In(),In())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",e.correlationId),e}getLogoutHintFromIdTokenClaims(t){const e=t.idTokenClaims;if(e){if(e.login_hint)return e.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(t){this.performanceClient.addQueueMeasurement(fe.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const e=await Ie(this.getClientConfiguration.bind(this),fe.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(t);return new I1(e,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:e,requestAuthority:n,requestAzureCloudOptions:l,requestExtraQueryParameters:o,account:s}=t;this.performanceClient.addQueueMeasurement(fe.StandardInteractionClientGetClientConfiguration,this.correlationId);const c=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:l,requestExtraQueryParameters:o,account:s}),a=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:c,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:a.loggerCallback,piiLoggingEnabled:a.piiLoggingEnabled,logLevel:a.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:Cr.MSAL_SKU,version:Oi,cpu:Re.EMPTY_STRING,os:Re.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(t,e){this.performanceClient.addQueueMeasurement(fe.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(t.redirectUri),l={interactionType:e},o=ks.setRequestState(this.browserCrypto,t&&t.state||Re.EMPTY_STRING,l),c={...await Ie(Jh,fe.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...t,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:t.nonce||cn(),responseMode:this.config.auth.OIDCOptions.serverResponseType},a={...c,httpMethod:Cy(c,this.config.auth.protocolMode)};if(t.loginHint||t.sid)return a;const i=t.account||this.browserStorage.getActiveAccount(this.correlationId);return i&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${i.homeAccountId}`,this.correlationId),a.account=i),a}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function I5(r,t){if(!t)return null;try{return ks.parseRequestState(r,t).libraryState.meta}catch{throw ze(ys)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function co(r,t,e){const n=cl(r);if(!n)throw n1(r)?(e.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),e.errorPii(`The ${t} detected is: ${r}`),tt(D1)):(e.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),tt(j1));return n}function M5(r,t,e){if(!r.state)throw tt(Dh);const n=I5(t,r.state);if(!n)throw tt(L1);if(n.interactionType!==e)throw tt(F1)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Ty{constructor(t,e,n,l,o){this.authModule=t,this.browserStorage=e,this.authCodeRequest=n,this.logger=l,this.performanceClient=o}async handleCodeResponse(t,e){this.performanceClient.addQueueMeasurement(fe.HandleCodeResponse,e.correlationId);let n;try{n=xx(t,e.state)}catch(l){throw l instanceof Li&&l.subError===Ro?tt(Ro):l}return Ie(this.handleCodeResponseFromServer.bind(this),fe.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)(n,e)}async handleCodeResponseFromServer(t,e,n=!0){if(this.performanceClient.addQueueMeasurement(fe.HandleCodeResponseFromServer,e.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=t.code,t.cloud_instance_host_name&&await Ie(this.authModule.updateAuthority.bind(this.authModule),fe.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,e.correlationId)(t.cloud_instance_host_name,e.correlationId),n&&(t.nonce=e.nonce||void 0),t.state=e.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const o=this.createCcsCredentials(e);o&&(this.authCodeRequest.ccsCredential=o)}return await Ie(this.authModule.acquireToken.bind(this.authModule),fe.AuthClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:tn.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:tn.UPN}:null}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const R5="ContentError",Ey="user_switch";/*! @azure/msal-browser v4.24.0 2025-09-24 */const N5="USER_INTERACTION_REQUIRED",O5="USER_CANCEL",P5="NO_NETWORK",j5="DISABLED",D5="ACCOUNT_UNAVAILABLE",L5="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.24.0 2025-09-24 */const F5=-2147186943,B5={[Ey]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class vn extends Ot{constructor(t,e,n){super(t,e),Object.setPrototypeOf(this,vn.prototype),this.name="NativeAuthError",this.ext=n}}function Hi(r){if(r.ext&&r.ext.status&&r.ext.status===j5||r.ext&&r.ext.error&&r.ext.error===F5)return!0;switch(r.errorCode){case R5:return!0;default:return!1}}function _l(r,t,e){if(e&&e.status)switch(e.status){case D5:return bl(T1);case N5:return new ln(r,t);case O5:return tt(Ro);case P5:return tt(vl);case L5:return bl(Ih)}return new vn(r,B5[r]||t,e)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Ay extends Ts{async acquireToken(t){this.performanceClient.addQueueMeasurement(fe.SilentCacheClientAcquireToken,t.correlationId);const e=this.initializeServerTelemetryManager(Nt.acquireTokenSilent_silentFlow),n=await Ie(this.getClientConfiguration.bind(this),fe.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),l=new bx(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await Ie(l.acquireCachedToken.bind(l),fe.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),s}catch(o){throw o instanceof Bo&&o.errorCode===Lh&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(t){this.logger.verbose("logoutRedirect called");const e=this.initializeLogoutRequest(t);return this.clearCacheOnLogout(e.correlationId,e==null?void 0:e.account)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Pa extends ky{constructor(t,e,n,l,o,s,c,a,i,u,f,d){super(t,e,n,l,o,s,a,i,d),this.apiId=c,this.accountId=u,this.platformAuthProvider=i,this.nativeStorageManager=f,this.silentCacheClient=new Ay(t,this.nativeStorageManager,n,l,o,s,a,i,d);const h=this.platformAuthProvider.getExtensionName();this.skus=Mo.makeExtraSkuString({libraryName:Cr.MSAL_SKU,libraryVersion:Oi,extensionName:h,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[Ow]:this.skus}}async acquireToken(t,e){this.performanceClient.addQueueMeasurement(fe.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(fe.NativeInteractionClientAcquireToken,this.correlationId),l=Rr(),o=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(t);try{const a=await this.acquireTokensFromCache(this.accountId,s);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),a}catch(a){if(e===yr.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),n.end({success:!1,brokerErrorCode:"cache_request_failed"}),a;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const c=await this.platformAuthProvider.sendMessage(s);return await this.handleNativeResponse(c,s,l).then(a=>(n.end({success:!0,isNativeBroker:!0,requestId:a.requestId}),o.clearNativeBrokerErrorCode(),a)).catch(a=>{throw n.end({success:!1,errorCode:a.errorCode,subErrorCode:a.subError}),a})}catch(s){throw s instanceof vn&&o.setNativeBrokerErrorCode(s.errorCode),n.end({success:!1}),s}}createSilentCacheRequest(t,e){return{authority:t.authority,correlationId:this.correlationId,scopes:tr.fromString(t.scope).asArray(),account:e,forceRefresh:!1}}async acquireTokensFromCache(t,e){if(!t)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ze(Uu);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:t},this.correlationId);if(!n)throw ze(Uu);try{const l=this.createSilentCacheRequest(e,n),o=await this.silentCacheClient.acquireToken(l),s={...n,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(l){throw l}}async acquireTokenRedirect(t,e){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=t;delete n.onRedirectNavigate;const l=await this.initializeNativeRequest(n);try{await this.platformAuthProvider.sendMessage(l)}catch(c){if(c instanceof vn&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(c.errorCode),Hi(c)))throw c}this.browserStorage.setTemporaryCache(Qt.NATIVE_REQUEST,JSON.stringify(l),!0);const o={apiId:Nt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri);e.end({success:!0}),await this.navigationClient.navigateExternal(s,o)}async handleRedirectPromise(t,e){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),t&&e&&(t==null||t.addFields({errorCode:"no_cached_request"},e)),null;const{prompt:l,...o}=n;l&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Qt.NATIVE_REQUEST));const s=Rr();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const c=await this.platformAuthProvider.sendMessage(o),a=await this.handleNativeResponse(c,o,s);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),t&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),a}catch(c){throw c}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,e,n){var u,f;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const l=Ss(t.id_token,sn),o=this.createHomeAccountIdentifier(t,l),s=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e.accountId},this.correlationId))==null?void 0:u.homeAccountId;if((f=e.extraParameters)!=null&&f.child_client_id&&t.account.id!==e.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==s&&t.account.id!==e.accountId)throw _l(Ey);const c=await this.getDiscoveredAuthority({requestAuthority:e.authority}),a=Mh(this.browserStorage,c,o,sn,this.correlationId,l,t.client_info,void 0,l.tid,void 0,t.account.id,this.logger);t.expires_in=Number(t.expires_in);const i=await this.generateAuthenticationResult(t,e,l,a,c.canonicalAuthority,n);return await this.cacheAccount(a,this.correlationId),await this.cacheNativeTokens(t,e,o,l,t.access_token,i.tenantId,n),i}createHomeAccountIdentifier(t,e){return an.generateHomeAccountId(t.client_info||Re.EMPTY_STRING,Zr.Default,this.logger,this.browserCrypto,e)}generateScopes(t,e){return e?tr.fromString(e):tr.fromString(t)}async generatePopAccessToken(t,e){if(e.tokenType===Mt.POP&&e.signPopToken){if(t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),t.shr;const n=new bs(this.browserCrypto),l={resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,shrNonce:e.shrNonce};if(!e.keyId)throw ze(ih);return n.signPopToken(t.access_token,e.keyId,l)}else return t.access_token}async generateAuthenticationResult(t,e,n,l,o,s){const c=this.addTelemetryFromNativeResponse(t.properties.MATS),a=this.generateScopes(e.scope,t.scope),i=t.account.properties||{},u=i.UID||n.oid||n.sub||Re.EMPTY_STRING,f=i.TenantId||n.tid||Re.EMPTY_STRING,d=fh(l.getAccountInfo(),void 0,n,t.id_token);d.nativeAccountId!==t.account.id&&(d.nativeAccountId=t.account.id);const h=await this.generatePopAccessToken(t,e),g=e.tokenType===Mt.POP?Mt.POP:Mt.BEARER;return{authority:o,uniqueId:u,tenantId:f,scopes:a.asArray(),account:d,idToken:t.id_token,idTokenClaims:n,accessToken:h,fromCache:c?this.isResponseFromCache(c):!1,expiresOn:cs(s+t.expires_in),tokenType:g,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0}}async cacheAccount(t,e){await this.browserStorage.setAccount(t,this.correlationId),this.browserStorage.removeAccountContext(t.getAccountInfo(),e)}cacheNativeTokens(t,e,n,l,o,s,c){const a=ql(n,e.authority,t.id_token||"",e.clientId,l.tid||""),i=e.tokenType===Mt.POP?Re.SHR_NONCE_VALIDITY:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,u=c+i,f=this.generateScopes(t.scope,e.scope),d=Kl(n,e.authority,o,e.clientId,l.tid||s,f.printScopes(),u,0,sn,void 0,e.tokenType,void 0,e.keyId),h={idToken:a,accessToken:d};return this.nativeStorageManager.saveCacheRecord(h,this.correlationId,e.storeInCache)}getExpiresInValue(t,e){return t===Mt.POP?Re.SHR_NONCE_VALIDITY:(typeof e=="string"?parseInt(e,10):e)||0}addTelemetryFromNativeResponse(t){const e=this.getMATSFromResponse(t);return e?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:e.broker_version,matsAccountJoinOnStart:e.account_join_on_start,matsAccountJoinOnEnd:e.account_join_on_end,matsDeviceJoin:e.device_join,matsPromptBehavior:e.prompt_behavior,matsApiErrorCode:e.api_error_code,matsUiVisible:e.ui_visible,matsSilentCode:e.silent_code,matsSilentBiSubCode:e.silent_bi_sub_code,matsSilentMessage:e.silent_message,matsSilentStatus:e.silent_status,matsHttpStatus:e.http_status,matsHttpEventCount:e.http_event_count},this.correlationId),e):null}getMATSFromResponse(t){if(t)try{return JSON.parse(t)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const e=await this.getCanonicalAuthority(t),{scopes:n,...l}=t,o=new tr(n||[]);o.appendScopes(_s);const s={...l,accountId:this.accountId,clientId:this.config.auth.clientId,authority:e.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:this.getPrompt(t.prompt),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraQueryParameters,...t.tokenQueryParameters},extendedExpiryToken:!1,keyId:t.popKid};if(s.signPopToken&&t.popKid)throw tt(oy);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=Vr.MATS_TELEMETRY,t.authenticationScheme===Mt.POP){const c={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},a=new bs(this.browserCrypto);let i;if(s.keyId)i=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const u=await Ie(a.generateCnf.bind(a),fe.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(c,this.logger);i=u.reqCnfString,s.keyId=u.kid,s.signPopToken=!0}s.reqCnf=i}return this.addRequestSKUs(s),s}async getCanonicalAuthority(t){const e=t.authority||this.config.auth.authority;t.account&&await this.getDiscoveredAuthority({requestAuthority:e,requestAzureCloudOptions:t.azureCloudOptions,account:t.account});const n=new Et(e);return n.validateAsUri(),n}getPrompt(t){switch(this.apiId){case Nt.ssoSilent:case Nt.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),wr.NONE}if(!t){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(t){case wr.NONE:case wr.CONSENT:case wr.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${t} is not compatible with native flow`),tt(iy)}}handleExtraBrokerParams(t){var o;const e=t.extraParameters&&t.extraParameters.hasOwnProperty(fl)&&t.extraParameters.hasOwnProperty(pl)&&t.extraParameters.hasOwnProperty(Ri);if(!t.embeddedClientId&&!e)return;let n="";const l=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,n=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[pl],n=t.extraParameters[Ri]),t.extraParameters={child_client_id:n,child_redirect_uri:l},(o=this.performanceClient)==null||o.addFields({embeddedClientId:n,embeddedRedirectUri:l},this.correlationId)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function Zh(r,t,e,n,l){const o=wx({...r.auth,authority:t},e,n,l);if(_h(o,{sku:Cr.MSAL_SKU,version:Oi,os:"",cpu:""}),r.auth.protocolMode!==Mr.OIDC&&Sh(o,r.telemetry.application),e.platformBroker&&(Lw(o),l.addFields({isPlatformAuthorizeRequest:!0},e.correlationId),e.authenticationScheme===Mt.POP)){const s=new jn(n,l),c=new bs(s);let a;e.popKid?a=s.encodeKid(e.popKid):a=(await Ie(c.generateCnf.bind(c),fe.PopTokenGenerateCnf,n,l,e.correlationId)(e,n)).reqCnfString,Ch(o,a)}return $l(o,e.correlationId,l),o}async function ef(r,t,e,n,l){if(!e.codeChallenge)throw jt(ch);const o=await Ie(Zh,fe.GetStandardParams,n,l,e.correlationId)(r,t,e,n,l);return gh(o,Qd.CODE),f1(o,e.codeChallenge,Re.S256_CODE_CHALLENGE_METHOD),oi(o,e.extraQueryParameters||{}),Rh(t,o,r.auth.encodeExtraQueryParams,e.extraQueryParameters)}async function tf(r,t,e,n,l,o){if(!n.earJwk)throw tt(jh);const s=await Zh(t,e,n,l,o);gh(s,Qd.IDTOKEN_TOKEN_REFRESHTOKEN),Gw(s,n.earJwk);const c=new Map;oi(c,n.extraQueryParameters||{});const a=Rh(e,c,t.auth.encodeExtraQueryParams,n.extraQueryParameters);return Iy(r,a,s)}async function rf(r,t,e,n,l,o){const s=await Zh(t,e,n,l,o);gh(s,Qd.CODE),f1(s,n.codeChallenge,n.codeChallengeMethod||Re.S256_CODE_CHALLENGE_METHOD),Yw(s,n.authorizePostBodyParameters||{});const c=new Map;oi(c,n.extraQueryParameters||{});const a=Rh(e,c,t.auth.encodeExtraQueryParams,n.extraQueryParameters);return Iy(r,a,s)}function Iy(r,t,e){const n=r.createElement("form");return n.method="post",n.action=t,e.forEach((l,o)=>{const s=r.createElement("input");s.hidden=!0,s.name=o,s.value=l,n.appendChild(s)}),r.body.appendChild(n),n}async function My(r,t,e,n,l,o,s,c,a,i){if(c.verbose("Account id found, calling WAM for token"),!i)throw tt(Bh);const u=new jn(c,a),f=new Pa(n,l,u,c,s,n.system.navigationClient,e,a,i,t,o,r.correlationId),{userRequestState:d}=ks.parseRequestState(u,r.state);return Ie(f.acquireToken.bind(f),fe.NativeInteractionClientAcquireToken,c,a,r.correlationId)({...r,state:d,prompt:void 0})}async function Sl(r,t,e,n,l,o,s,c,a,i,u,f){if(bn.removeThrottle(s,l.auth.clientId,r),t.accountId)return Ie(My,fe.HandleResponsePlatformBroker,i,u,r.correlationId)(r,t.accountId,n,l,s,c,a,i,u,f);const d={...r,code:t.code||"",codeVerifier:e},h=new Ty(o,s,d,i,u);return await Ie(h.handleCodeResponse.bind(h),fe.HandleCodeResponse,i,u,r.correlationId)(t,r)}async function nf(r,t,e,n,l,o,s,c,a,i,u){if(bn.removeThrottle(o,n.auth.clientId,r),M1(t,r.state),!t.ear_jwe)throw tt(P1);if(!r.earJwk)throw tt(jh);const f=JSON.parse(await Ie(Gx,fe.DecryptEarResponse,a,i,r.correlationId)(r.earJwk,t.ear_jwe));if(f.accountId)return Ie(My,fe.HandleResponsePlatformBroker,a,i,r.correlationId)(r,f.accountId,e,n,o,s,c,a,i,u);const d=new Ni(n.auth.clientId,o,new jn(a,i),a,null,null,i);d.validateTokenResponse(f);const h={code:"",state:r.state,nonce:r.nonce,client_info:f.client_info,cloud_graph_host_name:f.cloud_graph_host_name,cloud_instance_host_name:f.cloud_instance_host_name,cloud_instance_name:f.cloud_instance_name,msgraph_host:f.msgraph_host};return await Ie(d.handleServerTokenResponse.bind(d),fe.HandleServerTokenResponse,a,i,r.correlationId)(f,l,Rr(),r,h,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const z5=32;async function rc(r,t,e){r.addQueueMeasurement(fe.GeneratePkceCodes,e);const n=Br(U5,fe.GenerateCodeVerifier,t,r,e)(r,t,e),l=await Ie(H5,fe.GenerateCodeChallengeFromVerifier,t,r,e)(n,r,t,e);return{verifier:n,challenge:l}}function U5(r,t,e){try{const n=new Uint8Array(z5);return Br($x,fe.GetRandomValues,t,r,e)(n),di(n)}catch{throw tt(Ph)}}async function H5(r,t,e,n){t.addQueueMeasurement(fe.GenerateCodeChallengeFromVerifier,n);try{const l=await Ie(fy,fe.Sha256Digest,e,t,n)(r,t,n);return di(new Uint8Array(l))}catch{throw tt(Ph)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class kl{constructor(t,e,n,l){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=l,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(fe.NativeMessageHandlerHandshake),this.platformAuthType=Vr.PLATFORM_EXTENSION_PROVIDER}async sendMessage(t){this.logger.trace(this.platformAuthType+" - sendMessage called.");const e={method:Ls.GetToken,request:t},n={channel:Vr.CHANNEL_ID,extensionId:this.extensionId,responseId:cn(),body:e};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n);const l=await new Promise((s,c)=>{this.resolvers.set(n.responseId,{resolve:s,reject:c})});return this.validatePlatformBrokerResponse(l)}static async createProvider(t,e,n){t.trace("PlatformAuthExtensionHandler - createProvider called.");try{const l=new kl(t,e,n,Vr.PREFERRED_EXTENSION_ID);return await l.sendHandshakeRequest(),l}catch{const o=new kl(t,e,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const t={channel:Vr.CHANNEL_ID,extensionId:this.extensionId,responseId:cn(),body:{method:Ls.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(t,window.origin,[this.messageChannel.port2]),new Promise((e,n)=>{this.handshakeResolvers.set(t.responseId,{resolve:e,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(tt(ry)),this.handshakeResolvers.delete(t.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),t.source!==window)return;const e=t.data;if(!(!e.channel||e.channel!==Vr.CHANNEL_ID)&&!(e.extensionId&&e.extensionId!==this.extensionId)&&e.body.method===Ls.HandshakeRequest){const n=this.handshakeResolvers.get(e.responseId);if(!n){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${e.responseId}`);return}this.logger.verbose(e.extensionId?`Extension with id: ${e.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),n.reject(tt(ny))}}onChannelMessage(t){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const e=t.data,n=this.resolvers.get(e.responseId),l=this.handshakeResolvers.get(e.responseId);try{const o=e.body.method;if(o===Ls.Response){if(!n)return;const s=e.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")n.reject(_l(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?n.reject(_l(s.result.code,s.result.description,s.result.ext)):n.resolve(s.result);else throw Fu(al,"Event does not contain result.");this.resolvers.delete(e.responseId)}else if(o===Ls.HandshakeResponse){if(!l){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${e.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.extensionVersion=e.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),l.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${t}`),n?n.reject(o):l&&l.reject(o)}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Fu(al,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var t;return this.getExtensionId()===Vr.PREFERRED_EXTENSION_ID?"chrome":(t=this.getExtensionId())!=null&&t.length?"unknown":void 0}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class sf{constructor(t,e,n){this.logger=t,this.performanceClient=e,this.correlationId=n,this.platformAuthType=Vr.PLATFORM_DOM_PROVIDER}static async createProvider(t,e,n){var l;if(t.trace("PlatformAuthDOMHandler: createProvider called"),(l=window.navigator)!=null&&l.platformAuthentication){const o=await window.navigator.platformAuthentication.getSupportedContracts(Vr.MICROSOFT_ENTRA_BROKERID);if(o!=null&&o.includes(Vr.PLATFORM_DOM_APIS))return t.trace("Platform auth api available in DOM"),new sf(t,e,n)}}getExtensionId(){return Vr.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Vr.DOM_API_NAME}async sendMessage(t){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const e=this.initializePlatformDOMRequest(t),n=await window.navigator.platformAuthentication.executeGetToken(e);return this.validatePlatformBrokerResponse(n)}catch(e){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),e}}initializePlatformDOMRequest(t){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:e,clientId:n,authority:l,scope:o,redirectUri:s,correlationId:c,state:a,storeInCache:i,embeddedClientId:u,extraParameters:f,...d}=t,h=this.getDOMExtraParams(d);return{accountId:e,brokerId:this.getExtensionId(),authority:l,clientId:n,correlationId:c||this.correlationId,extraParameters:{...f,...h},isSecurityTokenService:!1,redirectUri:s,scope:o,state:a,storeInCache:i,embeddedClientId:u}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("isSuccess")){if(t.hasOwnProperty("accessToken")&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("clientInfo")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scopes")&&t.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(t);if(t.hasOwnProperty("error")){const e=t;if(e.isSuccess===!1&&e.error&&e.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),_l(e.error.code,e.error.description,{error:parseInt(e.error.errorCode),protocol_error:e.error.protocolError,status:e.error.status,properties:e.error.properties})}}throw Fu(al,"Response missing expected properties.")}convertToPlatformBrokerResponse(t){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:t.accessToken,id_token:t.idToken,client_info:t.clientInfo,account:t.account,expires_in:t.expiresIn,scope:t.scopes,state:t.state||"",properties:t.properties||{},extendedLifetimeToken:t.extendedLifetimeToken??!1,shr:t.proofOfPossessionPayload}}getDOMExtraParams(t){return{...Object.entries(t).reduce((l,[o,s])=>(l[o]=String(s),l),{})}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function $5(r,t,e,n){r.trace("getPlatformAuthProvider called",e);const l=W5();r.trace("Has client allowed platform auth via DOM API: "+l);let o;try{l&&(o=await sf.createProvider(r,t,e)),o||(r.trace("Platform auth via DOM API not available, checking for extension"),o=await kl.createProvider(r,n||_y,t))}catch(s){r.trace("Platform auth not available",s)}return o}function W5(){let r;try{return r=window[rr.SessionStorage],(r==null?void 0:r.getItem(u5))==="true"}catch{return!1}}function Oo(r,t,e,n){if(t.trace("isPlatformAuthAllowed called"),!r.system.allowPlatformBroker)return t.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!e)return t.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(n)switch(n){case Mt.BEARER:case Mt.POP:return t.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.24.0 2025-09-24 */class V5 extends Ts{constructor(t,e,n,l,o,s,c,a,i,u){super(t,e,n,l,o,s,c,i,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=a,this.eventHandler=o}acquireToken(t,e){let n;try{if(n={popupName:this.generatePopupName(t.scopes||_s,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,n,e);{const o={...t,httpMethod:Cy(t,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(o,n,e)}}catch(l){return Promise.reject(l)}}logout(t){try{this.logger.verbose("logoutPopup called");const e=this.initializeLogoutRequest(t),n={popupName:this.generateLogoutPopupName(e),popupWindowAttributes:(t==null?void 0:t.popupWindowAttributes)||{},popupWindowParent:(t==null?void 0:t.popupWindowParent)??window},l=t&&t.authority,o=t&&t.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(e,n,l,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(e,n,l,o))}catch(e){return Promise.reject(e)}}async acquireTokenPopupAsync(t,e,n){this.logger.verbose("acquireTokenPopupAsync called");const l=await Ie(this.initializeAuthorizationRequest.bind(this),fe.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,bt.Popup);e.popup&&xy(l.authority);const o=Oo(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme);return l.platformBroker=o,this.config.auth.protocolMode===Mr.EAR?this.executeEarFlow(l,e):this.executeCodeFlow(l,e,n)}async executeCodeFlow(t,e,n){var a;const l=t.correlationId,o=this.initializeServerTelemetryManager(Nt.acquireTokenPopup),s=n||await Ie(rc,fe.GeneratePkceCodes,this.logger,this.performanceClient,l)(this.performanceClient,this.logger,l),c={...t,codeChallenge:s.challenge};try{const i=await Ie(this.createAuthCodeClient.bind(this),fe.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,l)({serverTelemetryManager:o,requestAuthority:c.authority,requestAzureCloudOptions:c.azureCloudOptions,requestExtraQueryParameters:c.extraQueryParameters,account:c.account});if(c.httpMethod===_i.POST)return await this.executeCodeFlowWithPost(c,e,i,s.verifier);{const u=await Ie(ef,fe.GetAuthCodeUrl,this.logger,this.performanceClient,l)(this.config,i.authority,c,this.logger,this.performanceClient),f=this.initiateAuthRequest(u,e);this.eventHandler.emitEvent(gt.POPUP_OPENED,bt.Popup,{popupWindow:f},null);const d=await this.monitorPopupForHash(f,e.popupWindowParent),h=Br(co,fe.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Ie(Sl,fe.HandleResponseCode,this.logger,this.performanceClient,l)(t,h,s.verifier,Nt.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(i){throw(a=e.popup)==null||a.close(),i instanceof Ot&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}async executeEarFlow(t,e){const n=t.correlationId,l=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),o=await Ie(Wh,fe.GenerateEarKey,this.logger,this.performanceClient,n)(),s={...t,earJwk:o},c=e.popup||this.openPopup("about:blank",e);(await tf(c.document,this.config,l,s,this.logger,this.performanceClient)).submit();const i=await Ie(this.monitorPopupForHash.bind(this),fe.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(c,e.popupWindowParent),u=Br(co,fe.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(i,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Ie(nf,fe.HandleResponseEar,this.logger,this.performanceClient,n)(s,u,Nt.acquireTokenPopup,this.config,l,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(t,e,n,l){const o=t.correlationId,s=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,o)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),c=e.popup||this.openPopup("about:blank",e);(await rf(c.document,this.config,s,t,this.logger,this.performanceClient)).submit();const i=await Ie(this.monitorPopupForHash.bind(this),fe.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,o)(c,e.popupWindowParent),u=Br(co,fe.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(i,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Ie(Sl,fe.HandleResponseCode,this.logger,this.performanceClient,o)(t,u,l,Nt.acquireTokenPopup,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(t,e,n,l){var s,c,a;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(gt.LOGOUT_START,bt.Popup,t);const o=this.initializeServerTelemetryManager(Nt.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,t.account);const i=await Ie(this.createAuthCodeClient.bind(this),fe.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:t.account||void 0});try{i.authority.endSessionEndpoint}catch{if((s=t.account)!=null&&s.homeAccountId&&t.postLogoutRedirectUri&&i.authority.protocolMode===Mr.OIDC){if(this.eventHandler.emitEvent(gt.LOGOUT_SUCCESS,bt.Popup,t),l){const d={apiId:Nt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},h=Et.getAbsoluteUrl(l,In());await this.navigationClient.navigateInternal(h,d)}(c=e.popup)==null||c.close();return}}const u=i.getLogoutUri(t);this.eventHandler.emitEvent(gt.LOGOUT_SUCCESS,bt.Popup,t);const f=this.openPopup(u,e);if(this.eventHandler.emitEvent(gt.POPUP_OPENED,bt.Popup,{popupWindow:f},null),await this.monitorPopupForHash(f,e.popupWindowParent).catch(()=>{}),l){const d={apiId:Nt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},h=Et.getAbsoluteUrl(l,In());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${h}`),await this.navigationClient.navigateInternal(h,d)}else this.logger.verbose("No main window navigation requested")}catch(i){throw(a=e.popup)==null||a.close(),i instanceof Ot&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),this.eventHandler.emitEvent(gt.LOGOUT_FAILURE,bt.Popup,null,i),this.eventHandler.emitEvent(gt.LOGOUT_END,bt.Popup),i}this.eventHandler.emitEvent(gt.LOGOUT_END,bt.Popup)}initiateAuthRequest(t,e){if(t)return this.logger.infoPii(`Navigate to: ${t}`),this.openPopup(t,e);throw this.logger.error("Navigate url is empty"),tt(Ql)}monitorPopupForHash(t,e){return new Promise((n,l)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(t.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),l(tt(Ro));return}let s="";try{s=t.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let c="";const a=this.config.auth.OIDCOptions.serverResponseType;t&&(a===Ul.QUERY?c=t.location.search:c=t.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),n(c)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(t,e)})}openPopup(t,e){try{let n;if(e.popup?(n=e.popup,this.logger.verbosePii(`Navigating popup window to: ${t}`),n.location.assign(t)):typeof e.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${t}`),n=this.openSizedPopup(t,e)),!n)throw tt(U1);return n.focus&&n.focus(),this.currentWindow=n,e.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),tt(z1)}}openSizedPopup(t,{popupName:e,popupWindowAttributes:n,popupWindowParent:l}){var h,g,y,p;const o=l.screenLeft?l.screenLeft:l.screenX,s=l.screenTop?l.screenTop:l.screenY,c=l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let i=(h=n.popupSize)==null?void 0:h.width,u=(g=n.popupSize)==null?void 0:g.height,f=(y=n.popupPosition)==null?void 0:y.top,d=(p=n.popupPosition)==null?void 0:p.left;return(!i||i<0||i>c)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),i=Cr.POPUP_WIDTH),(!u||u<0||u>a)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Cr.POPUP_HEIGHT),(!f||f<0||f>a)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),f=Math.max(0,a/2-Cr.POPUP_HEIGHT/2+s)),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,c/2-Cr.POPUP_WIDTH/2+o)),l.open(t,e,`width=${i}, height=${u}, top=${f}, left=${d}, scrollbars=yes`)}unloadWindow(t){this.currentWindow&&this.currentWindow.close(),t.preventDefault()}cleanPopup(t,e){t.close(),e.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(t,e){return`${Cr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${e}.${this.correlationId}`}generateLogoutPopupName(t){const e=t.account&&t.account.homeAccountId;return`${Cr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e}.${this.correlationId}`}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function q5(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const r=window.performance.getEntriesByType("navigation"),t=r.length?r[0]:void 0;return t==null?void 0:t.type}class K5 extends Ts{constructor(t,e,n,l,o,s,c,a,i,u){super(t,e,n,l,o,s,c,i,u),this.nativeStorage=a}async acquireToken(t){const e=await Ie(this.initializeAuthorizationRequest.bind(this),fe.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,bt.Redirect);e.platformBroker=Oo(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme);const n=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(gt.RESTORE_FROM_BFCACHE,bt.Redirect))},l=this.getRedirectStartPage(t.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${l}`),this.browserStorage.setTemporaryCache(Qt.ORIGIN_URI,l,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===Mr.EAR?await this.executeEarFlow(e):await this.executeCodeFlow(e,t.onRedirectNavigate)}catch(o){throw o instanceof Ot&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),o}}async executeCodeFlow(t,e){const n=t.correlationId,l=this.initializeServerTelemetryManager(Nt.acquireTokenRedirect),o=await Ie(rc,fe.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),s={...t,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(s,o.verifier);try{if(s.httpMethod===_i.POST)return await this.executeCodeFlowWithPost(s);{const c=await Ie(this.createAuthCodeClient.bind(this),fe.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:l,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),a=await Ie(ef,fe.GetAuthCodeUrl,this.logger,this.performanceClient,t.correlationId)(this.config,c.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(a,e)}}catch(c){throw c instanceof Ot&&(c.setCorrelationId(this.correlationId),l.cacheFailedRequest(c)),c}}async executeEarFlow(t){const e=t.correlationId,n=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),l=await Ie(Wh,fe.GenerateEarKey,this.logger,this.performanceClient,e)(),o={...t,earJwk:l};return this.browserStorage.cacheAuthorizeRequest(o),(await tf(document,this.config,n,o,this.logger,this.performanceClient)).submit(),new Promise((c,a)=>{setTimeout(()=>{a(tt(wl,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(t){const e=t.correlationId,n=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return this.browserStorage.cacheAuthorizeRequest(t),(await rf(document,this.config,n,t,this.logger,this.performanceClient)).submit(),new Promise((o,s)=>{setTimeout(()=>{s(tt(wl,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(t="",e,n,l){const o=this.initializeServerTelemetryManager(Nt.handleRedirectPromise);try{const[s,c]=this.getRedirectResponse(t||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),q5()!=="back_forward"?l.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(Qt.ORIGIN_URI,!0)||Re.EMPTY_STRING,i=Ep(a),u=Ep(window.location.href);if(i===u&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&Xx(a),await this.handleResponse(s,e,n,o);if(this.config.auth.navigateToLoginRequestUrl){if(!Gh()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Qt.URL_HASH,c,!0);const f={apiId:Nt.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let d=!0;if(!a||a==="null"){const h=Jx();this.browserStorage.setTemporaryCache(Qt.ORIGIN_URI,h,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),d=await this.navigationClient.navigateInternal(h,f)}else this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),d=await this.navigationClient.navigateInternal(a,f);if(!d)return await this.handleResponse(s,e,n,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,e,n,o);return null}catch(s){throw s instanceof Ot&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),s}}getRedirectResponse(t){this.logger.verbose("getRedirectResponseHash called");let e=t;e||(this.config.auth.OIDCOptions.serverResponseType===Ul.QUERY?e=window.location.search:e=window.location.hash);let n=cl(e);if(n){try{M5(n,this.browserCrypto,bt.Redirect)}catch(o){return o instanceof Ot&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return by(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,e]}const l=this.browserStorage.getTemporaryCache(Qt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Qt.URL_HASH)),l&&(n=cl(l),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,l]):[null,""]}async handleResponse(t,e,n,l){if(!t.state)throw tt(Dh);if(t.ear_jwe){const c=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e.correlationId)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return Ie(nf,fe.HandleResponseEar,this.logger,this.performanceClient,e.correlationId)(e,t,Nt.acquireTokenRedirect,this.config,c,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const s=await Ie(this.createAuthCodeClient.bind(this),fe.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:l,requestAuthority:e.authority});return Ie(Sl,fe.HandleResponseCode,this.logger,this.performanceClient,e.correlationId)(e,t,n,Nt.acquireTokenRedirect,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(t,e){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),t){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${t}`);const n={apiId:Nt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=e||this.config.auth.onRedirectNavigate;if(typeof l=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),l(t)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(t,n);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(t,n);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),tt(Ql)}async logout(t){var l;this.logger.verbose("logoutRedirect called");const e=this.initializeLogoutRequest(t),n=this.initializeServerTelemetryManager(Nt.logout);try{this.eventHandler.emitEvent(gt.LOGOUT_START,bt.Redirect,t),await this.clearCacheOnLogout(this.correlationId,e.account);const o={apiId:Nt.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=await Ie(this.createAuthCodeClient.bind(this),fe.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t&&t.authority,requestExtraQueryParameters:t==null?void 0:t.extraQueryParameters,account:t&&t.account||void 0});if(s.authority.protocolMode===Mr.OIDC)try{s.authority.endSessionEndpoint}catch{if((l=e.account)!=null&&l.homeAccountId){this.eventHandler.emitEvent(gt.LOGOUT_SUCCESS,bt.Redirect,e);return}}const c=s.getLogoutUri(e);if(this.eventHandler.emitEvent(gt.LOGOUT_SUCCESS,bt.Redirect,e),t&&typeof t.onRedirectNavigate=="function")if(t.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,qn.SIGNOUT),await this.navigationClient.navigateExternal(c,o);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,qn.SIGNOUT),await this.navigationClient.navigateExternal(c,o);return}}catch(o){throw o instanceof Ot&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),this.eventHandler.emitEvent(gt.LOGOUT_FAILURE,bt.Redirect,null,o),this.eventHandler.emitEvent(gt.LOGOUT_END,bt.Redirect),o}this.eventHandler.emitEvent(gt.LOGOUT_END,bt.Redirect)}getRedirectStartPage(t){const e=t||window.location.href;return Et.getAbsoluteUrl(e,In())}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function G5(r,t,e,n,l){if(t.addQueueMeasurement(fe.SilentHandlerInitiateAuthRequest,n),!r)throw e.info("Navigate url is empty"),tt(Ql);return l?Ie(Q5,fe.SilentHandlerLoadFrame,e,t,n)(r,l,t,n):Br(J5,fe.SilentHandlerLoadFrameSync,e,t,n)(r)}async function Y5(r,t,e,n,l){const o=nc();if(!o.contentDocument)throw"No document associated with iframe!";return(await rf(o.contentDocument,r,t,e,n,l)).submit(),o}async function X5(r,t,e,n,l){const o=nc();if(!o.contentDocument)throw"No document associated with iframe!";return(await tf(o.contentDocument,r,t,e,n,l)).submit(),o}async function nm(r,t,e,n,l,o,s){return n.addQueueMeasurement(fe.SilentHandlerMonitorIframeForHash,o),new Promise((c,a)=>{t<Yu&&l.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (${Yu}ms). This may result in timeouts.`);const i=window.setTimeout(()=>{window.clearInterval(u),a(tt(H1))},t),u=window.setInterval(()=>{let f="";const d=r.contentWindow;try{f=d?d.location.href:""}catch{}if(!f||f==="about:blank")return;let h="";d&&(s===Ul.QUERY?h=d.location.search:h=d.location.hash),window.clearTimeout(i),window.clearInterval(u),c(h)},e)}).finally(()=>{Br(Z5,fe.RemoveHiddenIframe,l,n,o)(r)})}function Q5(r,t,e,n){return e.addQueueMeasurement(fe.SilentHandlerLoadFrame,n),new Promise((l,o)=>{const s=nc();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=r,l(s)},t)})}function J5(r){const t=nc();return t.src=r,t}function nc(){const r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(r),r}function Z5(r){document.body===r.parentNode&&document.body.removeChild(r)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class e4 extends Ts{constructor(t,e,n,l,o,s,c,a,i,u,f){super(t,e,n,l,o,s,a,u,f),this.apiId=c,this.nativeStorage=i}async acquireToken(t){this.performanceClient.addQueueMeasurement(fe.SilentIframeClientAcquireToken,t.correlationId),!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const e={...t};e.prompt?e.prompt!==wr.NONE&&e.prompt!==wr.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${e.prompt} with ${wr.NONE}`),e.prompt=wr.NONE):e.prompt=wr.NONE;const n=await Ie(this.initializeAuthorizationRequest.bind(this),fe.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(e,bt.Silent);return n.platformBroker=Oo(this.config,this.logger,this.platformAuthProvider,n.authenticationScheme),xy(n.authority),this.config.auth.protocolMode===Mr.EAR?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(t){let e;const n=this.initializeServerTelemetryManager(this.apiId);try{return e=await Ie(this.createAuthCodeClient.bind(this),fe.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),await Ie(this.silentTokenHelper.bind(this),fe.SilentIframeClientTokenHelper,this.logger,this.performanceClient,t.correlationId)(e,t)}catch(l){if(l instanceof Ot&&(l.setCorrelationId(this.correlationId),n.cacheFailedRequest(l)),!e||!(l instanceof Ot)||l.errorCode!==Cr.INVALID_GRANT_ERROR)throw l;return this.performanceClient.addFields({retryError:l.errorCode},this.correlationId),await Ie(this.silentTokenHelper.bind(this),fe.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(e,t)}}async executeEarFlow(t){const e=t.correlationId,n=await Ie(this.getDiscoveredAuthority.bind(this),fe.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),l=await Ie(Wh,fe.GenerateEarKey,this.logger,this.performanceClient,e)(),o={...t,earJwk:l},s=await Ie(X5,fe.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,e)(this.config,n,o,this.logger,this.performanceClient),c=this.config.auth.OIDCOptions.serverResponseType,a=await Ie(nm,fe.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,e)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,e,c),i=Br(co,fe.DeserializeResponse,this.logger,this.performanceClient,e)(a,c,this.logger);return Ie(nf,fe.HandleResponseEar,this.logger,this.performanceClient,e)(o,i,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(tt(Jl))}async silentTokenHelper(t,e){const n=e.correlationId;this.performanceClient.addQueueMeasurement(fe.SilentIframeClientTokenHelper,n);const l=await Ie(rc,fe.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o={...e,codeChallenge:l.challenge};let s;if(e.httpMethod===_i.POST)s=await Ie(Y5,fe.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,t.authority,o,this.logger,this.performanceClient);else{const u=await Ie(ef,fe.GetAuthCodeUrl,this.logger,this.performanceClient,n)(this.config,t.authority,o,this.logger,this.performanceClient);s=await Ie(G5,fe.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(u,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait)}const c=this.config.auth.OIDCOptions.serverResponseType,a=await Ie(nm,fe.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,c),i=Br(co,fe.DeserializeResponse,this.logger,this.performanceClient,n)(a,c,this.logger);return Ie(Sl,fe.HandleResponseCode,this.logger,this.performanceClient,n)(e,i,l.verifier,this.apiId,this.config,t,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class t4 extends Ts{async acquireToken(t){this.performanceClient.addQueueMeasurement(fe.SilentRefreshClientAcquireToken,t.correlationId);const e=await Ie(Jh,fe.InitializeBaseRequest,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger),n={...t,...e};t.redirectUri&&(n.redirectUri=this.getRedirectUri(t.redirectUri));const l=this.initializeServerTelemetryManager(Nt.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:l,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Ie(o.acquireTokenByRefreshToken.bind(o),fe.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(n).catch(s=>{throw s.setCorrelationId(this.correlationId),l.cacheFailedRequest(s),s})}logout(){return Promise.reject(tt(Jl))}async createRefreshTokenClient(t){const e=await Ie(this.getClientConfiguration.bind(this),fe.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new yx(e,this.performanceClient)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class r4{constructor(t,e,n,l){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=n,this.cryptoObj=l}async loadExternalTokens(t,e,n){if(!this.isBrowserEnvironment)throw tt(Zl);const l=t.correlationId||cn(),o=e.id_token?Ss(e.id_token,sn):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=t.authority?new fr(fr.generateAuthority(t.authority,t.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,t.correlationId||cn()):void 0,a=await this.loadAccount(t,n.clientInfo||e.client_info||"",l,o,c),i=await this.loadIdToken(e,a.homeAccountId,a.environment,a.realm,l),u=await this.loadAccessToken(t,e,a.homeAccountId,a.environment,a.realm,n,l),f=await this.loadRefreshToken(e,a.homeAccountId,a.environment,l);return this.generateAuthenticationResult(t,{account:a,idToken:i,accessToken:u,refreshToken:f},o,c)}async loadAccount(t,e,n,l,o){if(this.logger.verbose("TokenCache - loading account"),t.account){const i=an.createFromAccountInfo(t.account);return await this.storage.setAccount(i,n),i}else if(!o||!e&&!l)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),tt(Q1);const s=an.generateHomeAccountId(e,o.authorityType,this.logger,this.cryptoObj,l),c=l==null?void 0:l.tid,a=Mh(this.storage,o,s,sn,n,l,e,o.hostnameAndPort,c,void 0,void 0,this.logger);return await this.storage.setAccount(a,n),a}async loadIdToken(t,e,n,l,o){if(!t.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=ql(e,n,t.id_token,this.config.auth.clientId,l);return await this.storage.setIdTokenCredential(s,o),s}async loadAccessToken(t,e,n,l,o,s,c){if(e.access_token)if(e.expires_in){if(!e.scope&&(!t.scopes||!t.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const a=e.scope?tr.fromString(e.scope):new tr(t.scopes),i=s.expiresOn||e.expires_in+Rr(),u=s.extendedExpiresOn||(e.ext_expires_in||e.expires_in)+Rr(),f=Kl(n,l,e.access_token,this.config.auth.clientId,o,a.printScopes(),i,u,sn);return await this.storage.setAccessTokenCredential(f,c),f}async loadRefreshToken(t,e,n,l){if(!t.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=_1(e,n,t.refresh_token,this.config.auth.clientId,t.foci,void 0,t.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,l),o}generateAuthenticationResult(t,e,n,l){var u,f,d;let o="",s=[],c=null,a;e!=null&&e.accessToken&&(o=e.accessToken.secret,s=tr.fromString(e.accessToken.target).asArray(),c=cs(e.accessToken.expiresOn),a=cs(e.accessToken.extendedExpiresOn));const i=e.account;return{authority:l?l.canonicalAuthority:"",uniqueId:e.account.localAccountId,tenantId:e.account.realm,scopes:s,account:i.getAccountInfo(),idToken:((u=e.idToken)==null?void 0:u.secret)||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:c,correlationId:t.correlationId||"",requestId:"",extExpiresOn:a,familyId:((f=e.refreshToken)==null?void 0:f.familyId)||"",tokenType:((d=e==null?void 0:e.accessToken)==null?void 0:d.tokenType)||"",state:t.state||"",cloudGraphHostName:i.cloudGraphHostName||"",msGraphHost:i.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class n4 extends I1{constructor(t){super(t),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class i4 extends Ts{constructor(t,e,n,l,o,s,c,a,i,u){super(t,e,n,l,o,s,a,i,u),this.apiId=c}async acquireToken(t){if(!t.code)throw tt(J1);const e=await Ie(this.initializeAuthorizationRequest.bind(this),fe.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(t,bt.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const l={...e,code:t.code},o=await Ie(this.getClientConfiguration.bind(this),fe.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=new n4(o);this.logger.verbose("Auth code client created");const c=new Ty(s,this.browserStorage,l,this.logger,this.performanceClient);return await Ie(c.handleCodeResponseFromServer.bind(c),fe.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},e,!1)}catch(l){throw l instanceof Ot&&(l.setCorrelationId(this.correlationId),n.cacheFailedRequest(l)),l}}logout(){return Promise.reject(tt(Jl))}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function s4(r,t,e){var s;const n=((s=window.msal)==null?void 0:s.clientIds)||[],l=n.length,o=n.filter(c=>c===r).length;o>1&&e.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:l,sameClientIdInstanceCount:o})}/*! @azure/msal-browser v4.24.0 2025-09-24 */function ba(r,t,e){try{Yh(r)}catch(n){throw t.end({success:!1},n,e),n}}class ic{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new jn(this.logger,this.performanceClient):ll,this.eventHandler=new E5(this.logger),this.browserStorage=this.isBrowserEnvironment?new Zu(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,lx(this.config.auth)):b5(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const e={cacheLocation:rr.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:rr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Zu(this.config.auth.clientId,e,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new r4(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(t,e){const n=new ic(t);return await n.initialize(e),n}trackPageVisibility(t){t&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t,e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(gt.INITIALIZE_END);return}const n=(t==null?void 0:t.correlationId)||this.getRequestCorrelationId(),l=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(fe.InitializeClientApplication,n);if(this.eventHandler.emitEvent(gt.INITIALIZE_START),!e)try{this.logMultipleInstances(o)}catch{}if(await Ie(this.browserStorage.initialize.bind(this.browserStorage),fe.InitializeCache,this.logger,this.performanceClient,n)(n),l)try{this.platformAuthProvider=await $5(this.logger,this.performanceClient,n,this.config.system.nativeBrokerHandshakeTimeout)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Br(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),fe.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,n)(n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(gt.INITIALIZE_END),o.end({allowPlatformBroker:l,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("handleRedirectPromise called"),wy(this.initialized),this.isBrowserEnvironment){const e=t||"";let n=this.redirectResponse.get(e);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(e,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(t){var a;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((a=this.browserStorage.getInteractionInProgress())==null?void 0:a.type)===qn.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),l=this.browserStorage.getCachedNativeRequest(),o=l&&this.platformAuthProvider&&!t;let s;this.eventHandler.emitEvent(gt.HANDLE_REDIRECT_START,bt.Redirect);let c;try{if(o&&this.platformAuthProvider){s=this.performanceClient.startMeasurement(fe.AcquireTokenRedirect,(l==null?void 0:l.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),s.add({isPlatformBrokerRequest:!0});const i=new Pa(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Nt.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,l.accountId,this.nativeInternalStorage,l.correlationId);c=Ie(i.handleRedirectPromise.bind(i),fe.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{const[i,u]=this.browserStorage.getCachedRequest(),f=i.correlationId;s=this.performanceClient.startMeasurement(fe.AcquireTokenRedirect,f),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const d=this.createRedirectClient(f);c=Ie(d.handleRedirectPromise.bind(d),fe.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(t,i,u,s)}}catch(i){throw this.browserStorage.resetRequestCache(),i}return c.then(i=>(i?(this.browserStorage.resetRequestCache(),n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(gt.LOGIN_SUCCESS,bt.Redirect,i),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_SUCCESS,bt.Redirect,i),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0},void 0,i.account)):s.event.errorCode?s.end({success:!1},void 0):s.discard(),this.eventHandler.emitEvent(gt.HANDLE_REDIRECT_END,bt.Redirect),i)).catch(i=>{this.browserStorage.resetRequestCache();const u=i;throw n.length>0?this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_FAILURE,bt.Redirect,null,u):this.eventHandler.emitEvent(gt.LOGIN_FAILURE,bt.Redirect,null,u),this.eventHandler.emitEvent(gt.HANDLE_REDIRECT_END,bt.Redirect),s.end({success:!1},u),i})}async acquireTokenRedirect(t){const e=this.getRequestCorrelationId(t);this.logger.verbose("acquireTokenRedirect called",e);const n=this.performanceClient.startMeasurement(fe.AcquireTokenPreRedirect,e);n.add({scenarioId:t.scenarioId});const l=t.onRedirectNavigate;if(l)t.onRedirectNavigate=s=>{const c=typeof l=="function"?l(s):void 0;return n.add({navigateCallbackResult:c!==!1}),n.event=n.end({success:!0},void 0,t.account)||n.event,c};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=c=>{const a=typeof s=="function"?s(c):void 0;return n.add({navigateCallbackResult:a!==!1}),n.event=n.end({success:!0},void 0,t.account)||n.event,a}}const o=this.getAllAccounts().length>0;try{Kp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,qn.SIGNIN),o?this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_START,bt.Redirect,t):this.eventHandler.emitEvent(gt.LOGIN_START,bt.Redirect,t);let s;return this.platformAuthProvider&&this.canUsePlatformBroker(t)?s=new Pa(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Nt.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(t),this.nativeInternalStorage,e).acquireTokenRedirect(t,n).catch(a=>{if(n.add({brokerErrorName:a.name,brokerErrorCode:a.errorCode}),a instanceof vn&&Hi(a))return this.platformAuthProvider=void 0,this.createRedirectClient(e).acquireToken(t);if(a instanceof ln)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(e).acquireToken(t);throw a}):s=this.createRedirectClient(e).acquireToken(t),await s}catch(s){throw this.browserStorage.resetRequestCache(),n.event.status===2?this.performanceClient.startMeasurement(fe.AcquireTokenRedirect,e).end({success:!1},s,t.account):n.end({success:!1},s,t.account),o?this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_FAILURE,bt.Redirect,null,s):this.eventHandler.emitEvent(gt.LOGIN_FAILURE,bt.Redirect,null,s),s}}acquireTokenPopup(t){const e=this.getRequestCorrelationId(t),n=this.performanceClient.startMeasurement(fe.AcquireTokenPopup,e);n.add({scenarioId:t.scenarioId});try{this.logger.verbose("acquireTokenPopup called",e),ba(this.initialized,n,t.account),this.browserStorage.setInteractionInProgress(!0,qn.SIGNIN)}catch(c){return Promise.reject(c)}const l=this.getAllAccounts();l.length>0?this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_START,bt.Popup,t):this.eventHandler.emitEvent(gt.LOGIN_START,bt.Popup,t);let o;const s=this.getPreGeneratedPkceCodes(e);return this.canUsePlatformBroker(t)?(n.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative({...t,correlationId:e},Nt.acquireTokenPopup).then(c=>(n.end({success:!0},void 0,c.account),c)).catch(c=>{if(n.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof vn&&Hi(c))return this.platformAuthProvider=void 0,this.createPopupClient(e).acquireToken(t,s);if(c instanceof ln)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(e).acquireToken(t,s);throw c})):o=this.createPopupClient(e).acquireToken(t,s),o.then(c=>(l.length<this.getAllAccounts().length?this.eventHandler.emitEvent(gt.LOGIN_SUCCESS,bt.Popup,c):this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_SUCCESS,bt.Popup,c),n.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length},void 0,c.account),c)).catch(c=>(l.length>0?this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_FAILURE,bt.Popup,null,c):this.eventHandler.emitEvent(gt.LOGIN_FAILURE,bt.Popup,null,c),n.end({success:!1},c,t.account),Promise.reject(c))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(e)})}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))}async ssoSilent(t){var o,s,c;const e=this.getRequestCorrelationId(t),n={...t,prompt:t.prompt,correlationId:e};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(fe.SsoSilent,e),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:t.scenarioId}),ba(this.initialized,this.ssoSilentMeasurement,t.account),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",e),this.eventHandler.emitEvent(gt.SSO_SILENT_START,bt.Silent,n);let l;return this.canUsePlatformBroker(n)?((c=this.ssoSilentMeasurement)==null||c.add({isPlatformBrokerRequest:!0}),l=this.acquireTokenNative(n,Nt.ssoSilent).catch(a=>{var i;if((i=this.ssoSilentMeasurement)==null||i.add({brokerErrorName:a.name,brokerErrorCode:a.errorCode}),a instanceof vn&&Hi(a))return this.platformAuthProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw a})):l=this.createSilentIframeClient(n.correlationId).acquireToken(n),l.then(a=>{var i;return this.eventHandler.emitEvent(gt.SSO_SILENT_SUCCESS,bt.Silent,a),(i=this.ssoSilentMeasurement)==null||i.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length},void 0,a.account),a}).catch(a=>{var i;throw this.eventHandler.emitEvent(gt.SSO_SILENT_FAILURE,bt.Silent,null,a),(i=this.ssoSilentMeasurement)==null||i.end({success:!1},a,t.account),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const e=this.getRequestCorrelationId(t);this.logger.trace("acquireTokenByCode called",e);const n=this.performanceClient.startMeasurement(fe.AcquireTokenByCode,e);ba(this.initialized,n),this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_BY_CODE_START,bt.Silent,t),n.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw tt(ey);if(t.code){const l=t.code;let o=this.hybridAuthCodeResponses.get(l);return o?(this.logger.verbose("Existing acquireTokenByCode request found",e),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",e),o=this.acquireTokenByCodeAsync({...t,correlationId:e}).then(s=>(this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_BY_CODE_SUCCESS,bt.Silent,s),this.hybridAuthCodeResponses.delete(l),n.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length},void 0,s.account),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(l),this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_BY_CODE_FAILURE,bt.Silent,null,s),n.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(l,o)),await o}else if(t.nativeAccountId)if(this.canUsePlatformBroker(t,t.nativeAccountId)){n.add({isPlatformBrokerRequest:!0});const l=await this.acquireTokenNative({...t,correlationId:e},Nt.acquireTokenByCode,t.nativeAccountId).catch(o=>{throw o instanceof vn&&Hi(o)&&(this.platformAuthProvider=void 0),n.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o});return n.end({success:!0},void 0,l.account),l}else throw tt(ty);else throw tt(Z1)}catch(l){throw this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_BY_CODE_FAILURE,bt.Silent,null,l),n.end({success:!1},l),l}}async acquireTokenByCodeAsync(t){var l;return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(fe.AcquireTokenByCodeAsync,t.correlationId),(l=this.acquireTokenByCodeAsyncMeasurement)==null||l.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,e){switch(this.performanceClient.addQueueMeasurement(fe.AcquireTokenFromCache,t.correlationId),e){case yr.Default:case yr.AccessToken:case yr.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(t.correlationId);return Ie(n.acquireToken.bind(n),fe.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw ze(si)}}async acquireTokenByRefreshToken(t,e){switch(this.performanceClient.addQueueMeasurement(fe.AcquireTokenByRefreshToken,t.correlationId),e){case yr.Default:case yr.AccessTokenAndRefreshToken:case yr.RefreshToken:case yr.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(t.correlationId);return Ie(n.acquireToken.bind(n),fe.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw ze(si)}}async acquireTokenBySilentIframe(t){this.performanceClient.addQueueMeasurement(fe.AcquireTokenBySilentIframe,t.correlationId);const e=this.createSilentIframeClient(t.correlationId);return Ie(e.acquireToken.bind(e),fe.SilentIframeClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t)}async logout(t){const e=this.getRequestCorrelationId(t);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",e),this.logoutRedirect({correlationId:e,...t})}async logoutRedirect(t){const e=this.getRequestCorrelationId(t);return Kp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,qn.SIGNOUT),this.createRedirectClient(e).logout(t)}logoutPopup(t){try{const e=this.getRequestCorrelationId(t);return Yh(this.initialized),this.browserStorage.setInteractionInProgress(!0,qn.SIGNOUT),this.createPopupClient(e).logout(t).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(e){return Promise.reject(e)}}async clearCache(t){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const e=this.getRequestCorrelationId(t);return this.createSilentCacheClient(e).logout(t)}getAllAccounts(t){const e=this.getRequestCorrelationId();return v5(this.logger,this.browserStorage,this.isBrowserEnvironment,e,t)}getAccount(t){const e=this.getRequestCorrelationId();return w5(t,this.logger,this.browserStorage,e)}getAccountByUsername(t){const e=this.getRequestCorrelationId();return x5(t,this.logger,this.browserStorage,e)}getAccountByHomeId(t){const e=this.getRequestCorrelationId();return _5(t,this.logger,this.browserStorage,e)}getAccountByLocalId(t){const e=this.getRequestCorrelationId();return S5(t,this.logger,this.browserStorage,e)}setActiveAccount(t){const e=this.getRequestCorrelationId();k5(t,this.browserStorage,e)}getActiveAccount(){const t=this.getRequestCorrelationId();return C5(this.browserStorage,t)}async hydrateCache(t,e){this.logger.verbose("hydrateCache called");const n=an.createFromAccountInfo(t.account,t.cloudGraphHostName,t.msGraphHost);return await this.browserStorage.setAccount(n,t.correlationId),t.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(t,e)):this.browserStorage.hydrateCache(t,e)}async acquireTokenNative(t,e,n,l){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw tt(Bh);return new Pa(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e,this.performanceClient,this.platformAuthProvider,n||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t,l)}canUsePlatformBroker(t,e){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Oo(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case wr.NONE:case wr.CONSENT:case wr.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${t.prompt} is not compatible with platform broker flow, returning false`),!1}return!e&&!this.getNativeAccountId(t)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(t){const e=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return e&&e.nativeAccountId||""}createPopupClient(t){return new V5(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,t)}createRedirectClient(t){return new K5(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,t)}createSilentIframeClient(t){return new e4(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Nt.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,t)}createSilentCacheClient(t){return new Ay(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,t)}createSilentRefreshClient(t){return new t4(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,t)}createSilentAuthCodeClient(t){return new i4(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Nt.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,t)}addEventCallback(t,e){return this.eventHandler.addEventCallback(t,e)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return vy(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==rr.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==rr.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,e){this.browserStorage.setWrapperMetadata(t,e)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t!=null&&t.correlationId?t.correlationId:this.isBrowserEnvironment?cn():Re.EMPTY_STRING}async loginRedirect(t){const e=this.getRequestCorrelationId(t);return this.logger.verbose("loginRedirect called",e),this.acquireTokenRedirect({correlationId:e,...t||Hp})}loginPopup(t){const e=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",e),this.acquireTokenPopup({correlationId:e,...t||Hp})}async acquireTokenSilent(t){const e=this.getRequestCorrelationId(t),n=this.performanceClient.startMeasurement(fe.AcquireTokenSilent,e);n.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),ba(this.initialized,n,t.account),this.logger.verbose("acquireTokenSilent called",e);const l=t.account||this.getActiveAccount();if(!l)throw tt(q1);return this.acquireTokenSilentDeduped(t,l,e).then(o=>(n.end({success:!0,fromCache:o.fromCache,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length},void 0,o.account),{...o,state:t.state,correlationId:e})).catch(o=>{throw o instanceof Ot&&o.setCorrelationId(e),n.end({success:!1},o,l),o})}async acquireTokenSilentDeduped(t,e,n){const l=Gl(this.config.auth.clientId,{...t,authority:t.authority||this.config.auth.authority},e.homeAccountId),o=JSON.stringify(l),s=this.activeSilentTokenRequests.get(o);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const c=Ie(this.acquireTokenSilentAsync.bind(this),fe.AcquireTokenSilentAsync,this.logger,this.performanceClient,n)({...t,correlationId:n},e);return this.activeSilentTokenRequests.set(o,c),c.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),s}async acquireTokenSilentAsync(t,e){const n=()=>this.trackPageVisibility(t.correlationId);this.performanceClient.addQueueMeasurement(fe.AcquireTokenSilentAsync,t.correlationId),this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_START,bt.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",n);const l=await Ie(A5,fe.InitializeSilentRequest,this.logger,this.performanceClient,t.correlationId)(t,e,this.config,this.performanceClient,this.logger),o=t.cacheLookupPolicy||yr.Default;return this.acquireTokenSilentNoIframe(l,o).catch(async c=>{if(o4(c,o))if(this.activeIframeRequest)if(o!==yr.Skip){const[i,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,l.correlationId);const f=this.performanceClient.startMeasurement(fe.AwaitConcurrentIframe,l.correlationId);f.add({awaitIframeCorrelationId:u});const d=await i;if(f.end({success:d}),d)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,l.correlationId),this.acquireTokenSilentNoIframe(l,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),c}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",l.correlationId),Ie(this.acquireTokenBySilentIframe.bind(this),fe.AcquireTokenBySilentIframe,this.logger,this.performanceClient,l.correlationId)(l);else{let i;return this.activeIframeRequest=[new Promise(u=>{i=u}),l.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",l.correlationId),Ie(this.acquireTokenBySilentIframe.bind(this),fe.AcquireTokenBySilentIframe,this.logger,this.performanceClient,l.correlationId)(l).then(u=>(i(!0),u)).catch(u=>{throw i(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw c}).then(c=>(this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_SUCCESS,bt.Silent,c),this.performanceClient.addFields({fromCache:c.fromCache},t.correlationId),c)).catch(c=>{throw this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_FAILURE,bt.Silent,null,c),c}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(t,e){return Oo(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},t.correlationId),this.acquireTokenNative(t,Nt.acquireTokenSilent_silentFlow,t.account.nativeAccountId,e).catch(async n=>{throw this.performanceClient.addFields({brokerErrorName:n.name,brokerErrorCode:n.errorCode},t.correlationId),n instanceof vn&&Hi(n)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,ze(si)):n})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),e===yr.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Ie(this.acquireTokenFromCache.bind(this),fe.AcquireTokenFromCache,this.logger,this.performanceClient,t.correlationId)(t,e).catch(n=>{if(e===yr.AccessToken)throw n;return this.eventHandler.emitEvent(gt.ACQUIRE_TOKEN_NETWORK_START,bt.Silent,t),Ie(this.acquireTokenByRefreshToken.bind(this),fe.AcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,e)}))}async preGeneratePkceCodes(t){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Ie(rc,fe.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),Promise.resolve()}getPreGeneratedPkceCodes(t){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const e=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${e?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!e},t),e}logMultipleInstances(t){const e=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(e),s4(e,t,this.logger)}}function o4(r,t){const e=!(r instanceof ln&&r.subError!==Xl),n=r.errorCode===Cr.INVALID_GRANT_ERROR||r.errorCode===si,l=e&&n||r.errorCode===yl||r.errorCode===Ah,o=Dx.includes(t);return l&&o}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function a4(r,t){const e=new Pi(r);return await e.initialize(),ic.createController(e,t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class of{static async createPublicClientApplication(t){const e=await a4(t);return new of(t,e)}constructor(t,e){this.isBroker=!1,this.controller=e||new ic(new Pi(t))}async initialize(t){return this.controller.initialize(t,this.isBroker)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,e){return this.controller.addEventCallback(t,e)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,e){return this.controller.initializeWrapperLibrary(t,e)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,e){return this.controller.hydrateCache(t,e)}clearCache(t){return this.controller.clearCache(t)}}const l4={VITE_ADFS_AUTHORITY:"https://your-adfs-host/adfs",VITE_ADFS_CLIENT_ID:"00000000-0000-0000-0000-000000000000",VITE_AUTH_MODE:"local"},c4={viewer:["view_all"],editor:["view_all","chat_message"],admin:["view_all","edit_status","create_sagach","delete_sagach","chat_message","manage_users"]},Ry=oe.createContext(void 0),u4="groups",d4=["admin","admins","Administrators","Administrators@thegreentree"],h4="role",ed=l4??{},va=ed.VITE_AUTH_MODE??"local",f4={auth:{clientId:ed.VITE_ADFS_CLIENT_ID??"",authority:ed.VITE_ADFS_AUTHORITY??"",redirectUri:window.location.origin},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}},p4={scopes:["openid","profile"],prompt:"select_account"},m4={scopes:["openid","profile"]},fn=new of(f4),g4=r=>{const t=r[h4];if(typeof t=="string"&&t.toLowerCase()==="admin")return"admin";const e=r[u4];return Array.isArray(e)&&e.some(l=>typeof l=="string"&&d4.includes(l))?"admin":"viewer"},Bc=r=>{const{idTokenClaims:t,account:e}=r;if(!t||!e)return null;const n=t,l=n.name||e.name||"משתמש",o=n.email||e.username||"";return{id:e.localAccountId||e.homeAccountId||e.username,name:l,email:o,role:g4(n),idTokenClaims:n}},y4=({children:r})=>{const[t,e]=oe.useState(null),[n,l]=oe.useState(va==="adfs");oe.useEffect(()=>{(()=>{document.body.getAttribute("dir")!=="rtl"&&document.body.setAttribute("dir","rtl")})()},[]),oe.useEffect(()=>{if(va==="adfs")(async()=>{l(!0);try{await fn.initialize();const p=fn.getAllAccounts();if(p.length>0)try{const b=await fn.acquireTokenSilent({...m4,account:p[0]}),m=Bc(b);e(m)}catch(b){console.error("Silent ADFS token acquisition failed:",b),e(null)}}catch(p){console.error("MSAL initialization failed:",p),e(null)}finally{l(!1)}})();else{const y=localStorage.getItem("user");if(y)try{const p=JSON.parse(y);e(p)}catch(p){console.error("Failed to parse saved user:",p),localStorage.removeItem("user")}}},[]),oe.useEffect(()=>{if(va!=="adfs")return;const y=fn.addEventCallback(p=>{if(p.eventType==="msal:loginSuccess"){const b=p.payload,m=Bc(b);e(m)}p.eventType==="msal:loginFailure"&&console.error("ADFS login failure:",p.error),p.eventType==="msal:logoutSuccess"&&e(null)});return()=>{y&&fn.removeEventCallback(y)}},[]);const o=oe.useCallback(async()=>{l(!0);try{const y=await fn.loginPopup(p4),p=Bc(y);e(p),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:p?`ברוך הבא, ${p.name}!`:"התחברות בוצעה",type:"ok",durationMs:3e3}}))}catch(y){console.error("ADFS login failed:",y),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"שגיאה בהתחברות ל-ADFS",type:"error",durationMs:3e3}}))}finally{l(!1)}},[]),s=oe.useCallback(async()=>{l(!0);try{const y=fn.getActiveAccount()||fn.getAllAccounts()[0];y?await fn.logoutPopup({account:y}):await fn.logoutPopup(),e(null),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"התנתקת בהצלחה",type:"ok",durationMs:2e3}}))}catch(y){console.error("ADFS logout failed:",y),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"שגיאה בהתנתקות",type:"error",durationMs:3e3}}))}finally{l(!1)}},[]),c=oe.useCallback(y=>t?va==="adfs"?y==="view_all"?!0:t.role==="admin":(c4[t.role]??[]).includes(y):!1,[t]),a=oe.useCallback(()=>(t==null?void 0:t.role)==="admin",[t]),i=oe.useCallback(()=>c("create_sagach"),[c]),u=oe.useCallback(()=>c("edit_status"),[c]),f=oe.useCallback(()=>c("delete_sagach"),[c]),d=oe.useCallback(()=>c("chat_message"),[c]),h=oe.useCallback(()=>c("manage_users"),[c]),g=oe.useMemo(()=>({user:t,isLoading:n,login:o,logout:s,hasPermission:c,isAdmin:a,canCreateSagach:i,canEditSagach:u,canDeleteSagach:f,canChat:d,canManageUsers:h}),[t,n,o,s,c,a,i,u,f,d,h]);return F.jsx(Ry.Provider,{value:g,children:r})},Es=()=>{const r=oe.useContext(Ry);if(!r)throw new Error("usePermissions must be used within PermissionProvider");return r},td=r=>r==="admin"?"מנהל":"צופה",im=["110","130","150","160","180","190","על-זירתי"],Ny=oe.createContext(void 0),Fs="shared_sagach_data",Bs="shared_sagachim_status_data",zc="shared_data_changes",Uc="sagach_manager_data",Hc="sagachim_data",b4=({children:r})=>{const{user:t}=Es(),[e,n]=oe.useState([]),[l,o]=oe.useState([]),[s,c]=oe.useState(!0),[a,i]=oe.useState(null),[u,f]=oe.useState(new Set),d=B=>B.map(z=>({...z,createdBy:z.createdBy||"migrated",createdAt:z.createdAt||new Date().toISOString(),lastModifiedBy:z.lastModifiedBy||"migrated",lastModifiedAt:z.lastModifiedAt||new Date().toISOString()})),h=B=>B.map(z=>({...z,priority:z.priority||"בינוני",createdBy:z.createdBy||"migrated",createdAt:z.createdAt||new Date().toISOString(),lastModifiedBy:z.lastModifiedBy||"migrated",lastModifiedAt:z.lastModifiedAt||new Date().toISOString()})),g=oe.useCallback((B,z)=>{try{const U=B==="sagachs"?Fs:Bs;localStorage.setItem(U,JSON.stringify(z))}catch(U){console.error("Failed to save shared data:",U),i("Failed to save data")}},[]),y=oe.useCallback(B=>{try{const z=localStorage.getItem(zc),U=z?JSON.parse(z):[];U.push(B),U.length>100&&U.splice(0,U.length-100),localStorage.setItem(zc,JSON.stringify(U))}catch(z){console.error("Failed to store change event:",z)}u.forEach(z=>{try{z(B)}catch(U){console.error("Error in change listener:",U)}})},[u]);oe.useEffect(()=>{(()=>{try{c(!0),i(null);let z=localStorage.getItem(Fs);if(z){const H=JSON.parse(z);n(H)}else{const H=localStorage.getItem(Uc);if(H){console.log("🔄 Migrating sagach data from old key...");const T=JSON.parse(H),A=d(T);n(A),localStorage.setItem(Fs,JSON.stringify(A)),localStorage.removeItem(Uc),console.log("✅ Sagach data migration completed")}}let U=localStorage.getItem(Bs);if(U){const H=JSON.parse(U);o(H)}else{const H=localStorage.getItem(Hc);if(H){console.log("🔄 Migrating status data from old key...");const T=JSON.parse(H),A=h(T);o(A),localStorage.setItem(Bs,JSON.stringify(A)),localStorage.removeItem(Hc),console.log("✅ Status data migration completed")}}}catch(z){console.error("Failed to load shared data:",z),i("Failed to load data")}finally{c(!1)}})()},[]),oe.useEffect(()=>{const B=z=>{if(z.key===Fs&&z.newValue)try{const U=JSON.parse(z.newValue);n(U)}catch(U){console.error("Failed to parse sagach data from storage event:",U)}else if(z.key===Bs&&z.newValue)try{const U=JSON.parse(z.newValue);o(U)}catch(U){console.error("Failed to parse status data from storage event:",U)}};return window.addEventListener("storage",B),()=>window.removeEventListener("storage",B)},[]);const p=oe.useCallback(B=>{if(!t){i("User must be logged in to create sagachs");return}const z=new Date().toISOString(),U={...B,createdBy:t.id,createdAt:z,lastModifiedBy:t.id,lastModifiedAt:z};n(H=>{const T=[...H,U];return g("sagachs",T),T}),y({type:"sagach_created",data:U,timestamp:z,userId:t.id,userName:t.name})},[t,g,y]),b=oe.useCallback((B,z)=>{if(!t){i("User must be logged in to update sagachs");return}const U=new Date().toISOString();n(H=>{const T=H.map(A=>A.id===B?{...A,...z,lastModifiedBy:t.id,lastModifiedAt:U}:A);return g("sagachs",T),T}),y({type:"sagach_updated",data:{id:B,updates:z},timestamp:U,userId:t.id,userName:t.name})},[t,g,y]),m=oe.useCallback(B=>{if(!t){i("User must be logged in to delete sagachs");return}const z=new Date().toISOString();n(U=>{const H=U.filter(T=>T.id!==B);return g("sagachs",H),H}),y({type:"sagach_deleted",data:{id:B},timestamp:z,userId:t.id,userName:t.name})},[t,g,y]),S=oe.useCallback(B=>{if(!t){i("User must be logged in to create status items");return}const z=new Date().toISOString(),U={...B,createdBy:t.id,createdAt:z,lastModifiedBy:t.id,lastModifiedAt:z};o(H=>{const T=[...H,U];return g("sagachimStatus",T),T}),y({type:"status_created",data:U,timestamp:z,userId:t.id,userName:t.name})},[t,g,y]),C=oe.useCallback((B,z)=>{if(!t){i("User must be logged in to update status items");return}const U=new Date().toISOString();o(H=>{const T=H.map(A=>A.id===B?{...A,...z,lastModifiedBy:t.id,lastModifiedAt:U}:A);return g("sagachimStatus",T),T}),y({type:"status_updated",data:{id:B,updates:z},timestamp:U,userId:t.id,userName:t.name})},[t,g,y]),I=oe.useCallback(B=>{if(!t){i("User must be logged in to delete status items");return}const z=new Date().toISOString();o(U=>{const H=U.filter(T=>T.id!==B);return g("sagachimStatus",H),H}),y({type:"status_deleted",data:{id:B},timestamp:z,userId:t.id,userName:t.name})},[t,g,y]),P=oe.useCallback(()=>{try{localStorage.removeItem(Fs),localStorage.removeItem(Bs),localStorage.removeItem(zc),localStorage.removeItem(Uc),localStorage.removeItem(Hc),n([]),o([]),i(null),console.log("🗑️ All data cleared successfully")}catch(B){console.error("Failed to clear data:",B),i("Failed to clear data")}},[]),L=oe.useCallback(B=>(f(z=>new Set([...z,B])),()=>{f(z=>{const U=new Set(z);return U.delete(B),U})}),[]),j={sagachs:e,addSagach:p,updateSagach:b,deleteSagach:m,sagachimStatus:l,addSagachimStatus:S,updateSagachimStatus:C,deleteSagachimStatus:I,clearAllData:P,subscribeToChanges:L,isLoading:s,error:a};return oe.useEffect(()=>(window.clearAllSagachData=P,()=>{delete window.clearAllSagachData}),[P]),F.jsx(Ny.Provider,{value:j,children:r})},Oy=()=>{const r=oe.useContext(Ny);if(r===void 0)throw new Error("useSagachData must be used within a SagachDataProvider");return r},v4=()=>{var yt,ht;const{sagachs:r,addSagach:t,updateSagach:e,deleteSagach:n,isLoading:l,error:o}=Oy(),[s,c]=oe.useState(""),[a,i]=oe.useState(""),[u,f]=oe.useState(null);oe.useEffect(()=>{r.length>0&&!s&&(c(r[0].id),i(r[0].currentVersion))},[r,s]),oe.useEffect(()=>{console.log("editingCell state changed to:",u)},[u]);const[d,h]=oe.useState(new Set),[g,y]=oe.useState(!1),[p,b]=oe.useState(""),[m,S]=oe.useState(""),[C,I]=oe.useState(""),[P,L]=oe.useState(!0),[j,B]=oe.useState(!1),[z,U]=oe.useState(!1),[H,T]=oe.useState(null),[A,k]=oe.useState(null),[v,x]=oe.useState({}),[w,_]=oe.useState(null),[E,R]=oe.useState(["Column 1","Column 2","Column 3","Column 4"]),[O,W]=oe.useState(null),[V,X]=oe.useState(""),[D,K]=oe.useState(""),N=re=>re.toLocaleDateString("he-IL").replace(/\./g,"/");oe.useEffect(()=>{const re={};E.forEach(_e=>{v[_e]||(re[_e]=150)}),Object.keys(re).length>0&&x(_e=>({..._e,...re}))},[E]);const M=()=>r.find(re=>re.id===s),$=()=>{const re=M();return re?re.versions:[]};oe.useEffect(()=>{const re=M();re&&(i(re.currentVersion),B(!1))},[s]);const Y=()=>{const re=r.find(_e=>_e.id===s);return re?re.data:[]},ee=re=>{s&&e(s,{data:re})},Q=re=>{const _e=s,Ae=r.find(Ve=>Ve.id===_e);if(!Ae)return;const Oe=Ae.versions[0],Ye=[];if(Ae.data.forEach(Ve=>{const Pe=Oe.data.find(at=>at.id===Ve.id);Pe?(Pe.name!==Ve.name&&Ye.push(`Name changed: ${Pe.name} → ${Ve.name}`),Pe.type!==Ve.type&&Ye.push(`Type changed for ${Ve.name}: ${Pe.type} → ${Ve.type}`),Pe.data!==Ve.data&&Ye.push(`Data changed for ${Ve.name}: ${Pe.data} → ${Ve.data}`),Pe.fieldName!==Ve.fieldName&&Ye.push(`Field name changed for ${Ve.name}: ${Pe.fieldName} → ${Ve.fieldName}`)):Ye.push(`Added: ${Ve.name}`)}),Oe.data.forEach(Ve=>{Ae.data.find(Pe=>Pe.id===Ve.id)||Ye.push(`Removed: ${Ve.name}`)}),Ye.length>0){const Ve=Z(Ae.currentVersion),Pe=new Date,at={version:Ve,date:N(Pe),time:Pe.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}),data:[...Ae.data],changes:Ye};e(_e,{currentVersion:Ve,versions:[at,...Ae.versions]}),_e===s&&i(Ve)}},Z=re=>{const _e=re.split("."),Ae=parseInt(_e[2])+1;return`${_e[0]}.${_e[1]}.${Ae}`},le=re=>{const _e=M();if(!_e)return;const Ae=_e.versions.find(Oe=>Oe.version===re);Ae&&(e(s,{data:[...Ae.data]}),i(re),B(!0),h(new Set))},ae=()=>{if(p.trim()){const re=`sagach${Date.now()}`,_e=new Date,Ae=rt(),Oe={version:"1.0.1",date:N(_e),time:_e.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}),data:[Ae],changes:["Initial version"]},Ye={id:re,name:p.trim(),data:[Ae],currentVersion:"1.0.1",versions:[Oe]};t(Ye),c(re),i("1.0.1"),b(""),S(""),I(""),y(!1)}},J=re=>{var Ae;const _e=(Ae=re.target.files)==null?void 0:Ae[0];_e&&console.log("Excel file uploaded:",_e.name)},ne=re=>{if(!j||P)return{type:"modified",fields:[]};const _e=M();if(!_e)return{type:"modified",fields:[]};if(!_e.versions.find(at=>at.version===a))return{type:"modified",fields:[]};const Oe=_e.versions.findIndex(at=>at.version===a);if(Oe===_e.versions.length-1)return{type:"modified",fields:[]};const Ye=_e.versions[Oe+1];if(!Ye)return{type:"modified",fields:[]};const Ve=Ye.data.find(at=>at.id===re.id);if(!Ve)return{type:"new",fields:[]};const Pe=[];return Ve.name!==re.name&&Pe.push("name"),Ve.type!==re.type&&Pe.push("type"),Ve.data!==re.data&&Pe.push("data"),Ve.fieldName!==re.fieldName&&Pe.push("fieldName"),{type:(Pe.length>0,"modified"),fields:Pe}},se=()=>{if(!j||P)return[];const re=M();if(!re)return[];if(!re.versions.find(Ve=>Ve.version===a))return[];const Ae=re.versions.findIndex(Ve=>Ve.version===a);if(Ae===re.versions.length-1)return[];const Oe=re.versions[Ae+1];if(!Oe)return[];const Ye=Y();return Oe.data.filter(Ve=>!Ye.find(Pe=>Pe.id===Ve.id))},me=(re,_e)=>{f({rowId:re,field:_e})},de=(re,_e,Ae)=>{r.forEach(Oe=>{if(Oe.data.some(Ve=>Ve.id===re)){const Ve=Oe.data.map(Pe=>Pe.id===re?{...Pe,[_e]:Ae}:Pe);e(Oe.id,{data:Ve})}}),f(null)},ge=re=>{r.forEach(_e=>{if(_e.data.some(Oe=>Oe.id===re)){const Oe=_e.data.filter(Ye=>Ye.id!==re);e(_e.id,{data:Oe})}}),U(!1),T(null)},ve=re=>{T(re),U(!0)},he=()=>{U(!1),T(null)},Me=(re,_e)=>{k({rowId:re,field:_e});const Ae=document.querySelector('[tabindex="0"]');Ae&&Ae.focus()},Ee=(re,_e,Ae)=>{console.log("handleCellDoubleClick called with:",{rowId:re,field:_e,currentValue:Ae}),console.log("Setting editingCell to:",{rowId:re,field:_e});const Oe={rowId:re,field:_e};console.log("About to set editingCell to:",Oe),f(Oe),k(null),console.log("editingCell state should now be:",Oe)},Fe=re=>{if(!A)return;const _e=Y(),Ae=_e.findIndex(Pe=>Pe.id===A.rowId),Oe=E.indexOf(A.field);let Ye=Ae,Ve=Oe;switch(re.key){case"ArrowUp":re.preventDefault(),Ye=Math.max(0,Ae-1);break;case"ArrowDown":re.preventDefault(),Ye=Math.min(_e.length-1,Ae+1);break;case"ArrowLeft":re.preventDefault(),Ve=Math.max(0,Oe-1);break;case"ArrowRight":re.preventDefault(),Ve=Math.min(E.length-1,Oe+1);break;case"Enter":if(re.preventDefault(),_e[Ae]){const Pe=_e[Ae][A.field]||"";Ee(A.rowId,A.field,Pe)}return;case"Tab":re.preventDefault(),re.shiftKey?Ve=Math.max(0,Oe-1):Ve=Math.min(E.length-1,Oe+1);break;default:return}_e[Ye]&&E[Ve]&&k({rowId:_e[Ye].id,field:E[Ve]})},De=(re,_e)=>{x(Ae=>({...Ae,[re]:Math.max(80,_e)}))},et=re=>{_(re)},He=()=>{_(null)},Ze=()=>{const _e=`Column ${E.length+1}`;R(Oe=>[_e,...Oe]),x(Oe=>({...Oe,[_e]:150})),dt(_e);const Ae=Y();if(Ae.length>0){const Oe=Ae[0].id;k({rowId:Oe,field:_e})}},Je=re=>{E.length>1&&(R(_e=>_e.filter(Ae=>Ae!==re)),x(_e=>{const Ae={..._e};return delete Ae[re],Ae}))},We=(re,_e)=>{if(_e.trim()&&_e!==re){const Ae=_e.trim();R(Oe=>Oe.map(Ye=>Ye===re?Ae:Ye)),x(Oe=>{const Ye={...Oe};return Ye[Ae]=Ye[re]||150,delete Ye[re],Ye}),r.forEach(Oe=>{const Ye=Oe.data.map(Pe=>{const at={...Pe};return at[re]!==void 0&&(at[Ae]=at[re],delete at[re]),at}),Ve=Oe.versions.map(Pe=>({...Pe,data:Pe.data.map(at=>{const wt={...at};return wt[re]!==void 0&&(wt[Ae]=wt[re],delete wt[re]),wt})}));e(Oe.id,{data:Ye,versions:Ve})})}},Ce=re=>{W(re),X(re)},Be=()=>{O&&V.trim()&&V!==O&&We(O,V.trim()),W(null),X("")},Xe=()=>{W(null),X("")},Ke=re=>{re.key==="Enter"?Be():re.key==="Escape"&&Xe()},rt=()=>{const re={id:`row_${Date.now()}`};return E.forEach(_e=>{re[_e]=""}),re},dt=re=>{r.forEach(_e=>{const Ae=_e.data.map(Ye=>({...Ye,[re]:""})),Oe=_e.versions.map(Ye=>({...Ye,data:Ye.data.map(Ve=>({...Ve,[re]:""}))}));e(_e.id,{data:Ae,versions:Oe})})},Le=()=>{if(!D.trim())return r;const re=D.toLowerCase().trim();return r.filter(_e=>_e.name.toLowerCase().includes(re)||_e.data.some(Ae=>Object.values(Ae).some(Oe=>String(Oe).toLowerCase().includes(re))))};return F.jsxs("div",{className:"sagachim-manager",style:{height:"100vh",background:"radial-gradient(1200px 800px at 80% 20%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 10% 90%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",color:"var(--text)",fontFamily:'"Segoe UI", system-ui, sans-serif',position:"relative",width:"100vw",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:[F.jsxs("div",{className:"versions-panel",style:{position:"fixed",left:"12px",top:"120px",bottom:"12px",width:P?"60px":"280px",background:"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"var(--radius)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.12), 0 20px 60px rgba(0,0,0,0.35)",backdropFilter:"blur(8px)",padding:"16px",overflow:"hidden",zIndex:100,transition:"width 0.3s ease"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px",borderBottom:"1px solid rgba(255,255,255,0.12)",paddingBottom:"12px"},children:[!P&&F.jsx("h2",{style:{color:"var(--accent)",fontSize:"20px",fontWeight:"700",letterSpacing:"0.4px",margin:0},children:"Versions"}),F.jsx("button",{onClick:()=>{L(!P),P?(B(!1),i("")):B(!1)},className:"btn ghost",style:{padding:"8px",fontSize:"16px",minWidth:"auto",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},title:P?"הרחב":"כווץ",children:P?"▶":"◀"})]}),!P&&F.jsxs(F.Fragment,{children:[F.jsx("div",{style:{padding:"8px 12px",background:"rgba(124,192,255,0.1)",border:"1px solid rgba(124,192,255,0.3)",borderRadius:"8px",textAlign:"center",color:"var(--accent)",fontSize:"14px",fontWeight:"600",direction:"rtl",marginBottom:"12px"},children:((yt=M())==null?void 0:yt.name)||(r.length===0?'אין סג"חים':'בחר סג"ח')}),F.jsx("div",{className:"versions-list",children:$().map(re=>F.jsxs("div",{className:`version-item ${a===re.version?"selected":""}`,onClick:()=>le(re.version),style:{background:a===re.version?"linear-gradient(180deg, rgba(124,192,255,0.22), rgba(124,192,255,0.1))":"rgba(255,255,255,0.06)",color:(a===re.version,"var(--text)"),border:a===re.version?"1px solid rgba(124,192,255,0.6)":"1px solid rgba(255,255,255,0.14)",borderRadius:"12px",padding:"12px",marginBottom:"10px",cursor:"pointer",transition:"transform 120ms ease, box-shadow 200ms ease, background 200ms ease",textAlign:"center",position:"relative",boxShadow:a===re.version?"0 6px 22px rgba(124,192,255,0.24)":"0 4px 12px rgba(0,0,0,0.2)",backdropFilter:"blur(6px)"},children:[F.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"5px"},children:[re.version,re.changes&&re.changes.length>0&&F.jsx("span",{style:{position:"absolute",top:"6px",right:"6px",backgroundColor:"var(--accent)",color:"#000",borderRadius:"50%",width:"6px",height:"6px",fontSize:"6px",display:"inline-block",boxShadow:"0 0 8px rgba(124,192,255,0.6)"}})]}),F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:re.date}),F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:re.time}),re.changes&&re.changes.length>0&&F.jsxs("div",{style:{fontSize:"10px",marginTop:"6px",color:"var(--accent)",fontWeight:"bold"},children:[re.changes.length," שינויים"]})]},re.version))})]})]}),F.jsx("div",{className:"table-panel",style:{position:"fixed",left:P?"84px":"304px",right:"344px",top:"120px",bottom:"12px",background:"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"var(--radius)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.12), 0 20px 60px rgba(0,0,0,0.35)",backdropFilter:"blur(8px)",padding:"16px",overflow:"auto",display:"flex",flexDirection:"column",zIndex:50},children:s?F.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.12)"},children:[F.jsxs("div",{children:[F.jsx("h2",{style:{color:"var(--accent)",fontSize:"20px",fontWeight:"700",direction:"rtl",margin:0},children:(ht=r.find(re=>re.id===s))==null?void 0:ht.name}),j&&!P&&F.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px",fontSize:"12px",direction:"rtl"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[F.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:"rgba(76,175,80,0.6)",borderRadius:"2px"}}),F.jsx("span",{style:{color:"var(--muted)"},children:"הוספו מהגרסה הקודמת"})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[F.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:"rgba(255,165,0,0.6)",borderRadius:"2px"}}),F.jsx("span",{style:{color:"var(--muted)"},children:"שונו מהגרסה הקודמת"})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[F.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:"rgba(255,80,80,0.6)",borderRadius:"2px"}}),F.jsx("span",{style:{color:"var(--muted)"},children:"הוסרו מהגרסה הקודמת"})]})]})]}),F.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[F.jsx("button",{onClick:()=>{const re=rt(),Ae=[...Y(),re];ee(Ae),E.length>0&&k({rowId:re.id,field:E[0]})},className:"btn primary",style:{padding:"8px 16px",fontSize:"12px",direction:"rtl"},children:"+ הוסף רשומה"}),F.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:re=>{var Ae;const _e=(Ae=re.target.files)==null?void 0:Ae[0];_e&&_e.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"&&console.log("Excel file uploaded:",_e.name),re.target.value=""},style:{display:"none"},id:"excel-upload"}),F.jsx("label",{htmlFor:"excel-upload",className:"btn ghost",style:{padding:"8px 16px",fontSize:"12px",cursor:"pointer",direction:"rtl"},children:"📁 העלה אקסל"})]})]}),F.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",outline:"none"},onKeyDown:Fe,tabIndex:0,onFocus:re=>{re.currentTarget.focus()},children:[F.jsx("style",{children:`
                  .table-container::-webkit-scrollbar {
                    width: 12px;
                    height: 12px;
                  }
                  .table-container::-webkit-scrollbar-track {
                    background: rgba(255,255,255,0.05);
                    border-radius: 6px;
                  }
                  .table-container::-webkit-scrollbar-thumb {
                    background: linear-gradient(135deg, rgba(124,192,255,0.6), rgba(167,90,255,0.6));
                    border-radius: 6px;
                    border: 2px solid rgba(255,255,255,0.1);
                  }
                  .table-container::-webkit-scrollbar-thumb:hover {
                    background: linear-gradient(135deg, rgba(124,192,255,0.8), rgba(167,90,255,0.8));
                  }
                  .table-container::-webkit-scrollbar-corner {
                    background: rgba(255,255,255,0.05);
                  }
                `}),F.jsx("div",{className:"table-container",style:{overflow:"auto",height:"100%",position:"relative"},children:F.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:`${Object.values(v).reduce((re,_e)=>re+_e,0)+100}px`},children:[F.jsx("thead",{children:F.jsxs("tr",{style:{background:"rgba(255,255,255,0.08)"},children:[F.jsx("th",{style:{padding:"12px",textAlign:"center",color:"var(--accent)",fontWeight:"600",borderBottom:"2px solid rgba(124,192,255,0.3)",width:"80px",minWidth:"80px"},children:F.jsx("button",{onClick:Ze,style:{background:"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",border:"1px solid rgba(76,175,80,0.4)",borderRadius:"8px",padding:"6px 8px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(76,175,80,0.3)",minWidth:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-1px)",re.currentTarget.style.boxShadow="0 4px 12px rgba(76,175,80,0.4)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0px)",re.currentTarget.style.boxShadow="0 2px 8px rgba(76,175,80,0.3)"},title:"הוסף עמודה חדשה",children:"+"})}),E.map((re,_e)=>F.jsxs("th",{style:{padding:"12px",textAlign:"center",color:"var(--accent)",fontWeight:"600",direction:"rtl",borderBottom:"2px solid rgba(124,192,255,0.3)",width:`${v[re]||150}px`,minWidth:"80px",position:"relative",userSelect:"none"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O===re?F.jsx("input",{type:"text",value:V,onChange:Ae=>X(Ae.target.value),onBlur:Be,onKeyDown:Ke,autoFocus:!0,style:{background:"rgba(124,192,255,0.2)",border:"1px solid rgba(124,192,255,0.6)",borderRadius:"4px",padding:"4px 8px",color:"var(--text)",fontSize:"14px",fontWeight:"600",width:"100%",direction:"rtl",outline:"none"}}):F.jsx("span",{style:{flex:1,cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background 0.2s ease"},onClick:()=>Ce(re),onMouseEnter:Ae=>{Ae.currentTarget.style.background="rgba(124,192,255,0.1)"},onMouseLeave:Ae=>{Ae.currentTarget.style.background="transparent"},title:"לחץ לעריכה",children:re}),F.jsx("button",{onClick:()=>Je(re),style:{background:"transparent",border:"none",color:"#ff5050",cursor:"pointer",fontSize:"12px",padding:"2px 4px",marginLeft:"8px",opacity:E.length>1?1:.3},disabled:E.length<=1,title:"מחק עמודה",children:"×"})]}),F.jsx("div",{style:{position:"absolute",right:0,top:0,bottom:0,width:"4px",cursor:"col-resize",background:w===re?"rgba(124,192,255,0.8)":"transparent",transition:"background 0.2s ease"},onMouseDown:Ae=>{Ae.preventDefault(),et(re);const Oe=Ae.clientX,Ye=v[re]||150,Ve=at=>{const wt=Ye+(at.clientX-Oe);De(re,wt)},Pe=()=>{document.removeEventListener("mousemove",Ve),document.removeEventListener("mouseup",Pe),He()};document.addEventListener("mousemove",Ve),document.addEventListener("mouseup",Pe)},onMouseEnter:Ae=>{w||(Ae.currentTarget.style.background="rgba(124,192,255,0.3)")},onMouseLeave:Ae=>{w||(Ae.currentTarget.style.background="transparent")}})]},re))]})}),F.jsxs("tbody",{children:[Y().map((re,_e)=>F.jsx(sm,{item:re,isEven:_e%2===0,changes:ne(re),editingCell:u,selectedCell:A,columnWidths:v,tableColumns:E,onCellClick:me,onCellSelect:Me,onCellDoubleClick:Ee,onCellSave:de,onDelete:ve},re.id)),se().map((re,_e)=>F.jsx(sm,{item:re,isEven:(Y().length+_e)%2===0,changes:{type:"removed",fields:[]},editingCell:u,selectedCell:A,columnWidths:v,tableColumns:E,onCellClick:me,onCellSelect:Me,onCellDoubleClick:Ee,onCellSave:de,onDelete:()=>{}},`removed-${re.id}`))]})]})}),Y().length===0&&F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"200px",color:"var(--muted)",fontSize:"16px",direction:"rtl"},children:'אין רשומות בסג"ח זה'})]})]}):F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--muted)",fontSize:"16px",direction:"rtl"},children:F.jsx("div",{children:r.length===0?'אין סג"חים זמינים - צור סג"ח חדש כדי להתחיל':'בחר סג"ח כדי להציג את הנתונים'})})}),F.jsxs("div",{className:"sagach-manager-panel",style:{position:"fixed",right:"12px",top:"120px",bottom:"12px",width:"320px",background:"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"var(--radius)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.12), 0 20px 60px rgba(0,0,0,0.35)",backdropFilter:"blur(8px)",padding:"16px",display:"flex",flexDirection:"column",gap:"12px",zIndex:100,overflow:"auto"},children:[F.jsx("h2",{style:{color:"var(--accent)",fontSize:"18px",marginBottom:"12px",textAlign:"center",fontWeight:"700",letterSpacing:"0.4px",borderBottom:"1px solid rgba(255,255,255,0.12)",paddingBottom:"10px",direction:"rtl"},children:'מנהל סג"חים'}),F.jsx("div",{style:{marginBottom:"16px"},children:F.jsx("button",{onClick:()=>y(!0),className:"btn primary",style:{width:"100%",padding:"10px",fontSize:"14px",direction:"rtl"},children:'+ צור סג"ח חדש'})}),F.jsx("div",{style:{marginBottom:"16px"},children:F.jsx("input",{type:"text",value:D,onChange:re=>K(re.target.value),placeholder:"חפש סגחים...",style:{width:"100%",padding:"10px 12px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"var(--text)",fontSize:"14px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",transition:"all 0.2s ease"},onFocus:re=>{re.target.style.borderColor="rgba(124,192,255,0.6)",re.target.style.boxShadow="0 0 8px rgba(124,192,255,0.3)"},onBlur:re=>{re.target.style.borderColor="rgba(255,255,255,0.2)",re.target.style.boxShadow="none"}})}),F.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",flex:1},children:Le().length>0?Le().map(re=>F.jsx(w4,{sagach:re,isSelected:s===re.id,onSelect:()=>c(re.id)},re.id)):F.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",textAlign:"center",color:"var(--muted)",direction:"rtl"},children:[F.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.5},children:"📋"}),F.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:'אין סג"חים'}),F.jsx("div",{style:{fontSize:"14px",opacity:.8},children:'צור סג"ח חדש כדי להתחיל'})]})}),F.jsxs("div",{style:{marginTop:"16px",display:"flex",flexDirection:"column",gap:"8px"},children:[F.jsx("button",{onClick:()=>Q(),className:"btn primary",style:{padding:"10px 16px",fontSize:"13px",fontWeight:"600",direction:"rtl",letterSpacing:"0.3px"},children:'שמור שינויים לסג"ח הנוכחי'}),F.jsx("button",{className:"btn ghost",style:{padding:"10px 16px",fontSize:"13px",fontWeight:"600",direction:"rtl",letterSpacing:"0.3px"},children:"פרסם לשותפים"})]})]}),g&&F.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:F.jsxs("div",{style:{background:"radial-gradient(1200px 800px at 50% 50%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 50% 50%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",border:"2px solid rgba(124,192,255,0.3)",borderRadius:"24px",padding:"32px",width:"480px",maxWidth:"90vw",boxShadow:"0 20px 60px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1)",backdropFilter:"blur(12px)"},children:[F.jsx("h2",{style:{color:"var(--text)",fontSize:"24px",fontWeight:"700",textAlign:"center",marginBottom:"24px",direction:"rtl"},children:'צור סג"ח חדש'}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[F.jsx("label",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"600",direction:"rtl"},children:"שם יחיד לשיתוף"}),F.jsx("input",{type:"text",value:p,onChange:re=>b(re.target.value),style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"14px 16px",color:"var(--text)",fontSize:"16px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",transition:"all 0.2s ease"},onFocus:re=>{re.target.style.borderColor="rgba(124,192,255,0.6)",re.target.style.boxShadow="0 0 20px rgba(124,192,255,0.3)"},onBlur:re=>{re.target.style.borderColor="rgba(255,255,255,0.2)",re.target.style.boxShadow="none"}})]}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[F.jsx("label",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"600",direction:"rtl"},children:'שם הסג"ח'}),F.jsx("input",{type:"text",value:m,onChange:re=>S(re.target.value),style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"14px 16px",color:"var(--text)",fontSize:"16px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",transition:"all 0.2s ease"},onFocus:re=>{re.target.style.borderColor="rgba(124,192,255,0.6)",re.target.style.boxShadow="0 0 20px rgba(124,192,255,0.3)"},onBlur:re=>{re.target.style.borderColor="rgba(255,255,255,0.2)",re.target.style.boxShadow="none"}})]}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[F.jsx("label",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"600",direction:"rtl"},children:"סיפק"}),F.jsx("input",{type:"text",value:C,onChange:re=>I(re.target.value),style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"14px 16px",color:"var(--text)",fontSize:"16px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",transition:"all 0.2s ease"},onFocus:re=>{re.target.style.borderColor="rgba(124,192,255,0.6)",re.target.style.boxShadow="0 0 20px rgba(124,192,255,0.3)"},onBlur:re=>{re.target.style.borderColor="rgba(255,255,255,0.2)",re.target.style.boxShadow="none"}})]}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[F.jsx("label",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"600",direction:"rtl"},children:"העלה קובץ אקסל (אופציונלי)"}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"rgba(255,255,255,0.05)",border:"2px dashed rgba(124,192,255,0.3)",borderRadius:"12px",padding:"20px",transition:"all 0.2s ease"},children:[F.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:J,style:{display:"none"},id:"excel-upload-popup"}),F.jsx("label",{htmlFor:"excel-upload-popup",style:{background:"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",border:"1px solid rgba(76,175,80,0.4)",borderRadius:"8px",padding:"10px 16px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",direction:"rtl"},onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-1px)",re.currentTarget.style.boxShadow="0 4px 12px rgba(76,175,80,0.4)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0px)",re.currentTarget.style.boxShadow="none"},children:"📁 בחר קובץ אקסל"}),F.jsx("span",{style:{color:"var(--muted)",fontSize:"14px",direction:"rtl"},children:"או גרור קובץ לכאן"})]})]})]}),F.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px",justifyContent:"center"},children:[F.jsx("button",{onClick:ae,style:{background:"linear-gradient(135deg, rgba(124,192,255,0.8), rgba(124,192,255,0.6))",border:"1px solid rgba(124,192,255,0.4)",borderRadius:"12px",padding:"12px 24px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",direction:"rtl",boxShadow:"0 4px 16px rgba(124,192,255,0.3)"},onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-2px)",re.currentTarget.style.boxShadow="0 8px 24px rgba(124,192,255,0.4)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0px)",re.currentTarget.style.boxShadow="0 4px 16px rgba(124,192,255,0.3)"},children:"הוסף פורמט להעלאת דגימה"}),F.jsx("button",{onClick:()=>{y(!1),b(""),S(""),I("")},style:{background:"transparent",border:"1px solid rgba(124,192,255,0.4)",borderRadius:"12px",padding:"12px 24px",color:"var(--text)",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",direction:"rtl"},onMouseEnter:re=>{re.currentTarget.style.background="rgba(124,192,255,0.1)"},onMouseLeave:re=>{re.currentTarget.style.background="transparent"},children:"מעלה דגימה"})]})]})}),z&&F.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:F.jsxs("div",{style:{background:"radial-gradient(1200px 800px at 50% 50%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 50% 50%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",border:"2px solid rgba(255,80,80,0.3)",borderRadius:"24px",padding:"32px",width:"400px",maxWidth:"90vw",boxShadow:"0 20px 60px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1)",backdropFilter:"blur(12px)"},children:[F.jsx("h2",{style:{color:"#ff5050",fontSize:"24px",fontWeight:"700",textAlign:"center",marginBottom:"16px",direction:"rtl"},children:"מחק רשומה"}),F.jsx("p",{style:{color:"var(--text)",fontSize:"16px",textAlign:"center",marginBottom:"24px",direction:"rtl"},children:"האם אתה בטוח שברצונך למחוק את הרשומה הזו? פעולה זו לא ניתנת לביטול."}),F.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[F.jsx("button",{onClick:he,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.4)",borderRadius:"12px",padding:"12px 24px",color:"var(--text)",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",direction:"rtl"},onMouseEnter:re=>{re.currentTarget.style.background="rgba(255,255,255,0.1)"},onMouseLeave:re=>{re.currentTarget.style.background="transparent"},children:"ביטול"}),F.jsx("button",{onClick:()=>H&&ge(H),style:{background:"linear-gradient(135deg, rgba(255,80,80,0.8), rgba(255,80,80,0.6))",border:"1px solid rgba(255,80,80,0.4)",borderRadius:"12px",padding:"12px 24px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",direction:"rtl",boxShadow:"0 4px 16px rgba(255,80,80,0.3)"},onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-2px)",re.currentTarget.style.boxShadow="0 8px 24px rgba(255,80,80,0.4)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0px)",re.currentTarget.style.boxShadow="0 4px 16px rgba(255,80,80,0.3)"},children:"מחק"})]})]})})]})},sm=({item:r,isEven:t,changes:e,editingCell:n,selectedCell:l,columnWidths:o,tableColumns:s,onCellClick:c,onCellSelect:a,onCellDoubleClick:i,onCellSave:u,onDelete:f})=>{const[d,h]=oe.useState(""),[g,y]=oe.useState(null),[p,b]=oe.useState(null),[m,S]=oe.useState(0),[C,I]=oe.useState(0);console.log("TableRow re-rendered for item:",r.id,"item data:",r),oe.useEffect(()=>()=>{g&&clearTimeout(g)},[g]),oe.useEffect(()=>{if((n==null?void 0:n.rowId)===r.id&&(n!=null&&n.field)){const v=r[n.field]||"";h(v)}},[n,r.id]);const P=(v,x)=>{const w=(n==null?void 0:n.rowId)===r.id&&(n==null?void 0:n.field)===v,_=(l==null?void 0:l.rowId)===r.id&&(l==null?void 0:l.field)===v,E=e.fields.includes(v),R=e.type==="new",O=e.type==="removed",W=p===v;let V=x.backgroundColor,X=x.border,D="none",K=1;return w?(V="rgba(124,192,255,0.2)",X="1px solid rgba(124,192,255,0.6)",D="0 0 8px rgba(124,192,255,0.3)"):_?(V="rgba(124,192,255,0.1)",X="1px solid rgba(124,192,255,0.4)",D="0 0 4px rgba(124,192,255,0.2)"):O?(V="rgba(255,80,80,0.15)",X="1px solid rgba(255,80,80,0.4)",D="0 0 8px rgba(255,80,80,0.2)",K=.7):R?(V="rgba(76,175,80,0.15)",X="1px solid rgba(76,175,80,0.4)",D="0 0 8px rgba(76,175,80,0.2)"):E?(V="rgba(255,165,0,0.15)",X="1px solid rgba(255,165,0,0.4)",D="0 0 8px rgba(255,165,0,0.2)"):W&&(V="rgba(124,192,255,0.08)",X="1px solid rgba(124,192,255,0.3)",D="0 0 4px rgba(124,192,255,0.15)"),{...x,backgroundColor:V,border:X,boxShadow:D,opacity:K,cursor:w?"text":"pointer",transition:"all 0.2s ease"}},L=(v,x)=>{console.log("Click detected on field:",v,"clickCount:",m,"lastClickTime:",C);const w=Date.now();if(g&&(clearTimeout(g),y(null)),w-C<300&&m>0){console.log("Double click detected via click counting"),S(0),I(0),i(r.id,v,x||"");return}S(E=>(console.log("Incrementing click count from",E,"to",E+1),E+1)),I(w);const _=setTimeout(()=>{console.log("Single click timeout triggered, selecting cell"),a(r.id,v),S(0)},300);y(_)},j=(v,x)=>{console.log("Double click event detected on field:",v,"value:",x),console.log("About to call onCellDoubleClick with:",{rowId:r.id,field:v,currentValue:x}),g&&(clearTimeout(g),y(null)),S(0),I(0),i(r.id,v,x||""),console.log("onCellDoubleClick called successfully")},B=()=>{console.log("TEST: testEditFunction called"),console.log("TEST: item.id:",r.id,"field:","Column 1"),console.log("TEST: calling onCellDoubleClick directly"),i(r.id,"Column 1","test value"),console.log("TEST: onCellDoubleClick called")};oe.useEffect(()=>(window.testEditFunction=B,()=>{delete window.testEditFunction}),[B]);const z=v=>{u(r.id,v,d)},U=(v,x)=>{if(v.key==="Enter"&&!v.shiftKey)z(x);else if(v.key==="Enter"&&v.shiftKey){const w=v.currentTarget,_=w.selectionStart,E=w.selectionEnd,R=w.value,O=R.substring(0,_)+`
`+R.substring(E);h(O),setTimeout(()=>{w.selectionStart=w.selectionEnd=_+1},0)}else v.key==="Escape"&&u(r.id,x,d)},H=(v,x)=>{const w=(n==null?void 0:n.rowId)===r.id&&(n==null?void 0:n.field)===v;return console.log("renderCell called with:",{field:v,value:x,isEditing:w,itemId:r.id,editingCell:n,item:r,itemFieldValue:r[v]}),w?F.jsx("textarea",{value:d,onChange:_=>h(_.target.value),onBlur:()=>z(v),onKeyDown:_=>U(_,v),autoFocus:!0,style:{background:"transparent",border:"none",outline:"none",color:"var(--text)",fontSize:"13px",width:"100%",minHeight:"20px",maxHeight:"100px",resize:"none",textAlign:"center",direction:v==="name"?"rtl":"ltr",fontFamily:"inherit",lineHeight:"1.4"}}):F.jsx("div",{onClick:_=>{console.log("Click event on field:",v,"value:",x,"item:",r),_.stopPropagation(),L(v,x)},onDoubleClick:_=>{console.log("Double click event on field:",v,"value:",x),_.stopPropagation(),_.preventDefault(),console.log("Double click event handler triggered"),j(v,x)},onMouseEnter:()=>b(v),onMouseLeave:()=>b(null),style:{cursor:"pointer",display:"flex",width:"100%",height:"100%",minHeight:"40px",whiteSpace:"pre-wrap",wordBreak:"break-word",userSelect:"none",padding:"8px",margin:"-8px",alignItems:"center",justifyContent:"center",position:"relative"},children:F.jsx("span",{style:{textAlign:"center",width:"100%"},children:x})})},T=()=>{const v=e.type==="new",x=e.type==="removed";let w=t?"rgba(255,255,255,0.04)":"rgba(255,255,255,0.02)",_="1px solid rgba(255,255,255,0.06)",E=1;return v?(w="rgba(76,175,80,0.08)",_="1px solid rgba(76,175,80,0.3)"):x&&(w="rgba(255,80,80,0.08)",_="1px solid rgba(255,80,80,0.3)",E=.7),{background:w,borderBottom:_,opacity:E,transition:"background 0.2s ease, opacity 0.2s ease"}},A={padding:"10px 12px",border:"none",textAlign:"center",color:"var(--text)",fontSize:"13px"},k=T();return F.jsxs("tr",{style:k,onMouseEnter:v=>{!n&&e.type!=="removed"&&(v.currentTarget.style.background=e.type==="new"?"rgba(76,175,80,0.12)":"rgba(255,255,255,0.08)")},onMouseLeave:v=>{n||(v.currentTarget.style.background=k.background)},children:[F.jsx("td",{style:{width:"80px",minWidth:"80px",padding:"10px 12px",border:"none",textAlign:"center",color:"var(--text)",fontSize:"13px"}}),s.map((v,x)=>F.jsx("td",{style:{...P(v,{...A,direction:x===0?"rtl":"ltr"}),width:`${o[v]||150}px`,minWidth:"80px"},children:x===s.length-1?F.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[F.jsx("span",{style:{flex:1},children:H(v,r[v]||"")}),e.type==="removed"?F.jsx("span",{style:{color:"#ff5050",fontSize:"12px",fontWeight:"bold",marginLeft:"8px"},children:"הוסר"}):F.jsx("button",{onClick:()=>f(r.id),className:"btn ghost",style:{padding:"2px 4px",fontSize:"10px",borderColor:"rgba(255,80,80,0.4)",color:"#ff5050",marginLeft:"8px",minWidth:"auto",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},title:"מחק רשומה",children:"🗑"})]}):H(v,r[v]||"")},v))]})},w4=({sagach:r,isSelected:t,onSelect:e})=>F.jsxs("div",{style:{background:t?"linear-gradient(180deg, rgba(124,192,255,0.15), rgba(124,192,255,0.08))":"rgba(255,255,255,0.06)",border:t?"1px solid rgba(124,192,255,0.6)":"1px solid rgba(255,255,255,0.14)",borderRadius:"12px",padding:"12px",transition:"all 0.2s ease",boxShadow:t?"0 6px 22px rgba(124,192,255,0.24)":"0 4px 12px rgba(0,0,0,0.2)"},children:[F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:F.jsx("div",{onClick:e,style:{cursor:"pointer",fontSize:"16px",fontWeight:"600",color:"var(--text)",direction:"rtl",flex:1},children:r.name})}),F.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:"8px",direction:"rtl"},children:[r.data.length," רשומות"]})]}),Or=r=>{const t=r.getDate().toString().padStart(2,"0"),e=(r.getMonth()+1).toString().padStart(2,"0"),n=r.getFullYear();return`${t}/${e}/${n}`},om=r=>{if(r===0)return"0 B";const t=1024,e=["B","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(t));return parseFloat((r/Math.pow(t,n)).toFixed(1))+" "+e[n]},am=["נמוך","בינוני","גבוה","TOP"],$c={נמוך:"נמוך",בינוני:"בינוני",גבוה:"גבוה",TOP:"TOP"},pn=["ממתין לבשלות בצד ספק",'ממתין לקבלת דג"ח והתנעה',"בתהליכי אפיון","ממתין לאינטגרציות","אינטגרציות","מבצוע"],zs=["ממתין לבשלות בצד ספק",'ממתין לקבלת דג"ח והתנעה',"בתהליכי אפיון","ממתין לאינטגרציות","אינטגרציות","מבצוע","מובצע"],x4=`
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
`;if(typeof document<"u"&&!document.head.querySelector("#spinner-animation")){const r=document.createElement("style");r.id="spinner-animation",r.textContent=x4,document.head.appendChild(r)}const _4=()=>{var be;const{user:r,isAdmin:t}=Es(),{sagachimStatus:e,addSagachimStatus:n,updateSagachimStatus:l,deleteSagachimStatus:o,clearAllData:s,isLoading:c,error:a}=Oy(),i=(q,G)=>{var ie;return((ie=q.notificationSubscribers)==null?void 0:ie.some(ce=>ce.userId===G))||!1},u=(q,G,ie,ce,pe)=>{const Te={userId:G,userName:ie,notificationMethod:ce,notificationFrequency:pe,subscribedAt:new Date().toISOString()},we=[...(q.notificationSubscribers||[]).filter(xe=>xe.userId!==G),Te];return{...q,notificationSubscribers:we,notifications:i(q,G),notificationMethod:ce,notificationFrequency:pe}},f=(q,G)=>{const ie=(q.notificationSubscribers||[]).filter(ce=>ce.userId!==G);return{...q,notificationSubscribers:ie,notifications:!1}},d={primary:{appearance:"none",border:"none",borderRadius:"12px",padding:"12px 20px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",fontWeight:"600",fontFamily:"Segoe UI, sans-serif",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",direction:"rtl",outline:"none"},filter:{appearance:"none",border:"1px solid rgba(255,255,255,0.14)",background:"transparent",color:"var(--text)",borderRadius:"12px",padding:"8px 14px",cursor:"pointer",transition:"transform 120ms ease",fontSize:"14px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"right",boxShadow:"none"},close:{background:"none",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:"14px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",borderRadius:"50%",transition:"all 0.2s ease"}},[h,g]=oe.useState(""),[y,p]=oe.useState(""),[b,m]=oe.useState(""),[S,C]=oe.useState(""),[I,P]=oe.useState("none"),[L,j]=oe.useState(null),[B,z]=oe.useState(""),[U,H]=oe.useState(!1),[T,A]=oe.useState(1),k=oe.useRef(null),[v,x]=oe.useState(!1),[w,_]=oe.useState(!1),[E,R]=oe.useState(!1),[O,W]=oe.useState(!1),[V,X]=oe.useState(!1),[D,K]=oe.useState(!1),[N,M]=oe.useState(!1),[$,Y]=oe.useState(!1),[ee,Q]=oe.useState(!1),[Z,le]=oe.useState("email"),[ae,J]=oe.useState("status_change"),[ne,se]=oe.useState(!1),[me,de]=oe.useState(!1),[ge,ve]=oe.useState(!1),[he,Me]=oe.useState(!1),[Ee,Fe]=oe.useState({name:"",description:"",provider:"",arena:[],priority:"בינוני",sagachType:""}),[De,et]=oe.useState({message:"",type:"success",isVisible:!1}),[He,Ze]=oe.useState(null),[Je,We]=oe.useState(!1),[Ce,Be]=oe.useState(!1),[Xe,Ke]=oe.useState(""),[rt,dt]=oe.useState(!1),[Le,yt]=oe.useState({description:"",provider:"",arena:[],priority:"בינוני",sagachType:"",processStatus:1,attachments:[]}),[ht,re]=oe.useState(new Date),_e=()=>He||ht;oe.useEffect(()=>{re(He||new Date)},[He]),oe.useEffect(()=>{const q=setInterval(()=>{He||re(new Date)},6e4);return()=>clearInterval(q)},[He]);const[,Ae]=oe.useState(0);oe.useEffect(()=>{Ae(q=>q+1)},[L==null?void 0:L.id,L==null?void 0:L.processStatus,L==null?void 0:L.lastUpdated,He,ht,e.length]);const[,Oe]=oe.useState(0);oe.useEffect(()=>{L&&Oe(q=>q+1)},[He,ht]),oe.useEffect(()=>{(()=>{e.length>0&&e.map(ie=>{const ce=_e(),pe={...ie.phaseData||{}};return Object.keys(pe).forEach(Te=>{var xe;const ke=parseInt(Te),we=pe[ke];if(we){let je=0;we.entries&&we.entries.forEach(Qe=>{Qe.timeSpentDays&&(je+=Qe.timeSpentDays)});let qe=((xe=we.currentEntry)==null?void 0:xe.timeSpentDays)||0;if(we.currentEntry&&ke===ie.processStatus){const Qe=new Date(we.currentEntry.startDate+"T00:00:00"),mt=new Date(ce.toISOString().split("T")[0]+"T23:59:59"),lt=Math.max(0,mt.getTime()-Qe.getTime());qe=Math.max(1,Math.ceil(lt/864e5))}const Ne=je+qe;pe[ke]={...we,currentEntry:we.currentEntry?{...we.currentEntry,timeSpentDays:qe}:void 0,totalTimeSpentDays:Math.max(we.totalTimeSpentDays||0,Ne)}}}),{...ie,phaseData:pe,lastUpdated:Or(ce)}}).forEach(ie=>{l(ie.id,ie)})})(),Ae(G=>G+1),Oe(G=>G+1)},[He,ht,e.length,Ae,Oe]);const Ye=oe.useCallback((q,G=!1)=>{var we,xe,je;if(!q)return 0;const ie=(q.entries||[]).reduce((qe,Ne)=>typeof Ne.timeSpentDays=="number"&&!Number.isNaN(Ne.timeSpentDays)?qe+Ne.timeSpentDays:qe,0),ce=typeof q.totalTimeSpentDays=="number"&&!Number.isNaN(q.totalTimeSpentDays)?q.totalTimeSpentDays:0,pe=typeof((we=q.currentEntry)==null?void 0:we.timeSpentDays)=="number"&&!Number.isNaN((xe=q.currentEntry)==null?void 0:xe.timeSpentDays)?q.currentEntry.timeSpentDays:0,Te=Math.max(ie,ce),ke=Math.max(ie,Math.max(0,ce-pe));if(G&&((je=q.currentEntry)!=null&&je.startDate)){const qe=new Date(q.currentEntry.startDate+"T00:00:00"),Ne=_e(),Qe=new Date(Ne.toISOString().split("T")[0]+"T23:59:59"),mt=Math.max(0,Qe.getTime()-qe.getTime()),lt=Math.max(1,Math.ceil(mt/(1e3*60*60*24)));return ke+lt}return Te},[He,ht]),Ve=oe.useCallback((q,G=!1)=>{if(!q)return"";const ie=[...q.entries||[]];if(q.currentEntry&&ie.push(q.currentEntry),ie.length===0)return"";const ce=ie.map(xe=>new Date(xe.startDate)),pe=new Date(Math.min(...ce.map(xe=>xe.getTime())));let Te;if(G&&q.currentEntry)Te=_e();else{const xe=ie.filter(je=>je.completionDate).map(je=>new Date(je.completionDate));xe.length>0?Te=new Date(Math.max(...xe.map(je=>je.getTime()))):Te=pe}const ke=Or(pe),we=Or(Te);return ke===we?ke:`${ke} - ${we}`},[_e]);oe.useEffect(()=>{const q=G=>{G.target.closest("[data-dropdown-container]")||(x(!1),_(!1),R(!1),W(!1),X(!1),K(!1),M(!1),Y(!1))};return document.addEventListener("click",q),()=>document.removeEventListener("click",q)},[]),oe.useEffect(()=>{const q=G=>{G.key==="Escape"&&L&&(dt(!1),j(null))};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[L]),oe.useEffect(()=>{L&&k.current&&setTimeout(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},100)},[L]),oe.useEffect(()=>{L&&k.current&&L.statusUpdates&&setTimeout(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},50)},[L==null?void 0:L.statusUpdates]);const Pe=(q,G="success")=>{et({message:q,type:G,isVisible:!0}),setTimeout(()=>{et(ie=>({...ie,isVisible:!1}))},3e3)},at=oe.useMemo(()=>[...new Set(e.map(G=>G.provider))].sort(),[e]),wt=oe.useMemo(()=>{const q=e.flatMap(ie=>ie.arena);return[...new Set(q)].sort()},[e]),ct=oe.useMemo(()=>{let q=e.filter(G=>{if(G.processStatus===7&&G.completionDate){const ke=new Date(G.completionDate),we=new Date(_e());if(we.setDate(we.getDate()-7),ke<we)return!1}const ie=!h||G.name.toLowerCase().includes(h.toLowerCase())||G.description.toLowerCase().includes(h.toLowerCase()),ce=!y||G.provider===y,pe=!b||G.arena.includes(b),Te=!S||G.processStatus.toString()===S;return ie&&ce&&pe&&Te});return I!=="none"&&q.sort((G,ie)=>I==="asc"?G.processStatus-ie.processStatus:I==="desc"?ie.processStatus-G.processStatus:0),q},[e,h,y,b,S,I]),ue=q=>{switch(q){case 1:return"rgba(128, 128, 128, 0.8)";case 2:return"rgba(33, 150, 243, 0.8)";case 3:return"rgba(255, 152, 0, 0.8)";case 4:return"rgba(233, 30, 99, 0.8)";case 5:return"rgba(156, 39, 176, 0.8)";case 6:return"rgba(46, 125, 50, 0.8)";case 7:return"rgba(27, 94, 32, 0.8)";default:return"rgba(158, 158, 158, 0.8)"}},ye=q=>{dt(!1),j(q),z(""),H(!1),A(q.processStatus)},Se=(q,G)=>{if(G.stopPropagation(),!t()){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:'אין לך הרשאה למחיקת סג"חים',type:"warn",durationMs:3e3}}));return}const ie=e.find(pe=>pe.id===q);if(!ie)return;window.confirm(`האם אתה בטוח שברצונך למחוק את הסג"ח "${ie.name}"?
פעולה זו לא ניתנת לביטול.`)&&(o(q),console.log(`Deleted sagach "${ie.name}" (ID: ${q}). Remaining sagachs: ${e.length-1}`),(L==null?void 0:L.id)===q&&(dt(!1),j(null)),Pe(`הסג"ח "${ie.name}" נמחק בהצלחה`,"success"))},$e=()=>{if(!L||!B.trim())return;if(!t()){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"אין לך הרשאה להוסיף הודעות",type:"warn",durationMs:3e3}}));return}const q={id:Date.now().toString(),message:B.trim(),timestamp:Gt(_e().toISOString()),type:"user",processStatus:L.processStatus,author:(r==null?void 0:r.name)||"משתמש"},G={...L,statusUpdates:[...L.statusUpdates||[],q],lastUpdated:Or(_e())};console.log("💬 Adding update to sagach:",L.name),l(L.id,G),j(G),z(""),Pe("הודעה נוספה בהצלחה","success")},ot=()=>{if(!L)return;if(!t()){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:'אין לך הרשאה לערוך תג"ב למעבר לשלב הבא',type:"warn",durationMs:3e3}}));return}const q=L.estimatedCompletion||"";Ke(q),Be(!0)},Ge=()=>{if(!L||!Xe.trim())return;const q={...L,estimatedCompletion:Xe};l(L.id,q),j(q),Be(!1),Pe('תאריך התג"ב עודכן בהצלחה',"success")},ut=()=>{Be(!1),Ke("")},it=()=>{L&&(yt({description:L.description,provider:L.provider,arena:[...L.arena],priority:L.priority,sagachType:L.sagachType||"",processStatus:L.processStatus,attachments:L.attachments||[]}),dt(!0))},st=async()=>{if(L)try{if(Le.processStatus!==L.processStatus){if(!t()){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"אין לך הרשאה לערוך סטטוסים",type:"warn",durationMs:3e3}}));return}await ft(Le.processStatus)}else{const G={...L,description:Le.description.trim(),provider:Le.provider.trim(),arena:Le.arena,priority:Le.priority,sagachType:Le.sagachType.trim()||void 0,attachments:Le.attachments,lastUpdated:Or(_e())},ie={description:Le.description.trim(),provider:Le.provider.trim(),arena:Le.arena,priority:Le.priority,attachments:Le.attachments,lastUpdated:Or(_e())};Le.sagachType.trim()?ie.sagachType=Le.sagachType.trim():ie.sagachType=void 0,l(L.id,ie),j(G),dt(!1),Pe('פרטי הסג"ח עודכנו בהצלחה',"success")}}catch(q){console.error("Error updating sagach details:",q),Pe('שגיאה בעדכון פרטי הסג"ח',"warning")}},ft=async q=>{var G,ie,ce,pe,Te,ke;if(!(!L||q===L.processStatus))try{let we=0;if((ce=(ie=(G=L.phaseData)==null?void 0:G[L.processStatus])==null?void 0:ie.currentEntry)!=null&&ce.startDate){const Qe=L.phaseData[L.processStatus];we=Ye(Qe,!0)}const xe={id:Date.now().toString(),message:`שונה סטטוס מ-"${L.processStatus===7?"מובצע":pn[L.processStatus-1]}" ל-"${q===7?"מובצע":pn[q-1]}"${we>0?` •בשלב הקודם ${we} ימים`:""}`,timestamp:Gt(_e().toISOString()),type:"status_change",oldStatus:L.processStatus,newStatus:q,processStatus:L.processStatus,author:(r==null?void 0:r.name)||"משתמש"},je=_e(),qe={...L.phaseData||{}};if((ke=(Te=(pe=L.phaseData)==null?void 0:pe[L.processStatus])==null?void 0:Te.currentEntry)!=null&&ke.startDate){const Qe=qe[L.processStatus]||{},mt=new Date(Qe.currentEntry.startDate+"T00:00:00"),lt=new Date(je.toISOString().split("T")[0]+"T23:59:59"),Pt=Math.abs(lt.getTime()-mt.getTime()),It=Math.ceil(Pt/(1e3*60*60*24)),Ft={startDate:Qe.currentEntry.startDate,completionDate:je.toISOString().split("T")[0],timeSpentDays:It};qe[L.processStatus]={entries:[...Qe.entries||[],Ft],currentEntry:void 0,totalTimeSpentDays:It}}if(q<7){const Qe=qe[q]||{};if(Qe.currentEntry){const lt={startDate:Qe.currentEntry.startDate,completionDate:je.toISOString().split("T")[0],timeSpentDays:Math.ceil(Math.abs(new Date(je.toISOString().split("T")[0]+"T23:59:59").getTime()-new Date(Qe.currentEntry.startDate+"T00:00:00").getTime())/864e5)};qe[q]={...Qe,entries:[...Qe.entries||[],lt],currentEntry:{startDate:je.toISOString().split("T")[0],timeSpentDays:0},totalTimeSpentDays:Math.max(Ye(Qe,!1)+lt.timeSpentDays,Qe.totalTimeSpentDays||0)}}else{const lt={startDate:je.toISOString().split("T")[0],timeSpentDays:0};qe[q]={...Qe,currentEntry:lt,totalTimeSpentDays:Math.max(Ye(Qe,!1),Qe.totalTimeSpentDays||0)}}}const Ne={...L,description:Le.description.trim(),provider:Le.provider.trim(),arena:Le.arena,priority:Le.priority,sagachType:Le.sagachType.trim()||void 0,attachments:Le.attachments,processStatus:q,statusUpdates:[...L.statusUpdates||[],xe],lastUpdated:Or(je),phaseData:qe,completionDate:q===7?je.toISOString():L.completionDate};console.log("🔄 Changing status of sagach:",L.name,"to status",q),l(L.id,Ne),j(Ne),dt(!1),Pe(`פרטים נשמרו וסטטוס עודכן ל-"${q===7?"מובצע":pn[q-1]}"`,"success")}catch(we){console.error("Error updating process status:",we),Pe("שגיאה בעדכון השלב בתהליך","warning")}},pt=()=>{dt(!1),yt({description:"",provider:"",arena:[],priority:"בינוני",sagachType:"",processStatus:1,attachments:[]})},vt=()=>{p("")},Dt=()=>{m("")},Tt=()=>{C("")},$t=()=>{g("")},Wt=async()=>{if(!t()){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:'אין לך הרשאה ליצור סג"חים חדשים',type:"warn",durationMs:3e3}}));return}if(!Ee.name.trim()||!Ee.description.trim()||!Ee.provider.trim()||Ee.arena.length===0||!Ee.priority){alert("יש למלא את כל השדות הדרושים");return}Me(!0);try{await new Promise(ie=>setTimeout(ie,800));const G={id:"sagach"+(e.length+1),name:Ee.name.trim(),description:Ee.description.trim(),provider:Ee.provider.trim(),lastUpdated:Or(_e()),arena:Ee.arena,priority:Ee.priority,sagachType:Ee.sagachType.trim()||void 0,attachments:[],processStatus:1,processStartDate:_e().toISOString().split("T")[0],estimatedCompletion:"-",contactPerson:"",notes:"",notifications:!1,statusUpdates:[{id:Date.now().toString(),message:`נוצר סג"ח חדש: "${Ee.name.trim()}" • ספק: ${Ee.provider.trim()} • זירות: ${Ee.arena.join(", ")}${Ee.sagachType.trim()?` • סוג: ${Ee.sagachType.trim()}`:""}`,timestamp:Gt(_e().toISOString()),type:"system",processStatus:1,author:(r==null?void 0:r.name)||"משתמש"}],phaseData:{1:{currentEntry:{startDate:_e().toISOString().split("T")[0],timeSpentDays:0},totalTimeSpentDays:0},2:{},3:{},4:{},5:{},6:{},7:{}}};console.log("🆕 Creating new sagach:",G.name),n(G),Fe({name:"",description:"",provider:"",arena:[],priority:"בינוני",sagachType:""}),ve(!1),j(G),Pe('סג"ח חדש נוצר בהצלחה',"success")}catch(q){console.error("Error creating sagach:",q),Pe('שגיאה ביצירת הסג"ח',"warning")}finally{Me(!1)}},Gt=q=>{if(!q)return"לא צוין";try{const G=new Date(q);if(isNaN(G.getTime()))return q;const ie=G.getHours().toString().padStart(2,"0"),ce=G.getMinutes().toString().padStart(2,"0"),pe=G.getSeconds().toString().padStart(2,"0"),Te=G.getDate().toString().padStart(2,"0"),ke=(G.getMonth()+1).toString().padStart(2,"0"),we=G.getFullYear();return`${Te}/${ke}/${we} ${ie}:${ce}:${pe}`}catch{return q}},te=()=>{if(!L||!r)return;const q=r.id||"current_user",G=r.name||"משתמש",ie=i(L,q);let ce;ie?ce=f(L,q):ce=u(L,q,G,"email","status_change"),l(L.id,ce),j(ce),Pe(ie?"התראות בוטלו בהצלחה":"התראות הופעלו בהצלחה","success")};return F.jsxs(F.Fragment,{children:[F.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3,background:"rgba(0,0,0,0.8)",borderRadius:"12px",padding:Je?"16px":"8px",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(8px)",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>We(!Je),title:"לחץ לפתיחת פאנל בדיקת תאריכים",children:Je&&F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",minWidth:"200px"},onClick:q=>q.stopPropagation(),children:[F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"var(--text)",fontSize:"11px",fontWeight:"600"},children:[F.jsx("span",{children:"בדיקת תאריכים"}),F.jsx("button",{onClick:()=>We(!1),style:{background:"none",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:"14px",padding:"0",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:"סגור פאנל",children:"×"})]}),F.jsx("input",{type:"date",value:(He==null?void 0:He.toISOString().split("T")[0])||"",onChange:q=>{q.target.value?Ze(new Date(q.target.value+"T12:00:00")):Ze(null)},onClick:q=>q.stopPropagation(),style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"6px",padding:"6px 8px",color:"var(--text)",fontSize:"12px",fontFamily:"Segoe UI, sans-serif"}}),F.jsx("div",{style:{fontSize:"10px",color:"var(--muted)",textAlign:"center"},children:He?`תאריך מדומה: ${Or(He)}`:`תאריך אמיתי: ${Or(new Date)}`}),F.jsx("button",{onClick:q=>{q.stopPropagation(),Ze(null)},disabled:!He,style:{background:He?"linear-gradient(135deg, rgba(244,67,54,0.8), rgba(244,67,54,0.6))":"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:He?"white":"var(--muted)",fontSize:"10px",fontWeight:"600",cursor:He?"pointer":"not-allowed"},children:"איפוס לתאריך אמיתי"}),F.jsx("button",{onClick:q=>{q.stopPropagation(),s(),window.location.reload()},style:{background:"linear-gradient(135deg, rgba(255,152,0,0.8), rgba(255,152,0,0.6))",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"10px",fontWeight:"600",cursor:"pointer"},children:"איפוס נתונים"})]})}),F.jsx("style",{children:`
          @keyframes pulse-glow {
            0%, 100% {
              box-shadow: 0 0 12px rgba(124,192,255,0.6), 0 0 20px rgba(167,90,255,0.4);
              transform: scale(1);
            }
            50% {
              box-shadow: 0 0 20px rgba(124,192,255,0.8), 0 0 32px rgba(167,90,255,0.6), 0 0 44px rgba(124,192,255,0.4);
              transform: scale(1.05);
            }
          }
          
          /* Custom scrollbar styling for left-side positioning */
          .sagachim-grid-scroll::-webkit-scrollbar {
            width: 8px;
          }
          
          .sagachim-grid-scroll::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
          }
          
          .sagachim-grid-scroll::-webkit-scrollbar-thumb {
            background: rgba(124, 192, 255, 0.6);
            border-radius: 4px;
            transition: background 0.3s ease;
          }
          
          .sagachim-grid-scroll::-webkit-scrollbar-thumb:hover {
            background: rgba(124, 192, 255, 0.8);
          }
          
          /* For Firefox */
          .sagachim-grid-scroll {
            scrollbar-width: thin;
            scrollbar-color: rgba(124, 192, 255, 0.6) rgba(255, 255, 255, 0.1);
          }
        `}),F.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"radial-gradient(1200px 800px at 80% 20%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 10% 90%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",zIndex:-1}}),F.jsx("div",{className:"sagachim-status",style:{minHeight:"100vh",color:"var(--text)",fontFamily:'"Segoe UI", system-ui, sans-serif',width:"100%",boxSizing:"border-box",padding:"20px",position:"relative"},children:F.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"1400px",margin:"0 auto",width:"100%"},children:[F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px",width:"100%"},children:[F.jsxs("div",{style:{textAlign:"center",flex:1},children:[F.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",color:"var(--accent)",margin:"0 0 16px 0",letterSpacing:"0.5px",direction:"rtl"},children:'סטטוס סג"חים'}),F.jsx("p",{style:{fontSize:"16px",color:"var(--muted)",margin:0,direction:"rtl"},children:'מעקב אחר מצב הסג"חים בתהליך הכניסה'})]}),t()&&F.jsx("button",{onClick:()=>ve(!0),style:{...d.primary,background:"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",color:"white",marginLeft:"20px"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-2px)",q.currentTarget.style.boxShadow="0 6px 20px rgba(76,175,80,0.4)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0px)",q.currentTarget.style.boxShadow="none"},children:'+ צור סג"ח חדש'})]}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"32px",alignItems:"center",width:"100%"},children:[F.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap",alignItems:"center",width:"100%"},children:[F.jsxs("div",{style:{position:"relative",minWidth:"280px",maxWidth:"400px",flex:"1 1 300px"},children:[F.jsx("input",{type:"text",placeholder:"חיפוש לפי שם או תיאור...",value:h,onChange:q=>g(q.target.value),style:{width:"100%",padding:"12px 16px 12px 40px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"14px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",transition:"all 0.2s ease"},onFocus:q=>{q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 20px rgba(124,192,255,0.3)"},onBlur:q=>{q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none"}}),F.jsx("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted)",fontSize:"16px"},children:"🔍"})]}),F.jsxs("div",{style:{position:"relative",minWidth:"160px",maxWidth:"220px",flex:"0 1 180px"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{onClick:()=>x(!v),style:d.filter,onMouseEnter:q=>{q.target.style.transform="translateY(-1px)"},onMouseLeave:q=>{q.target.style.transform="translateY(0px)"},children:[F.jsx("span",{children:y||"כל הספקים"}),F.jsx("span",{style:{marginLeft:"8px"},children:"▼"})]}),v&&F.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",marginTop:"4px",zIndex:1e3,maxHeight:"200px",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)"},children:[F.jsx("div",{onClick:()=>{p(""),x(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",direction:"rtl"},onMouseEnter:q=>{q.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:q=>{q.target.style.background="transparent"},children:"כל הספקים"}),at.map(q=>F.jsx("div",{onClick:()=>{p(q),x(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",direction:"rtl"},onMouseEnter:G=>{G.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:G=>{G.target.style.background="transparent"},children:q},q))]})]}),F.jsxs("div",{style:{position:"relative",minWidth:"160px",maxWidth:"220px",flex:"0 1 180px"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{onClick:()=>_(!w),style:d.filter,onMouseEnter:q=>{q.target.style.transform="translateY(-1px)"},onMouseLeave:q=>{q.target.style.transform="translateY(0px)"},onFocus:q=>{const G=q.target;G.style.boxShadow="none",G.style.outline="none"},onBlur:q=>{const G=q.target;G.style.boxShadow="none"},children:[F.jsx("span",{children:b||"כל הזירות"}),F.jsx("span",{style:{marginLeft:"8px"},children:"▼"})]}),w&&F.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",marginTop:"4px",zIndex:1e3,maxHeight:"200px",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)"},children:[F.jsx("div",{onClick:()=>{m(""),_(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",direction:"rtl"},onMouseEnter:q=>{q.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:q=>{q.target.style.background="transparent"},children:"כל הזירות"}),wt.map(q=>F.jsx("div",{onClick:()=>{m(q),_(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",direction:"rtl"},onMouseEnter:G=>{G.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:G=>{G.target.style.background="transparent"},children:q},q))]})]}),F.jsxs("div",{style:{position:"relative",minWidth:"180px",maxWidth:"240px",flex:"0 1 200px"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{onClick:()=>R(!E),style:d.filter,onMouseEnter:q=>{q.target.style.transform="translateY(-1px)"},onMouseLeave:q=>{q.target.style.transform="translateY(0px)"},children:[F.jsx("span",{children:S?parseInt(S)===7?"מובצע":pn[parseInt(S)-1]:"כל שלבי התהליך"}),F.jsx("span",{style:{marginLeft:"8px"},children:"▼"})]}),E&&F.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",marginTop:"4px",zIndex:1e3,maxHeight:"200px",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)"},children:[F.jsx("div",{onClick:()=>{C(""),R(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",direction:"rtl"},onMouseEnter:q=>{q.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:q=>{q.target.style.background="transparent"},children:"כל שלבי התהליך"}),zs.map((q,G)=>F.jsx("div",{onClick:()=>{C((G+1).toString()),R(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",direction:"rtl"},onMouseEnter:ie=>{ie.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:ie=>{ie.target.style.background="transparent"},children:G+1===7?"מובצע":q},G+1))]})]}),F.jsxs("div",{style:{position:"relative",minWidth:"160px",maxWidth:"220px",flex:"0 1 180px"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{onClick:()=>X(!V),style:d.filter,onMouseEnter:q=>{q.target.style.transform="translateY(-1px)"},onMouseLeave:q=>{q.target.style.transform="translateY(0px)"},onFocus:q=>{const G=q.target;G.style.boxShadow="none",G.style.outline="none"},onBlur:q=>{const G=q.target;G.style.boxShadow="none"},children:[F.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[F.jsx("span",{children:"☰"}),F.jsx("span",{children:I==="asc"?"מההתחלה לסוף":I==="desc"?"מהסוף להתחלה":"סדר לפי"})]}),F.jsx("span",{style:{marginLeft:"8px"},children:"▼"})]}),V&&F.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",marginTop:"4px",zIndex:1e3,maxHeight:"200px",overflowY:"auto",boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)"},children:[F.jsxs("div",{onClick:()=>{P("none"),X(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:I==="none"?"var(--accent)":"#ffffff",textAlign:"center",direction:"rtl",background:I==="none"?"rgba(124,192,255,0.1)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:q=>{I!=="none"&&(q.target.style.background="rgba(255,255,255,0.08)")},onMouseLeave:q=>{I!=="none"?q.target.style.background="transparent":q.target.style.background="rgba(124,192,255,0.1)"},children:[I==="none"&&F.jsx("span",{style:{fontSize:"12px"},children:"✓"}),F.jsx("span",{children:"ללא מיון"})]}),F.jsxs("div",{onClick:()=>{P("asc"),X(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:I==="asc"?"var(--accent)":"#ffffff",textAlign:"center",direction:"rtl",background:I==="asc"?"rgba(124,192,255,0.1)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:q=>{I!=="asc"&&(q.target.style.background="rgba(255,255,255,0.08)")},onMouseLeave:q=>{I!=="asc"?q.target.style.background="transparent":q.target.style.background="rgba(124,192,255,0.1)"},children:[F.jsx("span",{style:{fontSize:"12px",opacity:.7}}),I==="asc"&&F.jsx("span",{style:{fontSize:"12px"},children:"✓"}),F.jsx("span",{children:" מההתחלה לסוף"})]}),F.jsxs("div",{onClick:()=>{P("desc"),X(!1)},style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:I==="desc"?"var(--accent)":"#ffffff",textAlign:"center",direction:"rtl",background:I==="desc"?"rgba(124,192,255,0.1)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:q=>{I!=="desc"&&(q.target.style.background="rgba(255,255,255,0.08)")},onMouseLeave:q=>{I!=="desc"?q.target.style.background="transparent":q.target.style.background="rgba(124,192,255,0.1)"},children:[F.jsx("span",{style:{fontSize:"12px",opacity:.7}}),I==="desc"&&F.jsx("span",{style:{fontSize:"12px"},children:"✓"}),F.jsx("span",{children:"מהסוף להתחלה"})]})]})]})]}),(y||b||S||h)&&F.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:[h&&F.jsxs("div",{style:{display:"flex",alignItems:"center",background:"rgba(124,192,255,0.2)",border:"1px solid rgba(124,192,255,0.4)",borderRadius:"20px",padding:"6px 12px",gap:"8px",direction:"rtl"},children:[F.jsxs("span",{style:{color:"var(--text)",fontSize:"12px",fontWeight:"500"},children:['חיפוש: "',h,'"']}),F.jsx("button",{onClick:$t,style:d.close,onMouseEnter:q=>{q.currentTarget.style.background="rgba(255,255,255,0.2)",q.currentTarget.style.color="var(--text)"},onMouseLeave:q=>{q.currentTarget.style.background="none",q.currentTarget.style.color="var(--muted)"},children:"×"})]}),y&&F.jsxs("div",{style:{display:"flex",alignItems:"center",background:"rgba(124,192,255,0.2)",border:"1px solid rgba(124,192,255,0.4)",borderRadius:"20px",padding:"6px 12px",gap:"8px",direction:"rtl"},children:[F.jsxs("span",{style:{color:"var(--text)",fontSize:"12px",fontWeight:"500"},children:["ספק: ",y]}),F.jsx("button",{onClick:vt,style:d.close,onMouseEnter:q=>{q.currentTarget.style.background="rgba(255,255,255,0.2)",q.currentTarget.style.color="var(--text)"},onMouseLeave:q=>{q.currentTarget.style.background="none",q.currentTarget.style.color="var(--muted)"},children:"×"})]}),b&&F.jsxs("div",{style:{display:"flex",alignItems:"center",background:"rgba(124,192,255,0.2)",border:"1px solid rgba(124,192,255,0.4)",borderRadius:"20px",padding:"6px 12px",gap:"8px",direction:"rtl"},children:[F.jsxs("span",{style:{color:"var(--text)",fontSize:"12px",fontWeight:"500"},children:["זירה: ",b]}),F.jsx("button",{onClick:Dt,style:d.close,onMouseEnter:q=>{q.currentTarget.style.background="rgba(255,255,255,0.2)",q.currentTarget.style.color="var(--text)"},onMouseLeave:q=>{q.currentTarget.style.background="none",q.currentTarget.style.color="var(--muted)"},children:"×"})]}),S&&F.jsxs("div",{style:{display:"flex",alignItems:"center",background:"rgba(124,192,255,0.2)",border:"1px solid rgba(124,192,255,0.4)",borderRadius:"20px",padding:"6px 12px",gap:"8px",direction:"rtl"},children:[F.jsxs("span",{style:{color:"var(--text)",fontSize:"12px",fontWeight:"500"},children:["שלב: ",parseInt(S)===7?"מובצע":pn[parseInt(S)-1]]}),F.jsx("button",{onClick:Tt,style:d.close,onMouseEnter:q=>{q.currentTarget.style.background="rgba(255,255,255,0.2)",q.currentTarget.style.color="var(--text)"},onMouseLeave:q=>{q.currentTarget.style.background="none",q.currentTarget.style.color="var(--muted)"},children:"×"})]})]}),F.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"24px",width:"100%",maxWidth:"1200px"},children:F.jsx("span",{style:{color:"var(--muted)",fontSize:"14px",direction:"rtl"}})}),F.jsx("div",{className:"sagachim-grid-scroll",style:{display:"flex",flexDirection:"column",gap:"32px",width:"100%",padding:"0 20px 0 20px",maxHeight:"calc(100vh - 400px)",overflowY:"auto",overflowX:"hidden",direction:"rtl"},children:y||b||S||h||I!=="none"?(I==="desc"?[7,6,5,4,3,2,1]:[1,2,3,4,5,6,7]).map(ie=>{const ce=ct.filter(pe=>pe.processStatus===ie);return ce.length===0?null:F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",padding:"0 8px"},children:[F.jsxs("div",{style:{background:ue(ie),color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"600",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px"},children:[ie===7&&"✅",ie===7?"מובצע":pn[ie-1]]}),F.jsx("span",{style:{color:"var(--muted)",fontSize:"12px",fontWeight:"500"}})]}),F.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px",justifyItems:"center"},children:ce.map(pe=>F.jsxs("div",{onClick:()=>ye(pe),style:{background:pe.processStatus===7?"linear-gradient(180deg, rgba(76,175,80,0.15), rgba(46,125,50,0.10))":"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:pe.processStatus===7?"1px solid rgba(76,175,80,0.3)":"1px solid rgba(255,255,255,0.12)",borderRadius:"16px",padding:"24px",boxShadow:pe.processStatus===7?"0 8px 32px rgba(76,175,80,0.2), inset 0 1px 0 rgba(76,175,80,0.1)":"0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1)",backdropFilter:"blur(8px)",transition:"all 0.3s ease",cursor:"pointer",position:"relative",overflow:"hidden",width:"100%",maxWidth:"320px"},onMouseEnter:Te=>{Te.currentTarget.style.transform="translateY(-4px)",Te.currentTarget.style.boxShadow=pe.processStatus===7?"0 12px 40px rgba(76,175,80,0.3), inset 0 1px 0 rgba(76,175,80,0.15)":"0 12px 40px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.15)"},onMouseLeave:Te=>{Te.currentTarget.style.transform="translateY(0px)",Te.currentTarget.style.boxShadow=pe.processStatus===7?"0 8px 32px rgba(76,175,80,0.2), inset 0 1px 0 rgba(76,175,80,0.1)":"0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[F.jsxs("div",{style:{position:"absolute",top:"16px",left:"16px",background:ue(pe.processStatus),color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600",letterSpacing:"0.5px",direction:"rtl",textAlign:"center",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[pe.processStatus===7&&"✅",pe.processStatus===7?"מובצע":pn[pe.processStatus-1]]}),F.jsxs("div",{style:{marginTop:"40px",direction:"rtl"},children:[F.jsx("h3",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text)",margin:"0 0 12px 0",lineHeight:"1.3"},children:pe.name}),F.jsx("p",{style:{fontSize:"14px",color:"var(--muted)",margin:"0 0 16px 0",lineHeight:"1.5",minHeight:"42px",whiteSpace:"pre-wrap",direction:"rtl",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:pe.description}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"16px"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"600"},children:"ספק:"}),F.jsx("span",{style:{fontSize:"12px",color:"var(--text)"},children:pe.provider})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"600"},children:"זירה:"}),F.jsx("span",{style:{fontSize:"12px",color:"var(--text)"},children:pe.arena})]})]})]}),F.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:pe.processStatus===7?"linear-gradient(135deg, rgba(76,175,80,0.15), rgba(46,125,50,0.1))":"linear-gradient(135deg, rgba(124,192,255,0.1), rgba(167,90,255,0.1))",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"}})]},pe.id))}),F.jsx("div",{style:{width:"100%",height:"1px",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",margin:"24px 0 8px 0"}})]},ie)}):F.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px",justifyItems:"center",width:"100%"},children:ct.map(G=>F.jsxs("div",{onClick:()=>ye(G),style:{background:G.processStatus===7?"linear-gradient(180deg, rgba(76,175,80,0.15), rgba(46,125,50,0.10))":"linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06))",border:G.processStatus===7?"1px solid rgba(76,175,80,0.3)":"1px solid rgba(255,255,255,0.12)",borderRadius:"16px",padding:"24px",boxShadow:G.processStatus===7?"0 8px 32px rgba(76,175,80,0.2), inset 0 1px 0 rgba(76,175,80,0.1)":"0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1)",backdropFilter:"blur(8px)",transition:"all 0.3s ease",cursor:"pointer",position:"relative",overflow:"hidden",width:"100%",maxWidth:"320px"},onMouseEnter:ie=>{ie.currentTarget.style.transform="translateY(-4px)",ie.currentTarget.style.boxShadow=G.processStatus===7?"0 12px 40px rgba(76,175,80,0.3), inset 0 1px 0 rgba(76,175,80,0.15)":"0 12px 40px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.15)"},onMouseLeave:ie=>{ie.currentTarget.style.transform="translateY(0px)",ie.currentTarget.style.boxShadow=G.processStatus===7?"0 8px 32px rgba(76,175,80,0.2), inset 0 1px 0 rgba(76,175,80,0.1)":"0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[F.jsxs("div",{style:{position:"absolute",top:"16px",left:"16px",background:ue(G.processStatus),color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",fontWeight:"600",letterSpacing:"0.5px",direction:"rtl",textAlign:"center",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[G.processStatus===7&&"✅",G.processStatus===7?"מובצע":pn[G.processStatus-1]]}),G.priority==="TOP"&&F.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",background:"linear-gradient(135deg, rgba(146, 23, 23, 0.9), rgba(236, 35, 35, 0.7))",color:"#FFFFFF",padding:"6px 12px",borderRadius:"999px",fontSize:"11px",fontWeight:"700",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 6px 18px rgba(255, 0, 0, 0.35)"},children:"TOP"}),F.jsxs("div",{style:{marginTop:"40px",direction:"rtl"},children:[F.jsx("h3",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text)",margin:"0 0 12px 0",lineHeight:"1.3"},children:G.name}),F.jsx("p",{style:{fontSize:"14px",color:"var(--muted)",margin:"0 0 16px 0",lineHeight:"1.5",minHeight:"42px",whiteSpace:"pre-wrap",direction:"rtl",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:G.description}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"16px"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"600"},children:"ספק:"}),F.jsx("span",{style:{fontSize:"12px",color:"var(--text)"},children:G.provider})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"600"},children:"זירה:"}),F.jsx("span",{style:{fontSize:"12px",color:"var(--text)"},children:G.arena})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"600"},children:"תעדוף:"}),F.jsx("span",{style:{fontSize:"12px"},children:$c[G.priority]})]}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"600"},children:"עודכן לאחרונה:"}),F.jsx("span",{style:{fontSize:"12px",color:"var(--text)"},children:G.lastUpdated})]})]})]}),F.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:G.processStatus===7?"linear-gradient(135deg, rgba(76,175,80,0.15), rgba(46,125,50,0.1))":"linear-gradient(135deg, rgba(124,192,255,0.1), rgba(167,90,255,0.1))",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"}})]},G.id))})}),ct.length===0&&F.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[F.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.5},children:"📋"}),F.jsx("h3",{style:{fontSize:"20px",color:"var(--muted)",margin:"0 0 8px 0",direction:"rtl"},children:'לא נמצאו סג"חים'}),F.jsx("p",{style:{fontSize:"14px",color:"var(--muted)",margin:0,direction:"rtl"},children:"נסה לשנות את החיפוש או הסינון"})]})]})]})}),L&&F.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",zIndex:1e3},onClick:()=>{dt(!1),j(null)},children:F.jsxs("div",{style:{background:"radial-gradient(1200px 800px at 50% 50%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 50% 50%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",border:"none",borderRadius:"0px",padding:"40px",width:"100vw",height:"100vh",overflow:"auto",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.1)",backdropFilter:"blur(12px)",direction:"rtl",position:"fixed",top:0,left:0,boxSizing:"border-box"},onClick:q=>q.stopPropagation(),children:[F.jsx("div",{style:{marginBottom:"32px",borderBottom:"1px solid rgba(255,255,255,0.2)",paddingBottom:"16px"},children:F.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[F.jsx("div",{style:{width:"200px",display:"flex",justifyContent:"flex-start"},children:t()&&F.jsx("button",{onClick:q=>{q.stopPropagation(),Se(L.id,q)},style:{...d.primary,background:"rgba(137, 37, 30, 0.9)",color:"white",fontSize:"16px"},onMouseEnter:q=>{q.currentTarget.style.background="rgba(244, 67, 54, 1)",q.currentTarget.style.transform="scale(1.05)"},onMouseLeave:q=>{q.currentTarget.style.background="rgba(244, 67, 54, 0.9)",q.currentTarget.style.transform="scale(1)"},title:'מחק סג"ח',children:"🗑️"})}),F.jsx("h2",{style:{color:"var(--accent)",fontSize:"40px",fontWeight:"700",margin:"0",textAlign:"center",flex:1},children:L.name}),F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",width:"200px",justifyContent:"flex-end"},children:[F.jsxs("button",{onClick:async()=>{const q=(r==null?void 0:r.id)||"current_user";i(L,q)?(se(!0),await new Promise(ie=>setTimeout(ie,500)),te(),se(!1)):Q(!0)},disabled:ne,style:{...d.primary,background:i(L,(r==null?void 0:r.id)||"current_user")?"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))":"rgba(255,255,255,0.1)",border:"1px solid "+(i(L,(r==null?void 0:r.id)||"current_user")?"rgba(76,175,80,0.8)":"rgba(255,255,255,0.2)"),borderRadius:"25px",color:i(L,(r==null?void 0:r.id)||"current_user")?"white":"var(--text)",fontSize:"16px",cursor:ne?"not-allowed":"pointer",opacity:ne?.7:1},onMouseEnter:q=>{!L.notifications&&!ne&&(q.currentTarget.style.background="rgba(124,192,255,0.2)",q.currentTarget.style.borderColor="rgba(124,192,255,0.5)")},onMouseLeave:q=>{!L.notifications&&!ne&&(q.currentTarget.style.background="rgba(255,255,255,0.1)",q.currentTarget.style.borderColor="rgba(255,255,255,0.2)")},children:[ne?F.jsx("div",{style:{width:"18px",height:"18px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}):i(L,(r==null?void 0:r.id)||"current_user")?"🔔":"🔕",ne?"מעדכן...":i(L,(r==null?void 0:r.id)||"current_user")?"מקבל התראות":"הירשם לעדכונים"]}),F.jsx("button",{onClick:()=>{dt(!1),j(null)},style:{...d.close,fontSize:"28px",padding:"12px",borderRadius:"12px",width:"auto",height:"auto"},onMouseEnter:q=>{q.currentTarget.style.background="rgba(255,255,255,0.1)"},onMouseLeave:q=>{q.currentTarget.style.background="transparent"},children:"←"})]})]})}),F.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(300px, 35%) minmax(400px, 65%)",gap:"24px",height:"calc(100vh - 120px)",minHeight:"600px",alignItems:"stretch",overflow:"hidden",maxWidth:"100%",boxSizing:"border-box"},children:[F.jsxs("div",{style:{background:"rgba(124,192,255,0.08)",border:"2px solid rgba(124,192,255,0.2)",borderRadius:"20px",padding:"24px",display:"flex",flexDirection:"column",height:"100%",overflowY:"auto"},children:[F.jsx("h4",{style:{color:"white",fontSize:"24px",fontWeight:"600",margin:"0 0 12px 0",textAlign:"center",paddingBottom:"8px",borderBottom:"2px solid rgba(255,255,255,0.3)"},children:'פרטי הסג"ח'}),t()&&F.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:rt?F.jsxs(F.Fragment,{children:[F.jsx("button",{onClick:st,style:{background:"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",border:"none",borderRadius:"12px",color:"white",padding:"10px 20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Segoe UI, sans-serif",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow="0 6px 20px rgba(76,175,80,0.3)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="none"},children:"✅ שמור"}),F.jsx("button",{onClick:pt,style:{background:"linear-gradient(135deg, rgba(244,67,54,0.8), rgba(244,67,54,0.6))",border:"none",borderRadius:"12px",color:"white",padding:"10px 20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Segoe UI, sans-serif",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow="0 6px 20px rgba(244,67,54,0.3)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="none"},children:"❌ בטל"})]}):F.jsx("button",{onClick:it,style:{background:"linear-gradient(135deg, rgba(255,193,7,0.8), rgba(255,193,7,0.6))",border:"none",borderRadius:"12px",color:"white",padding:"10px 20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Segoe UI, sans-serif",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow="0 6px 20px rgba(255,193,7,0.3)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="none"},children:"✏️ ערוך פרטים"})}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginBottom:"16px"},children:[F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"תיאור"}),rt?F.jsx("textarea",{value:Le.description,onChange:q=>yt(G=>({...G,description:q.target.value})),style:{width:"100%",minHeight:"80px",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"16px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",resize:"vertical",lineHeight:"1.6",boxSizing:"border-box"},onFocus:q=>{q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)"},onBlur:q=>{q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none"}}):F.jsx("p",{style:{color:"var(--text)",fontSize:"16px",margin:0,lineHeight:"1.6",whiteSpace:"pre-wrap",direction:"rtl"},children:L.description})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"ספק"}),rt?F.jsx("input",{type:"text",value:Le.provider,onChange:q=>yt(G=>({...G,provider:q.target.value})),style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"18px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",boxSizing:"border-box"},onFocus:q=>{q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)"},onBlur:q=>{q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none"}}):F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8"},children:L.provider})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"זירה"}),rt?F.jsxs("div",{style:{position:"relative"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{type:"button",onClick:()=>M(q=>!q),style:{appearance:"none",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.08)",borderRadius:"12px",color:"#ffffff",padding:"12px 16px",cursor:"pointer",fontSize:"16px",direction:"rtl",outline:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",fontFamily:"Segoe UI, sans-serif"},children:[F.jsx("span",{style:{textAlign:"right",flex:1},children:Le.arena.length===0?"בחר זירות...":Le.arena.join(", ")}),F.jsx("span",{style:{marginLeft:"8px",fontSize:"12px"},children:"▼"})]}),N&&F.jsx("div",{style:{position:"absolute",top:"calc(100% + 4px)",right:0,left:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",zIndex:1e3,boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)",overflow:"hidden",maxHeight:"200px",overflowY:"auto"},children:im.map(q=>F.jsxs("div",{onClick:G=>{G.stopPropagation();const ie=Le.arena.includes(q);yt(ce=>({...ce,arena:ie?ce.arena.filter(pe=>pe!==q):[...ce.arena,q]}))},style:{padding:"10px 16px",cursor:"pointer",transition:"background 0.2s ease",direction:"rtl",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",background:Le.arena.includes(q)?"rgba(124,192,255,0.15)":"transparent",color:"var(--text)"},onMouseEnter:G=>{G.currentTarget.style.background="rgba(124,192,255,0.15)"},onMouseLeave:G=>{Le.arena.includes(q)||(G.currentTarget.style.background="transparent")},children:[F.jsx("span",{children:q}),Le.arena.includes(q)&&F.jsx("span",{style:{color:"var(--accent)",fontSize:"12px"},children:"✓"})]},`edit-arena-${q}`))})]}):F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8"},children:L.arena.join(", ")})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"תעדוף"}),rt?F.jsxs("div",{style:{position:"relative"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{type:"button",onClick:()=>K(q=>!q),style:{appearance:"none",border:"1px solid rgba(255,255,255,0.14)",background:"rgba(255,255,255,0.06)",borderRadius:"12px",color:"#ffffff",padding:"10px 16px",cursor:"pointer",fontSize:"16px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[F.jsx("span",{children:$c[Le.priority]}),F.jsx("span",{style:{marginLeft:"8px",fontSize:"12px"},children:"▼"})]}),D&&F.jsx("div",{style:{position:"absolute",top:"calc(100% + 4px)",right:0,left:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",zIndex:1e3,boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)",overflow:"hidden"},children:am.map(q=>F.jsxs("div",{onClick:()=>{K(!1),yt(G=>({...G,priority:q}))},style:{padding:"10px 16px",cursor:"pointer",transition:"background 0.2s ease",direction:"rtl",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",background:Le.priority===q?"rgba(124,192,255,0.15)":"transparent",fontWeight:q==="TOP"?700:500},onMouseEnter:G=>{G.currentTarget.style.background="rgba(124,192,255,0.15)"},onMouseLeave:G=>{Le.priority!==q&&(G.currentTarget.style.background="transparent")},children:[F.jsx("span",{children:q==="TOP"?"TOP":q}),q===Le.priority&&F.jsx("span",{children:"✓"})]},`edit-priority-${q}`))})]}):F.jsx("p",{style:{fontSize:"18px",margin:0,lineHeight:"1.8"},children:$c[L.priority]})]}),(rt||L.sagachType)&&F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:'סוג הסג"ח'}),rt?F.jsx("input",{type:"text",value:Le.sagachType,onChange:q=>yt(G=>({...G,sagachType:q.target.value})),placeholder:"הכנס סוג הסג'ח (אופציונלי)...",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"18px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",boxSizing:"border-box"},onFocus:q=>{q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)"},onBlur:q=>{q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none"}}):F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8"},children:L.sagachType})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"שלב בתהליך"}),rt?F.jsxs("div",{style:{position:"relative"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{type:"button",onClick:()=>R(q=>!q),style:{appearance:"none",border:"1px solid rgba(255,255,255,0.14)",background:"rgba(255,255,255,0.06)",borderRadius:"12px",color:"#ffffff",padding:"10px 16px",cursor:"pointer",fontSize:"16px",direction:"rtl",outline:"none",fontFamily:"Segoe UI, sans-serif",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[F.jsx("span",{children:zs[Le.processStatus-1]}),F.jsx("span",{style:{marginLeft:"8px",fontSize:"12px"},children:"▼"})]}),E&&F.jsx("div",{style:{position:"absolute",top:"calc(100% + 4px)",right:0,left:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",zIndex:1e3,boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)",overflow:"hidden"},children:zs.map((q,G)=>F.jsx("div",{onClick:()=>{yt(ie=>({...ie,processStatus:G+1})),R(!1)},style:{padding:"12px 16px",cursor:"pointer",borderBottom:G<zs.length-1?"1px solid rgba(255,255,255,0.08)":"none",transition:"background 0.2s ease",fontSize:"14px",direction:"rtl",color:Le.processStatus===G+1?"rgba(124,192,255,1)":"#ffffff"},onMouseEnter:ie=>{ie.target.style.background="rgba(255,255,255,0.08)"},onMouseLeave:ie=>{ie.target.style.background="transparent"},children:q},G+1))})]}):F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8"},children:zs[L.processStatus-1]})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"סטטוס נוכחי"}),F.jsx("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"20px",fontSize:"18px",color:"var(--text)",lineHeight:"1.8",direction:"rtl"},children:(()=>{if(!(L!=null&&L.statusUpdates)||L.statusUpdates.length===0)return F.jsx("span",{style:{fontStyle:"italic",color:"var(--muted)"},children:"אין עדכוני סטטוס"});const G=[...L.statusUpdates].sort((ie,ce)=>{const pe=xe=>{if(xe.includes("/")){const[je,qe]=xe.split(" "),[Ne,Qe,mt]=je.split("/");return new Date(`${mt}-${Qe}-${Ne} ${qe}`)}else return new Date(xe)},Te=pe(ie.timestamp),ke=pe(ce.timestamp);if(isNaN(Te.getTime())&&isNaN(ke.getTime()))return parseInt(ce.id)-parseInt(ie.id);if(isNaN(Te.getTime()))return 1;if(isNaN(ke.getTime()))return-1;const we=ke.getTime()-Te.getTime();return we!==0?we:parseInt(ce.id)-parseInt(ie.id)})[0];return G!=null&&G.message?F.jsxs("div",{children:[F.jsxs("div",{style:{fontSize:"16px",color:"var(--muted)",marginBottom:"10px",display:"flex",alignItems:"center",gap:"4px"},children:[G.type==="status_change"&&"🔄",G.type==="system"&&"⚙️",G.type==="user"&&"👤",F.jsx("span",{children:Gt(G.timestamp)})]}),F.jsx("div",{children:G.message})]}):F.jsx("span",{style:{fontStyle:"italic",color:"var(--muted)"},children:"אין עדכוני סטטוס"})})()},((be=L.statusUpdates)==null?void 0:be.length)||0)]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"תאריך התחלה"}),F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8"},children:L.processStartDate?Or(new Date(L.processStartDate)):"לא צוין"})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:'תג"ב למעבר לשלב הבא'}),Ce?F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[F.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:F.jsx("input",{type:"text",value:Xe,onChange:q=>{Ke(q.target.value)},placeholder:"dd/MM/yyyy",style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(124,192,255,0.3)",borderRadius:"8px",padding:"12px",color:"var(--text)",fontSize:"16px",direction:"ltr",textAlign:"right"},autoFocus:!0})}),F.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[F.jsx("button",{onClick:Ge,style:{background:"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",border:"1px solid rgba(76,175,80,0.5)",borderRadius:"6px",padding:"8px 16px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow="0 4px 12px rgba(76,175,80,0.3)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0px)",q.currentTarget.style.boxShadow="none"},children:"✓ שמור"}),F.jsx("button",{onClick:ut,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",padding:"8px 16px",color:"var(--text)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:q=>{q.currentTarget.style.background="rgba(255,255,255,0.2)"},onMouseLeave:q=>{q.currentTarget.style.background="rgba(255,255,255,0.1)"},children:"❌ ביטול"})]})]}):rt&&t()?F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8",cursor:"pointer",padding:"8px 12px",borderRadius:"8px",background:"rgba(124,192,255,0.1)",border:"1px solid rgba(124,192,255,0.3)",transition:"all 0.2s ease",direction:"rtl"},onClick:ot,onMouseEnter:q=>{q.currentTarget.style.background="rgba(124,192,255,0.2)",q.currentTarget.style.borderColor="rgba(124,192,255,0.5)"},onMouseLeave:q=>{q.currentTarget.style.background="rgba(124,192,255,0.1)",q.currentTarget.style.borderColor="rgba(124,192,255,0.3)"},title:"לחץ לעריכת התאריך",children:L.estimatedCompletion||"-"}):F.jsx("p",{style:{color:"var(--text)",fontSize:"18px",margin:0,lineHeight:"1.8",direction:"rtl"},children:L.estimatedCompletion||"-"})]}),F.jsxs("div",{children:[F.jsx("h4",{style:{color:"rgba(124,192,255,0.9)",fontSize:"18px",fontWeight:"600",margin:"0 0 8px 0"},children:"קבצים רלוונטים"}),rt?F.jsxs("div",{style:{border:"2px dashed rgba(124,192,255,0.3)",borderRadius:"12px",padding:"20px",textAlign:"center",background:"rgba(255,255,255,0.02)",marginBottom:"16px"},children:[F.jsx("input",{type:"file",multiple:!0,onChange:q=>{const G=Array.from(q.target.files||[]),ie=10*1024*1024;G.forEach(ce=>{if(ce.size>ie){Pe(`הקובץ "${ce.name}" גדול מדי (${om(ce.size)}). מקסימום: 10MB`,"warning");return}const pe=new FileReader;pe.onload=Te=>{var we;const ke={id:Date.now().toString()+Math.random().toString(36),name:ce.name,size:ce.size,type:ce.type||"application/octet-stream",uploadDate:new Date().toISOString(),data:(we=Te.target)==null?void 0:we.result};yt(xe=>({...xe,attachments:[...xe.attachments,ke]})),Pe(`הקובץ "${ce.name}" הועלה בהצלחה`,"success")},pe.readAsDataURL(ce)}),q.target.value=""},style:{display:"none"},id:"file-upload-input"}),F.jsxs("label",{htmlFor:"file-upload-input",style:{cursor:"pointer",display:"block"},children:[F.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",color:"rgba(124,192,255,0.6)"},children:"📁"}),F.jsx("div",{style:{fontSize:"16px",color:"rgba(124,192,255,0.8)",marginBottom:"8px"},children:"לחץ כאן או גרור קבצים להעלאה"}),F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",opacity:.7},children:"תומך בכל סוגי הקבצים • מקסימום 10MB לקובץ"})]})]}):null,F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(rt?Le.attachments:L.attachments||[]).map((q,G)=>F.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease"},onMouseEnter:ie=>{ie.currentTarget.style.background="rgba(255,255,255,0.08)",ie.currentTarget.style.borderColor="rgba(124,192,255,0.3)"},onMouseLeave:ie=>{ie.currentTarget.style.background="rgba(255,255,255,0.05)",ie.currentTarget.style.borderColor="rgba(255,255,255,0.1)"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[F.jsx("div",{style:{fontSize:"20px"},children:q.type.startsWith("image/")?"🖼️":q.type.startsWith("video/")?"🎥":q.type.startsWith("audio/")?"🎵":q.type==="application/pdf"?"📄":q.type.includes("word")?"📝":q.type.includes("excel")||q.type.includes("spreadsheet")?"📊":q.type.includes("powerpoint")||q.type.includes("presentation")?"📈":"📎"}),F.jsxs("div",{style:{flex:1},children:[F.jsx("div",{style:{fontSize:"14px",color:"var(--text)",fontWeight:"500",marginBottom:"2px"},children:q.name}),F.jsxs("div",{style:{fontSize:"11px",color:"var(--muted)",opacity:.7},children:[om(q.size)," • ",Or(new Date(q.uploadDate))]})]})]}),F.jsxs("div",{style:{display:"flex",gap:"8px"},children:[F.jsx("button",{onClick:()=>{const ie=document.createElement("a");ie.href=q.data||q.url||"",ie.download=q.name,ie.click()},style:{background:"rgba(76,175,80,0.2)",border:"1px solid rgba(76,175,80,0.3)",borderRadius:"6px",padding:"6px 10px",color:"rgba(76,175,80,1)",fontSize:"16px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ie=>{ie.currentTarget.style.background="rgba(76,175,80,0.3)"},onMouseLeave:ie=>{ie.currentTarget.style.background="rgba(76,175,80,0.2)"},title:"הורד קובץ",children:"⬇️"}),rt&&F.jsx("button",{onClick:()=>{yt(ie=>({...ie,attachments:ie.attachments.filter(ce=>ce.id!==q.id)}))},style:{background:"rgba(244,67,54,0.2)",border:"1px solid rgba(244,67,54,0.3)",borderRadius:"6px",padding:"6px 10px",color:"rgba(244,67,54,1)",fontSize:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ie=>{ie.currentTarget.style.background="rgba(244,67,54,0.3)"},onMouseLeave:ie=>{ie.currentTarget.style.background="rgba(244,67,54,0.2)"},title:"מחק קובץ",children:"🗑️"})]})]},q.id)),(rt?Le.attachments:L.attachments||[]).length===0&&F.jsx("div",{style:{textAlign:"center",color:"var(--muted)",fontSize:"14px",padding:"20px",opacity:.6},children:rt?"לא הועלו קבצים עדיין":"אין קבצים רלוונטים"})]})]})]})]}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",height:"100%",overflow:"hidden",minWidth:0,boxSizing:"border-box"},children:[F.jsxs("div",{style:{background:"rgba(124,192,255,0.08)",border:"2px solid rgba(124,192,255,0.2)",borderRadius:"20px",padding:"20px",height:"300px",flexShrink:0,overflowY:"hidden",maxWidth:"100%",boxSizing:"border-box"},children:[F.jsx("h3",{style:{color:"white",fontSize:"24px",fontWeight:"600",marginBottom:"4px",marginTop:"0px",textAlign:"center",direction:"rtl"},children:'תהליך הכנסת הסג"ח'}),F.jsx("div",{style:{display:"flex",flexDirection:"row",gap:"20px",overflowX:"auto",direction:"rtl",padding:"12px",justifyContent:"center",marginTop:"0px"},children:pn.map((q,G)=>{var we,xe;const ie=G+1,ce=L.processStatus===7?!1:L.processStatus===ie,pe=L.processStatus===7?ie<=6:L.processStatus>ie,Te=L.processStatus===7?!1:L.processStatus<ie,ke=(we=L.phaseData)==null?void 0:we[ie];return F.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:"130px",maxWidth:"150px",padding:"8px 8px",position:"relative"},children:[F.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:ce?(()=>{const je=ue(ie),qe=je.replace("0.8)","0.6)");return`linear-gradient(135deg, ${je}, ${qe})`})():pe?"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))":"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"18px",flexShrink:0,animation:ce?"pulse-glow 2s ease-in-out infinite":"none",marginBottom:"12px"},children:pe?"✓":ie}),F.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:ce?"var(--accent)":"var(--text)",marginBottom:"8px",textAlign:"center",lineHeight:"1.2",direction:"rtl"},children:q}),F.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2px",fontSize:"12px",color:"var(--muted)",textAlign:"center",direction:"rtl"},children:(ce||pe)&&ke&&F.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[F.jsxs("div",{children:[F.jsxs("strong",{children:[Ye(ke,ce)," ימים"]}),ke.entries&&ke.entries.length>1&&F.jsx("span",{style:{fontSize:"10px",color:"var(--accent)",marginRight:"4px"},children:"(כולל חזרה)"})]}),(ke.entries&&ke.entries.length>0||ke.currentEntry)&&F.jsx("div",{style:{fontSize:"8px",color:"var(--muted)",opacity:.7},children:Ve(ke,ce)}),((xe=ke.currentEntry)==null?void 0:xe.startDate)&&F.jsxs("div",{style:{fontSize:"9px",color:"var(--muted)",opacity:.8},children:["החל: ",Or(new Date(ke.currentEntry.startDate))]})]})}),ce&&F.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",fontWeight:"600",marginTop:"8px",textAlign:"center",background:"rgba(124,192,255,0.2)",padding:"6px 12px",borderRadius:"12px",direction:"rtl"},children:"נוכחי"}),pe&&F.jsx("div",{style:{fontSize:"12px",color:"rgba(76,175,80,0.9)",fontWeight:"600",marginTop:"8px",textAlign:"center",background:"rgba(76,175,80,0.2)",padding:"6px 12px",borderRadius:"12px",direction:"rtl"},children:L.processStatus===7&&ie===6?"הושלם ":"הושלם"}),Te&&F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",fontWeight:"500",marginTop:"8px",textAlign:"center",background:"rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:"12px",direction:"rtl"},children:"ממתין"}),G<5&&F.jsx("div",{style:{position:"absolute",left:"-20px",top:"40px",width:"40px",height:"3px",background:(L.processStatus===7?G<5:pe)?"rgba(76,175,80,0.6)":ce&&G<L.processStatus-1?"rgba(124,192,255,0.6)":"rgba(255,255,255,0.3)",zIndex:1},children:F.jsx("div",{style:{position:"absolute",left:"-6px",top:"50%",transform:"translateY(-50%)",width:0,height:0,borderTop:"4px solid transparent",borderBottom:"4px solid transparent",borderRight:`8px solid ${(L.processStatus===7?G<5:pe)?"rgba(76,175,80,0.6)":ce&&G<L.processStatus-1?"rgba(124,192,255,0.6)":"rgba(255,255,255,0.3)"}`}})})]},`${ie}-${L.id}-${L.processStatus}-${L.lastUpdated}-${ht.getTime()}-${Ae}-${Oe}`)})})]}),F.jsxs("div",{style:{background:"rgba(124,192,255,0.08)",border:"2px solid rgba(124,192,255,0.2)",borderRadius:"20px",padding:"24px",display:"flex",flexDirection:"column",height:"65%",minHeight:0,overflow:"hidden",maxWidth:"100%",boxSizing:"border-box"},children:[F.jsx("h4",{style:{color:"white",fontSize:"28px",fontWeight:"600",margin:"0 0 16px 0",textAlign:"center"},children:"עדכוני סטטוס"}),F.jsx("div",{ref:k,style:{height:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"16px",marginBottom:"16px",overflowY:"auto",direction:"rtl",minHeight:0},children:L.statusUpdates&&L.statusUpdates.length>0?L.statusUpdates.sort((q,G)=>{const ie=ke=>{if(ke.includes("/")){const[we,xe]=ke.split(" "),[je,qe,Ne]=we.split("/");return new Date(`${Ne}-${qe}-${je} ${xe}`)}else return new Date(ke)},ce=ie(q.timestamp),pe=ie(G.timestamp),Te=ce.getTime()-pe.getTime();return Te!==0?Te:parseInt(q.id)-parseInt(G.id)}).map(q=>{let G;if(q.type==="system")G="rgba(124,192,255, 0.8)";else{const pe=q.type==="status_change"&&q.newStatus?q.newStatus:q.processStatus;G=pe?ue(pe):"rgba(158, 158, 158, 0.8)"}const ie=G.replace("0.8)","0.1)"),ce=G.replace("0.8)","0.3)");return G.replace("0.8)","0.2)"),F.jsxs("div",{style:{padding:"12px",marginBottom:"8px",background:ie,border:`1px solid ${ce}`,borderRadius:"8px",position:"relative"},children:[F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[F.jsxs("div",{style:{fontSize:"11px",color:"var(--muted)",display:"flex",alignItems:"center",gap:"8px"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[q.type==="status_change"&&"🔄",q.type==="system"&&"⚙️",q.type==="user"&&"👤",Gt(q.timestamp)]}),q.author&&F.jsx("div",{style:{fontSize:"11px",color:"var(--accent)",fontWeight:"600"},children:q.author})]}),F.jsx("div",{style:{fontSize:"10px",color:"white",fontWeight:"600",background:G,padding:"2px 6px",borderRadius:"10px"},children:(()=>{const pe=q.type==="status_change"&&q.newStatus?q.newStatus:q.processStatus;return pe?pe===7?"מובצע":pn[pe-1]:"לא זמין"})()})]}),F.jsx("div",{style:{fontSize:"14px",color:"var(--text)",lineHeight:"1.4"},children:q.message})]},q.id)}):F.jsx("div",{style:{textAlign:"center",color:"var(--muted)",fontSize:"14px",padding:"20px"},children:"אין עדכונים עדיין"})}),t()&&F.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"16px"},children:[F.jsx("textarea",{value:B,onChange:q=>z(q.target.value),placeholder:"הכנס עדכון או הערה על התהליך...",style:{width:"100%",minHeight:"60px",background:"transparent",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",padding:"12px",color:"var(--text)",fontSize:"14px",direction:"rtl",fontFamily:"Segoe UI, sans-serif",outline:"none",resize:"vertical",lineHeight:"1.5"},onFocus:q=>{q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 2px rgba(124,192,255,0.2)"},onBlur:q=>{q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none"},onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),$e())}}),F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px"},children:[F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:"Enter לשליחה, Shift+Enter לשורה חדשה"}),F.jsx("button",{onClick:$e,disabled:!B.trim(),style:{background:B.trim()?"linear-gradient(135deg, rgba(124,192,255,0.8), rgba(124,192,255,0.6))":"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px 16px",color:B.trim()?"white":"var(--muted)",fontSize:"14px",fontWeight:"600",cursor:B.trim()?"pointer":"not-allowed",transition:"all 0.2s ease",direction:"rtl"},onMouseEnter:q=>{B.trim()&&(q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow="0 4px 12px rgba(124,192,255,0.4)")},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0px)",q.currentTarget.style.boxShadow="none"},children:"שלח עדכון"})]})]})]})]})]})]})}),ee&&F.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",zIndex:1100,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>Q(!1),children:F.jsxs("div",{style:{background:"radial-gradient(1200px 800px at 50% 50%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 50% 50%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"20px",padding:"32px",maxWidth:"500px",width:"90%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",backdropFilter:"blur(12px)",direction:"rtl"},onClick:q=>q.stopPropagation(),children:[F.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[F.jsx("h3",{style:{color:"var(--accent)",fontSize:"24px",fontWeight:"600",margin:"0 0 8px 0"},children:"הגדרות התראות"}),F.jsx("p",{style:{color:"var(--muted)",fontSize:"14px",margin:0},children:'בחר איך תרצה לקבל עדכונים על סג"ח זה'})]}),F.jsxs("div",{style:{marginBottom:"24px"},children:[F.jsx("h4",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0"},children:"איך תרצה לקבל עדכונים?"}),F.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[F.jsx("button",{onClick:()=>le("email"),style:{background:Z==="email"?"linear-gradient(135deg, rgba(124,192,255,0.8), rgba(124,192,255,0.6))":"rgba(255,255,255,0.08)",border:"1px solid "+(Z==="email"?"rgba(124,192,255,0.8)":"rgba(255,255,255,0.2)"),borderRadius:"12px",padding:"12px 20px",color:Z==="email"?"white":"var(--text)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",flex:"1",minWidth:"120px"},children:"📧 מייל"}),F.jsx("button",{onClick:()=>le("whatsapp"),style:{background:Z==="whatsapp"?"linear-gradient(135deg, rgba(49, 10, 244, 0.8), rgba(49, 19, 245, 0.6))":"rgba(255,255,255,0.08)",border:"1px solid "+(Z==="whatsapp"?"rgba(13, 27, 224, 0.8)":"rgba(255,255,255,0.2)"),borderRadius:"12px",padding:"12px 20px",color:Z==="whatsapp"?"white":"var(--text)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",flex:"1",minWidth:"120px"},children:"💬 HiChat"})]})]}),F.jsxs("div",{style:{marginBottom:"32px"},children:[F.jsx("h4",{style:{color:"var(--text)",fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0"},children:"באיזו תדירות?"}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[F.jsx("button",{onClick:()=>J("status_change"),style:{background:ae==="status_change"?"linear-gradient(135deg, rgba(124,192,255,0.8), rgba(124,192,255,0.6))":"rgba(255,255,255,0.08)",border:"1px solid "+(ae==="status_change"?"rgba(124,192,255,0.8)":"rgba(255,255,255,0.2)"),borderRadius:"12px",padding:"12px 16px",color:ae==="status_change"?"white":"var(--text)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"right"},children:"🔄 רק כשמשתנה סטטוס"}),F.jsx("button",{onClick:()=>J("weekly"),style:{background:ae==="weekly"?"linear-gradient(135deg, rgba(255,152,0,0.8), rgba(255,152,0,0.6))":"rgba(255,255,255,0.08)",border:"1px solid "+(ae==="weekly"?"rgba(255,152,0,0.8)":"rgba(255,255,255,0.2)"),borderRadius:"12px",padding:"12px 16px",color:ae==="weekly"?"white":"var(--text)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"right"},children:"📅 שבועי"}),F.jsx("button",{onClick:()=>J("daily"),style:{background:ae==="daily"?"linear-gradient(135deg, rgba(233,30,99,0.8), rgba(233,30,99,0.6))":"rgba(255,255,255,0.08)",border:"1px solid "+(ae==="daily"?"rgba(233,30,99,0.8)":"rgba(255,255,255,0.2)"),borderRadius:"12px",padding:"12px 16px",color:ae==="daily"?"white":"var(--text)",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"right"},children:"🌅 יומי"})]})]}),F.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[F.jsxs("button",{onClick:async()=>{if(L){se(!0);try{await new Promise(ce=>setTimeout(ce,600));const q=(r==null?void 0:r.id)||"current_user",G=(r==null?void 0:r.name)||"משתמש",ie=u(L,q,G,Z,ae);l(L.id,ie),j(ie),Q(!1),Pe(`התראות הוגדרו בהצלחה דרך ${Z==="email"?"מייל":"וואטסאפ"}`,"success")}catch(q){console.error("Error setting up notifications:",q),Pe("שגיאה בהגדרת התראות","warning")}finally{se(!1)}}},disabled:ne,style:{...d.primary,background:ne?"linear-gradient(135deg, rgba(76,175,80,0.4), rgba(76,175,80,0.3))":"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",color:"white",cursor:ne?"not-allowed":"pointer",opacity:ne?.7:1},children:[ne?F.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}):"✅",ne?"מגדיר התראות...":"אשר והפעל התראות"]}),F.jsx("button",{onClick:()=>Q(!1),style:{...d.primary,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--text)"},children:"ביטול"})]})]})}),ge&&F.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{he||(ve(!1),Fe({name:"",description:"",provider:"",arena:[],priority:"בינוני",sagachType:""}))},children:F.jsxs("div",{style:{background:"radial-gradient(1200px 800px at 50% 50%, rgba(124,192,255,0.15), transparent 50%), radial-gradient(1000px 700px at 50% 50%, rgba(167, 90, 255, 0.12), transparent 50%), var(--bg)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"20px",padding:"32px",maxWidth:"600px",width:"90%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",backdropFilter:"blur(12px)",direction:"rtl"},onClick:q=>q.stopPropagation(),children:[F.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[F.jsx("h3",{style:{color:"var(--accent)",fontSize:"28px",fontWeight:"700",margin:"0 0 12px 0"},children:'יצירת סג"ח חדש'}),F.jsx("p",{style:{color:"var(--muted)",fontSize:"16px",margin:0},children:'מלא את הפרטים הדרושים ליצירת הסג"ח החדש'})]}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginBottom:"32px"},children:[F.jsxs("div",{children:[F.jsx("label",{style:{display:"block",color:"var(--text)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:'שם הסג"ח *'}),F.jsx("input",{type:"text",value:Ee.name,onChange:q=>Fe(G=>({...G,name:q.target.value})),placeholder:"הכנס שם לסג'ח החדש...",disabled:he,style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",opacity:he?.6:1,cursor:he?"not-allowed":"text",boxSizing:"border-box"},onFocus:q=>{he||(q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)")},onBlur:q=>{he||(q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none")}})]}),F.jsxs("div",{children:[F.jsx("label",{style:{display:"block",color:"var(--text)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"תיאור *"}),F.jsx("textarea",{value:Ee.description,onChange:q=>Fe(G=>({...G,description:q.target.value})),placeholder:"הכנס תיאור מפורט לסג'ח...",disabled:he,rows:3,style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",resize:"vertical",minHeight:"80px",opacity:he?.6:1,cursor:he?"not-allowed":"text",boxSizing:"border-box"},onFocus:q=>{he||(q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)")},onBlur:q=>{he||(q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none")}})]}),F.jsxs("div",{children:[F.jsx("label",{style:{display:"block",color:"var(--text)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:'סוג הסג"ח'}),F.jsx("input",{type:"text",value:Ee.sagachType,onChange:q=>Fe(G=>({...G,sagachType:q.target.value})),placeholder:"הכנס סוג הסג'ח (אופציונלי)...",disabled:he,style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",opacity:he?.6:1,cursor:he?"not-allowed":"text",boxSizing:"border-box"},onFocus:q=>{he||(q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)")},onBlur:q=>{he||(q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none")}})]}),F.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"16px"},children:[F.jsxs("div",{style:{position:"relative"},onClick:q=>q.stopPropagation(),children:[F.jsx("label",{style:{display:"block",color:"var(--text)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"ספק *"}),F.jsx("input",{type:"text",value:Ee.provider,onChange:q=>Fe(G=>({...G,provider:q.target.value})),placeholder:"שם הספק...",disabled:he,style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",opacity:he?.6:1,cursor:he?"not-allowed":"text",boxSizing:"border-box"},onFocus:q=>{he||(q.target.style.borderColor="rgba(124,192,255,0.6)",q.target.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)")},onBlur:q=>{he||(q.target.style.borderColor="rgba(255,255,255,0.2)",q.target.style.boxShadow="none")}})]}),F.jsxs("div",{children:[F.jsx("label",{style:{display:"block",color:"var(--text)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"זירה *"}),F.jsxs("div",{style:{position:"relative"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsxs("button",{type:"button",disabled:he,onClick:()=>Y(q=>!q),style:{appearance:"none",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.08)",borderRadius:"12px",color:he?"rgba(255,255,255,0.5)":"#ffffff",padding:"12px 16px",cursor:he?"not-allowed":"pointer",fontSize:"14px",direction:"rtl",outline:"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",fontFamily:"Segoe UI, sans-serif",opacity:he?.6:1,boxSizing:"border-box"},children:[F.jsx("span",{style:{textAlign:"right",flex:1},children:Ee.arena.length===0?"בחר זירות...":Ee.arena.join(", ")}),F.jsx("span",{style:{marginLeft:"8px",fontSize:"12px"},children:"▼"})]}),$&&F.jsx("div",{style:{position:"absolute",top:"calc(100% + 4px)",right:0,left:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",zIndex:1e3,boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)",overflow:"hidden",maxHeight:"200px",overflowY:"auto"},children:im.map(q=>F.jsxs("div",{onClick:G=>{if(G.stopPropagation(),!he){const ie=Ee.arena.includes(q);Fe(ce=>({...ce,arena:ie?ce.arena.filter(pe=>pe!==q):[...ce.arena,q]}))}},style:{padding:"10px 16px",cursor:he?"not-allowed":"pointer",transition:"background 0.2s ease",direction:"rtl",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",background:Ee.arena.includes(q)?"rgba(124,192,255,0.15)":"transparent",color:he?"rgba(255,255,255,0.5)":"var(--text)"},onMouseEnter:G=>{he||(G.currentTarget.style.background="rgba(124,192,255,0.15)")},onMouseLeave:G=>{!he&&!Ee.arena.includes(q)&&(G.currentTarget.style.background="transparent")},children:[F.jsx("span",{children:q}),Ee.arena.includes(q)&&F.jsx("span",{style:{color:"var(--accent)",fontSize:"12px"},children:"✓"})]},`new-arena-${q}`))})]})]}),F.jsxs("div",{style:{position:"relative"},onClick:q=>q.stopPropagation(),"data-dropdown-container":!0,children:[F.jsx("label",{style:{display:"block",color:"var(--text)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"תעדוף *"}),F.jsxs("button",{type:"button",onClick:q=>{q.stopPropagation(),he||K(G=>!G)},style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, sans-serif",outline:"none",transition:"all 0.2s ease",direction:"rtl",opacity:he?.6:1,cursor:he?"not-allowed":"pointer",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between"},disabled:he,onMouseEnter:q=>{he||(q.currentTarget.style.borderColor="rgba(124,192,255,0.6)",q.currentTarget.style.boxShadow="0 0 0 3px rgba(124,192,255,0.1)")},onMouseLeave:q=>{he||(q.currentTarget.style.borderColor="rgba(255,255,255,0.2)",q.currentTarget.style.boxShadow="none")},children:[F.jsx("span",{children:Ee.priority}),F.jsx("span",{style:{fontSize:"12px",marginLeft:"8px"},children:"▼"})]}),D&&F.jsx("div",{style:{position:"absolute",top:"calc(100% + 4px)",right:0,left:0,background:"var(--panel)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",zIndex:1e3,boxShadow:"0 8px 24px rgba(0,0,0,0.3)",backdropFilter:"blur(8px)",overflow:"hidden"},children:am.map(q=>F.jsxs("div",{onClick:G=>{G.stopPropagation(),Fe(ie=>({...ie,priority:q})),K(!1)},style:{padding:"10px 16px",cursor:"pointer",transition:"background 0.2s ease",direction:"rtl",color:"var(--text)",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"space-between",background:Ee.priority===q?"rgba(124,192,255,0.15)":"transparent"},onMouseEnter:G=>{G.currentTarget.style.background="rgba(124,192,255,0.15)"},onMouseLeave:G=>{Ee.priority!==q&&(G.currentTarget.style.background="transparent")},children:[F.jsx("span",{children:q}),q==="TOP"&&F.jsx("span",{style:{fontSize:"12px",color:"var(--accent)"},children:"🔥"})]},q))})]})]})]}),F.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[F.jsxs("button",{onClick:Wt,disabled:he,style:{...d.primary,background:he?"linear-gradient(135deg, rgba(76,175,80,0.4), rgba(76,175,80,0.3))":"linear-gradient(135deg, rgba(76,175,80,0.8), rgba(76,175,80,0.6))",color:"white",fontSize:"16px",padding:"14px 28px",cursor:he?"not-allowed":"pointer",opacity:he?.7:1},children:[he?F.jsx("div",{style:{width:"18px",height:"18px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}):"✅",he?'יוצר סג"ח...':'צור סג"ח']}),F.jsx("button",{onClick:()=>{he||(ve(!1),Fe({name:"",description:"",provider:"",arena:[],priority:"בינוני",sagachType:""}))},disabled:he,style:{...d.primary,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--text)",fontSize:"16px",padding:"14px 28px",cursor:he?"not-allowed":"pointer",opacity:he?.5:1},children:"ביטול"})]})]})}),De.isVisible&&F.jsxs("div",{style:{position:"fixed",bottom:"30px",left:"50%",transform:"translateX(-50%)",background:De.type==="success"?"linear-gradient(135deg, rgba(76,175,80,0.95), rgba(76,175,80,0.85))":De.type==="warning"?"linear-gradient(135deg, rgba(255,152,0,0.95), rgba(255,152,0,0.85))":"linear-gradient(135deg, rgba(33,150,243,0.95), rgba(33,150,243,0.85))",border:`1px solid ${De.type==="success"?"rgba(76,175,80,0.8)":De.type==="warning"?"rgba(255,152,0,0.8)":"rgba(33,150,243,0.8)"}`,borderRadius:"25px",padding:"12px 24px",color:"white",fontSize:"14px",fontWeight:"600",fontFamily:"Segoe UI, sans-serif",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",backdropFilter:"blur(12px)",zIndex:2e3,display:"flex",alignItems:"center",gap:"8px",direction:"rtl",minWidth:"200px",justifyContent:"center",animation:De.isVisible?"slideUpFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1)":"slideDownFadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[F.jsx("span",{style:{fontSize:"16px"},children:De.type==="success"?"✅":De.type==="warning"?"⚠️":"ℹ️"}),De.message]}),F.jsx("style",{children:`
        @keyframes slideUpFadeIn {
          0% {
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }
        
        @keyframes slideDownFadeOut {
          0% {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
          100% {
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
          }
        }
      `})]})},S4=({isOpen:r,onClose:t})=>{const{login:e,isLoading:n}=Es();return r?F.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,fontFamily:"Segoe UI, Arial, sans-serif"},children:F.jsxs("div",{style:{backgroundColor:"var(--panel)",borderRadius:"12px",padding:"32px",maxWidth:"400px",width:"90%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",border:"1px solid var(--border)"},children:[F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[F.jsx("h2",{style:{margin:0,color:"var(--text)",fontSize:"24px",fontWeight:"600",direction:"rtl"},children:"התחברות באמצעות ADFS"}),F.jsx("button",{onClick:t,style:{background:"none",border:"none",color:"var(--muted)",fontSize:"24px",cursor:"pointer",padding:"4px",borderRadius:"4px",transition:"color 0.2s"},onMouseOver:l=>l.currentTarget.style.color="var(--text)",onMouseOut:l=>l.currentTarget.style.color="var(--muted)",children:"×"})]}),F.jsx("div",{style:{direction:"rtl",textAlign:"right",color:"var(--muted)",lineHeight:1.6,fontSize:"14px",marginBottom:"24px"},children:F.jsx("p",{style:{margin:0},children:"ההתחברות מתבצעת באמצעות שרת ה-ADFS הארגוני שלך. לאחר ההתחברות תקבל הרשאות בהתאם לתפקיד שלך במערכת."})}),F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[F.jsx("button",{onClick:async()=>{await e(),t()},disabled:n,style:{padding:"12px 24px",borderRadius:"8px",border:"none",backgroundColor:n?"var(--muted)":"var(--accent)",color:"white",fontSize:"14px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:n?"not-allowed":"pointer",transition:"background-color 0.2s",direction:"rtl"},children:n?"מתחבר...":"התחבר עם חשבון ארגוני"}),F.jsx("button",{type:"button",onClick:t,disabled:n,style:{padding:"12px 24px",borderRadius:"8px",border:"2px solid var(--border)",backgroundColor:"transparent",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:n?"not-allowed":"pointer",transition:"all 0.2s",direction:"rtl"},onMouseOver:l=>{l.currentTarget.style.backgroundColor="var(--border)",l.currentTarget.style.color="var(--text)"},onMouseOut:l=>{l.currentTarget.style.backgroundColor="transparent",l.currentTarget.style.color="var(--text)"},children:"ביטול"})]}),F.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"rgba(124, 192, 255, 0.1)",borderRadius:"8px",border:"1px solid rgba(124, 192, 255, 0.2)",direction:"rtl"},children:[F.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--text)",fontSize:"14px",fontWeight:"600"},children:"מידע על תפקידים:"}),F.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",lineHeight:"1.4"},children:[F.jsxs("div",{children:[F.jsx("strong",{children:"צופה:"})," גישה לצפייה בלבד בתוכן המערכת"]}),F.jsxs("div",{children:[F.jsx("strong",{children:"מנהל:"}),' יכולת מלאה לערוך סג"חים, לנהל משתמשים ולבצע פעולות מערכת מתקדמות']})]})]})]})}):null},k4=()=>{const{user:r,logout:t,isAdmin:e}=Es(),[n,l]=oe.useState(!1);if(!r)return null;const o=async()=>{await t(),l(!1)};return F.jsxs("div",{style:{position:"relative",direction:"rtl"},children:[F.jsxs("button",{onClick:()=>l(!n),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 14px",maxHeight:"35px",backgroundColor:"var(--panel)",border:"1px solid var(--border)",borderRadius:"12px",color:"var(--text)",fontSize:"10px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:"pointer",transition:"all 0.2s",direction:"rtl"},onMouseOver:s=>{s.currentTarget.style.backgroundColor="var(--border)"},onMouseOut:s=>{s.currentTarget.style.backgroundColor="var(--panel)"},children:[F.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"600"},children:r.name.charAt(0).toUpperCase()}),F.jsxs("div",{style:{textAlign:"right"},children:[F.jsx("div",{style:{fontWeight:"600",fontSize:"12px"},children:r.name}),F.jsx("div",{style:{fontSize:"10px",color:"var(--muted)",marginTop:"2px"},children:td(r.role)})]}),F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",transform:n?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"▼"})]}),n&&F.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"4px",backgroundColor:"var(--panel)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,minWidth:"200px",direction:"rtl"},children:[F.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid var(--border)"},children:[F.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--text)",marginBottom:"4px"},children:r.name}),F.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:"2px"},children:r.email}),F.jsx("div",{style:{fontSize:"12px",color:"var(--accent)",fontWeight:"500"},children:td(r.role)})]}),F.jsxs("div",{style:{padding:"8px"},children:[e()&&F.jsx("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"פונקציונליות ניהול משתמשים תהיה זמינה בקרוב",type:"info",durationMs:3e3}})),l(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:"transparent",border:"none",color:"var(--accent)",fontSize:"14px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:"pointer",borderRadius:"8px",transition:"background-color 0.2s",textAlign:"right",direction:"rtl",marginBottom:"8px"},onMouseOver:s=>{s.currentTarget.style.backgroundColor="rgba(124, 192, 255, 0.1)"},onMouseOut:s=>{s.currentTarget.style.backgroundColor="transparent"},children:"👥 ניהול משתמשים"}),F.jsx("button",{onClick:o,style:{width:"100%",padding:"8px 12px",backgroundColor:"transparent",border:"none",color:"var(--text)",fontSize:"14px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:"pointer",borderRadius:"8px",transition:"background-color 0.2s",textAlign:"right",direction:"rtl"},onMouseOver:s=>{s.currentTarget.style.backgroundColor="rgba(255, 0, 0, 0.1)",s.currentTarget.style.color="#ff4444"},onMouseOut:s=>{s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color="var(--text)"},children:"התנתק"})]})]}),n&&F.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>l(!1)})]})};function C4({isOpen:r,onClose:t}){const{user:e,isAdmin:n}=Es(),[l,o]=oe.useState([]),[s,c]=oe.useState(null),[a,i]=oe.useState(!1),[u,f]=oe.useState({name:"",email:"",role:"viewer"});oe.useEffect(()=>{r&&n()&&d()},[r]);const d=()=>{try{const m=localStorage.getItem("admin_users");if(m){const S=JSON.parse(m);o(S)}else o([])}catch(m){console.error("Failed to load users:",m),o([])}},h=m=>{try{localStorage.setItem("admin_users",JSON.stringify(m)),o(m)}catch(S){console.error("Failed to save users:",S),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"שגיאה בשמירת משתמשים",type:"error",durationMs:3e3}}))}},g=()=>{if(!u.name||!u.email){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"יש למלא שם ואימייל",type:"warn",durationMs:3e3}}));return}if(l.some(I=>I.email===u.email)){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"משתמש עם אימייל זה כבר קיים",type:"warn",durationMs:3e3}}));return}const S={id:`user_${Date.now()}`,name:u.name,email:u.email,role:u.role},C=[...l,S];h(C),f({name:"",email:"",role:"viewer"}),i(!1),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`משתמש ${S.name} נוסף בהצלחה`,type:"ok",durationMs:3e3}}))},y=m=>{c(m)},p=()=>{if(!s)return;const m=l.map(S=>S.id===s.id?s:S);h(m),c(null),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`משתמש ${s.name} עודכן בהצלחה`,type:"ok",durationMs:3e3}}))},b=m=>{const S=l.filter(C=>C.id!==m);h(S),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"משתמש נמחק בהצלחה",type:"ok",durationMs:3e3}}))};return!r||!n()?null:F.jsx("div",{className:"permission-manager-overlay",onClick:t,children:F.jsxs("div",{className:"permission-manager-modal",onClick:m=>m.stopPropagation(),children:[F.jsxs("div",{className:"permission-manager-header",children:[F.jsx("h2",{style:{margin:0,color:"#fff",fontFamily:"Segoe UI, Arial, sans-serif"},children:"ניהול הרשאות משתמשים"}),F.jsx("button",{className:"close-button",onClick:t,style:{background:"none",border:"none",color:"#fff",fontSize:"24px",cursor:"pointer",padding:"4px 8px"},children:"×"})]}),F.jsxs("div",{className:"permission-manager-content",children:[F.jsxs("div",{className:"add-user-section",children:[F.jsx("button",{className:"btn primary",onClick:()=>i(!a),style:{marginBottom:"16px"},children:a?"ביטול":"הוסף משתמש חדש"}),a&&F.jsx("div",{className:"add-user-form",style:{background:"rgba(255,255,255,0.1)",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"1px solid rgba(255,255,255,0.2)"},children:F.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[F.jsx("input",{type:"text",placeholder:"שם משתמש",value:u.name||"",onChange:m=>f({...u,name:m.target.value}),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.3)",background:"rgba(255,255,255,0.1)",color:"#fff",fontFamily:"Segoe UI, Arial, sans-serif",direction:"rtl"}}),F.jsx("input",{type:"email",placeholder:"אימייל",value:u.email||"",onChange:m=>f({...u,email:m.target.value}),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.3)",background:"rgba(255,255,255,0.1)",color:"#fff",fontFamily:"Segoe UI, Arial, sans-serif",direction:"rtl"}}),F.jsxs("select",{value:u.role||"viewer",onChange:m=>f({...u,role:m.target.value}),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.3)",background:"rgba(255,255,255,0.1)",color:"#fff",fontFamily:"Segoe UI, Arial, sans-serif",direction:"rtl"},children:[F.jsx("option",{value:"viewer",children:"צופה"}),F.jsx("option",{value:"editor",children:"עורך"}),F.jsx("option",{value:"admin",children:"מנהל"})]}),F.jsxs("div",{style:{display:"flex",gap:"8px"},children:[F.jsx("button",{className:"btn primary",onClick:g,style:{flex:1},children:"הוסף"}),F.jsx("button",{className:"btn ghost",onClick:()=>{i(!1),f({name:"",email:"",role:"viewer"})},style:{flex:1},children:"ביטול"})]})]})})]}),F.jsxs("div",{className:"users-list",children:[F.jsx("h3",{style:{color:"#fff",marginBottom:"16px",fontFamily:"Segoe UI, Arial, sans-serif"},children:"רשימת משתמשים"}),l.length===0?F.jsx("div",{style:{color:"#ccc",textAlign:"center",padding:"20px"},children:"אין משתמשים רשומים"}):F.jsx("div",{className:"users-table",children:l.map(m=>F.jsxs("div",{className:"user-row",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"6px",marginBottom:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[F.jsxs("div",{className:"user-info",style:{flex:1},children:[F.jsx("div",{style:{color:"#fff",fontWeight:"bold",fontFamily:"Segoe UI, Arial, sans-serif"},children:m.name}),F.jsx("div",{style:{color:"#ccc",fontSize:"14px",fontFamily:"Segoe UI, Arial, sans-serif"},children:m.email})]}),F.jsx("div",{className:"user-actions",style:{display:"flex",alignItems:"center",gap:"8px"},children:(s==null?void 0:s.id)===m.id?F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsxs("select",{value:s.role,onChange:S=>c({...s,role:S.target.value}),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.3)",background:"rgba(255,255,255,0.1)",color:"#fff",fontFamily:"Segoe UI, Arial, sans-serif",direction:"rtl"},children:[F.jsx("option",{value:"viewer",children:"צופה"}),F.jsx("option",{value:"editor",children:"עורך"}),F.jsx("option",{value:"admin",children:"מנהל"})]}),F.jsx("button",{className:"btn primary",onClick:p,style:{padding:"4px 8px",fontSize:"12px"},children:"שמור"}),F.jsx("button",{className:"btn ghost",onClick:()=>c(null),style:{padding:"4px 8px",fontSize:"12px"},children:"ביטול"})]}):F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx("span",{style:{color:"#fff",background:"rgba(124,192,255,0.2)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontFamily:"Segoe UI, Arial, sans-serif"},children:td(m.role)}),F.jsx("button",{className:"btn ghost",onClick:()=>y(m),style:{padding:"4px 8px",fontSize:"12px"},children:"ערוך"}),F.jsx("button",{className:"btn ghost",onClick:()=>b(m.id),style:{padding:"4px 8px",fontSize:"12px",color:"#ff6b6b"},children:"מחק"})]})})]},m.id))})]})]})]})})}class T4 extends oe.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("🚨 ErrorBoundary caught an error:",t,e),this.setState({error:t,errorInfo:e})}render(){return this.state.hasError?F.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"8px",margin:"20px",fontFamily:"Segoe UI, sans-serif"},children:[F.jsx("h2",{style:{color:"#d32f2f",margin:"0 0 10px 0"},children:"🚨 Application Error"}),F.jsx("p",{style:{color:"#666",margin:"0 0 10px 0"},children:"Something went wrong. Please check the console for details."}),F.jsxs("details",{style:{marginTop:"10px"},children:[F.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:"Error Details"}),F.jsxs("pre",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",overflow:"auto",marginTop:"10px",fontSize:"12px"},children:[this.state.error&&this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),F.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const E4=`{
  "person": {
    "id": "GILI-2025-001",
    "basic_info": {
      "first_name": "Gili",
      "last_name": "Levi",
      "gender": "Male",
      "date_of_birth": "1992-05-14",
      "nationality": "Israeli",
      "description": "Gili is a 33-year-old software engineer who enjoys hiking, photography, and playing the guitar."
    },
    "contact_details": {
      "phone_numbers": [
        {
          "type": "mobile",
          "country_code": "+972",
          "number": "54-123-4567",
          "description": "Primary contact number"
        },
        {
          "type": "home",
          "country_code": "+972",
          "number": "3-987-6543",
          "description": "Landline at home"
        }
      ],
      "email": "gili.levi@example.com"
    },
    "address": {
      "primary_residence": {
        "street": "HaPalmach Street",
        "house_number": 17,
        "city": "Tel Aviv",
        "postal_code": "6329204",
        "country": "Israel",
        "coordinates": {
          "latitude": 32.0853,
          "longitude": 34.7818
        },
        "description": "Main apartment located in the heart of Tel Aviv, close to cafes and the beach."
      },
      "secondary_residence": {
        "street": "Herzl Avenue",
        "house_number": 45,
        "city": "Haifa",
        "postal_code": "3200000",
        "country": "Israel",
        "description": "Vacation apartment in Haifa with a view of the Mediterranean Sea."
      }
    },
    "employment": {
      "current_job": {
        "position": "Senior Software Engineer",
        "company": "TechNova Ltd.",
        "department": "AI Research & Development",
        "start_date": "2018-09-01",
        "description": "Leads a team of 6 engineers developing machine learning models for predictive analytics."
      },
      "previous_jobs": [
        {
          "position": "Backend Developer",
          "company": "CodeWorks",
          "start_date": "2015-06-15",
          "end_date": "2018-08-31",
          "description": "Worked on API development and database optimization."
        },
        {
          "position": "Junior Web Developer",
          "company": "Creative Web Studio",
          "start_date": "2013-02-01",
          "end_date": "2015-05-30",
          "description": "Built responsive websites for small businesses."
        }
      ]
    },
    "personal_interests": {
      "hobbies": [
        {
          "name": "Hiking",
          "description": "Explores nature trails around Israel and abroad."
        },
        {
          "name": "Photography",
          "description": "Specializes in landscape and street photography."
        },
        {
          "name": "Music",
          "description": "Plays acoustic guitar and writes original songs."
        }
      ],
      "sports": [
        {
          "name": "Basketball",
          "description": "Plays in a local amateur league every weekend."
        }
      ]
    },
    "identifiers": {
      "passport_number": "IL9876543",
      "national_id": "203456789",
      "driver_license": {
        "number": "DL-IL-456789",
        "category": "B",
        "expiry_date": "2030-12-31"
      }
    },
    "emergency_contacts": [
      {
        "name": "Maya Levi",
        "relationship": "Sister",
        "phone": {
          "country_code": "+972",
          "number": "52-765-4321"
        }
      },
      {
        "name": "David Cohen",
        "relationship": "Friend",
        "phone": {
          "country_code": "+972",
          "number": "50-987-6543"
        }
      }
    ]
  }
}`;function A4(){const{user:r,isLoading:t,isAdmin:e}=Es(),[n,l]=oe.useState(!1),[o,s]=oe.useState(!1),[c,a]=oe.useState("status"),[i,u]=oe.useState(null),[f,d]=oe.useState("ok"),[h,g]=oe.useState(!1),[y,p]=oe.useState(!1),b=oe.useRef(null),m=oe.useRef(null),[S,C]=oe.useState(E4),[I,P]=oe.useState(null),[L,j]=oe.useState(null),[B,z]=oe.useState(!1),[U,H]=oe.useState(1),[T,A]=oe.useState({x:0,y:0}),[k,v]=oe.useState(!1),[x,w]=oe.useState({x:0,y:0}),[_,E]=oe.useState(""),[R,O]=oe.useState([]),[W,V]=oe.useState(!1),[X,D]=oe.useState(!1),[K,N]=oe.useState(null),[M,$]=oe.useState(""),[Y,ee]=oe.useState(""),[Q,Z]=oe.useState(""),[le,ae]=oe.useState(!1),[J,ne]=oe.useState(""),[se,me]=oe.useState([]),[de,ge]=oe.useState(""),[ve,he]=oe.useState(!1),[Me,Ee]=oe.useState(!1),[Fe,De]=oe.useState(!0),[et,He]=oe.useState(!1),[Ze,Je]=oe.useState(!1),[We,Ce]=oe.useState(!1),[Be,Xe]=oe.useState(!1),[Ke,rt]=oe.useState(!1),[dt,Le]=oe.useState(null),[yt,ht]=oe.useState(null),[re,_e]=oe.useState(null),Ae=oe.useRef(null),Oe=oe.useRef(1),Ye=oe.useRef({x:0,y:0}),Ve=oe.useRef(null),Pe=oe.useRef(null),at=oe.useRef(null),wt=oe.useRef(null),ct=oe.useRef(null),ue=oe.useRef(null),ye=oe.useRef([]);oe.useEffect(()=>{r&&r.role!=="admin"&&(c==="viz"||c==="dictionary"||c==="common")&&a("status")},[r,c]);const Se=oe.useMemo(()=>{try{return typeof JSON.parse(S)}catch{return null}},[S]),$e=oe.useMemo(()=>{if(!I)return[];const G=[],ie=(ce,pe)=>{const Te=ce.children??[],ke=Te.length===0,we=!!(ce.excelMeta&&Object.keys(ce.excelMeta).length>0),xe=ce.requiredState==="required",je=[...pe,ce.name];if(ke&&xe&&!we){const qe=je.slice(1).join(" -> ");G.push({id:ce.id,path:qe,requiredState:ce.requiredState})}Te.forEach(qe=>ie(qe,je))};return ie(I,[]),G},[I]),ot=oe.useMemo(()=>$e,[$e]),Ge=()=>{try{if(!de){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"בחר סכמה לויזואליזציה בעץ",type:"error",durationMs:4e3}}));return}const G=it[de];if(G){C(JSON.stringify(G.schema,null,2)),j(null);const ie=vp(G.schema),ce=ft(ie,se);P(ce)}else j("Selected schema not found")}catch(G){j(G instanceof Error?G.message:"Failed to parse JSON")}},ut=()=>{C(""),P(null),j(null)},it={person:{title:"Person",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"Person",type:"object",required:["firstName","lastName","address"],properties:{firstName:{type:"string",description:"Given name of the person",minLength:1},lastName:{type:"string",description:"Family name of the person",minLength:1},email:{type:"string",format:"email",description:"Primary contact email address"},phone:{type:"string",pattern:`^\\+?[0-9
\r-s]{7,15}$`,description:"Phone number with optional country code"},account:{type:"object",description:"User account settings and preferences",properties:{username:{type:"string",description:"Unique username for login",minLength:3,maxLength:16},password:{type:"string",description:"Secure password for account access",minLength:8},preferences:{type:"object",description:"User interface and notification preferences",properties:{notifications:{type:"boolean",description:"Enable push notifications"},theme:{type:"string",description:"Visual theme preference",enum:["light","dark","system"]},shortcuts:{type:"array",description:"Custom keyboard shortcuts",items:{type:"object",required:["name","keys"],properties:{name:{type:"string",description:"Shortcut action name"},keys:{type:"string",description:"Keyboard combination",pattern:"^[A-Z]++[A-Z]+$"}}}}}}}},address:{type:"object",description:"Primary residential address",required:["street","city"],properties:{street:{type:"string",description:"Street name and number",minLength:1},city:{type:"string",description:"City name",minLength:1},state:{type:"string",description:"State or province"},zip:{type:"string",description:"Postal code",pattern:"^[0-9]{5}(?:-[0-9]{4})?$"}}},secondary_residence:{type:"object",description:"Optional secondary residence; if present, street and city are required",required:["street","city"],properties:{street:{type:"string",description:"Street name and number"},city:{type:"string",description:"City name"},coordinates:{type:"object",description:"Geographic coordinates of the residence",properties:{lat:{type:"number",description:"Latitude coordinate",minimum:-90,maximum:90},lng:{type:"number",description:"Longitude coordinate",minimum:-180,maximum:180}}}}},documents:{type:"array",description:"Collection of uploaded documents",items:{type:"object",required:["fileName","mimeType"],properties:{fileName:{type:"string",description:"Original filename of the document"},mimeType:{type:"string",description:"MIME type of the document",pattern:"^[-w.]+/[-w.]+$"},sizeKb:{type:"integer",description:"File size in kilobytes",minimum:1,maximum:10240}}}},age:{type:"integer",description:"Age in years",minimum:0,maximum:120},tags:{type:"array",description:"User-defined tags for categorization",items:{type:"string",maxLength:20}}}}},gps_location:{title:"GPS Location Device",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"GPSLocationDevice",type:"object",required:["deviceId","location","timestamp"],properties:{deviceId:{type:"string",description:"Unique identifier for the GPS device",minLength:1},deviceInfo:{type:"object",description:"Device hardware and software information",required:["model","firmwareVersion"],properties:{model:{type:"string",description:"Device model name",minLength:1},manufacturer:{type:"string",description:"Device manufacturer",minLength:1},firmwareVersion:{type:"string",description:"Current firmware version",pattern:"^\\d+\\.\\d+\\.\\d+$"},serialNumber:{type:"string",description:"Device serial number",pattern:"^[A-Z0-9]{8,16}$"},batteryLevel:{type:"number",description:"Battery level percentage",minimum:0,maximum:100},lastMaintenance:{type:"string",description:"Last maintenance date",format:"date"}}},location:{type:"object",description:"Current GPS location data",required:["latitude","longitude","accuracy"],properties:{latitude:{type:"number",description:"Latitude coordinate in decimal degrees",minimum:-90,maximum:90},longitude:{type:"number",description:"Longitude coordinate in decimal degrees",minimum:-180,maximum:180},accuracy:{type:"number",description:"GPS accuracy in meters",minimum:0,maximum:1e3},altitude:{type:"number",description:"Altitude above sea level in meters",minimum:-1e3,maximum:1e4},heading:{type:"number",description:"Direction of movement in degrees",minimum:0,maximum:360},speed:{type:"number",description:"Speed in meters per second",minimum:0,maximum:100},satellites:{type:"integer",description:"Number of GPS satellites in view",minimum:0,maximum:32}}},timestamp:{type:"string",description:"ISO 8601 timestamp of location reading",format:"date-time"},environmental:{type:"object",description:"Environmental sensor data if available",properties:{temperature:{type:"number",description:"Ambient temperature in Celsius",minimum:-50,maximum:80},humidity:{type:"number",description:"Relative humidity percentage",minimum:0,maximum:100},pressure:{type:"number",description:"Atmospheric pressure in hPa",minimum:800,maximum:1200}}},connectivity:{type:"object",description:"Communication and connectivity status",required:["status"],properties:{status:{type:"string",description:"Connection status",enum:["online","offline","error","maintenance"]},signalStrength:{type:"number",description:"Signal strength in dBm",minimum:-120,maximum:-30},lastSync:{type:"string",description:"Last successful data sync timestamp",format:"date-time"},protocol:{type:"string",description:"Communication protocol used",enum:["4G","5G","WiFi","Satellite"]}}},alerts:{type:"array",description:"Active alerts and notifications",items:{type:"object",required:["type","message","severity"],properties:{type:{type:"string",description:"Alert type",enum:["low_battery","out_of_range","maintenance_due","error"]},message:{type:"string",description:"Alert description",minLength:1},severity:{type:"string",description:"Alert severity level",enum:["low","medium","high","critical"]},timestamp:{type:"string",description:"When the alert was generated",format:"date-time"}}}}}}},cellular_tracking:{title:"Cellular Mobile Tracking",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"CellularMobileTracking",type:"object",required:["mobileNumber","trackingData","timestamp"],properties:{mobileNumber:{type:"string",description:"Mobile phone number being tracked",pattern:"^\\+[1-9]\\d{1,14}$"},subscriberInfo:{type:"object",description:"Mobile subscriber identification and details",required:["imsi","msisdn"],properties:{imsi:{type:"string",description:"International Mobile Subscriber Identity",pattern:"^[0-9]{14,15}$"},msisdn:{type:"string",description:"Mobile Station International Subscriber Directory Number",pattern:"^[0-9]{12,15}$"},iccid:{type:"string",description:"Integrated Circuit Card Identifier",pattern:"^[0-9]{19,20}$"},carrier:{type:"string",description:"Mobile network operator name",minLength:1},planType:{type:"string",description:"Subscription plan type",enum:["prepaid","postpaid","corporate"]}}},trackingData:{type:"object",description:"Real-time location and movement tracking information",required:["cellTower","signalStrength"],properties:{cellTower:{type:"object",description:"Current serving cell tower information",required:["cellId","lac","mcc","mnc"],properties:{cellId:{type:"integer",description:"Cell tower identifier",minimum:1,maximum:65535},lac:{type:"integer",description:"Location Area Code",minimum:1,maximum:65535},mcc:{type:"integer",description:"Mobile Country Code",minimum:100,maximum:999},mnc:{type:"integer",description:"Mobile Network Code",minimum:0,maximum:999},coordinates:{type:"object",description:"Cell tower geographic coordinates",properties:{latitude:{type:"number",description:"Tower latitude",minimum:-90,maximum:90},longitude:{type:"number",description:"Tower longitude",minimum:-180,maximum:180}}}}},signalStrength:{type:"number",description:"Signal strength in dBm",minimum:-120,maximum:-30},networkType:{type:"string",description:"Current network technology",enum:["2G","3G","4G","5G"]},roaming:{type:"boolean",description:"Whether device is roaming"},estimatedLocation:{type:"object",description:"Estimated device location based on cell tower triangulation",properties:{latitude:{type:"number",description:"Estimated latitude",minimum:-90,maximum:90},longitude:{type:"number",description:"Estimated longitude",minimum:-180,maximum:180},accuracy:{type:"number",description:"Location accuracy in meters",minimum:100,maximum:5e4}}}}},timestamp:{type:"string",description:"Tracking data timestamp",format:"date-time"},movement:{type:"object",description:"Movement and velocity information",properties:{speed:{type:"number",description:"Movement speed in km/h",minimum:0,maximum:500},direction:{type:"number",description:"Movement direction in degrees",minimum:0,maximum:360},acceleration:{type:"number",description:"Acceleration in m/s²",minimum:-50,maximum:50},stationary:{type:"boolean",description:"Whether device is currently stationary"}}},callLog:{type:"array",description:"Recent call activity log",items:{type:"object",required:["type","timestamp","duration"],properties:{type:{type:"string",description:"Call type",enum:["incoming","outgoing","missed"]},timestamp:{type:"string",description:"Call timestamp",format:"date-time"},duration:{type:"integer",description:"Call duration in seconds",minimum:0},number:{type:"string",description:"Phone number involved in call",pattern:"^\\+[1-9]\\d{1,14}$"}}}},dataUsage:{type:"object",description:"Mobile data consumption statistics",properties:{currentPeriod:{type:"integer",description:"Data used in current billing period (MB)",minimum:0},totalLimit:{type:"integer",description:"Total data limit for period (MB)",minimum:0},lastReset:{type:"string",description:"Last data reset date",format:"date"}}}}}},license_plate:{title:"License Plate Identification",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"LicensePlateIdentification",type:"object",required:["plateNumber","detectionData","timestamp"],properties:{plateNumber:{type:"string",description:"Identified license plate number",pattern:"^[A-Z0-9\\-\\s]{2,12}$"},vehicleInfo:{type:"object",description:"Vehicle information associated with the license plate",required:["make","model"],properties:{make:{type:"string",description:"Vehicle manufacturer brand",minLength:1},model:{type:"string",description:"Vehicle model name",minLength:1},year:{type:"integer",description:"Vehicle manufacturing year",minimum:1900,maximum:2030},color:{type:"string",description:"Primary vehicle color",minLength:1},bodyType:{type:"string",description:"Vehicle body style",enum:["sedan","suv","truck","motorcycle","bus","van"]},fuelType:{type:"string",description:"Vehicle fuel type",enum:["gasoline","diesel","electric","hybrid","hydrogen"]}}},detectionData:{type:"object",description:"License plate detection and recognition details",required:["confidence","imageQuality"],properties:{confidence:{type:"number",description:"Recognition confidence score (0-100)",minimum:0,maximum:100},imageQuality:{type:"string",description:"Image quality assessment",enum:["excellent","good","fair","poor"]},processingTime:{type:"number",description:"Processing time in milliseconds",minimum:0,maximum:1e4},algorithm:{type:"string",description:"Recognition algorithm used",minLength:1},ocrVersion:{type:"string",description:"OCR software version",pattern:"^\\d+\\.\\d+\\.\\d+$"}}},timestamp:{type:"string",description:"Detection timestamp",format:"date-time"},location:{type:"object",description:"Location where the license plate was detected",required:["cameraId","coordinates"],properties:{cameraId:{type:"string",description:"Unique camera identifier",minLength:1},coordinates:{type:"object",description:"Geographic coordinates of detection point",required:["latitude","longitude"],properties:{latitude:{type:"number",description:"Detection latitude",minimum:-90,maximum:90},longitude:{type:"number",description:"Detection longitude",minimum:-180,maximum:180},altitude:{type:"number",description:"Detection altitude in meters",minimum:-1e3,maximum:1e4}}},address:{type:"string",description:"Human-readable address of detection point"},zone:{type:"string",description:"Traffic zone or area designation"}}},imageData:{type:"object",description:"Captured image and processing information",required:["imageUrl"],properties:{imageUrl:{type:"string",description:"URL to captured image",format:"uri"},thumbnailUrl:{type:"string",description:"URL to thumbnail version",format:"uri"},imageFormat:{type:"string",description:"Image file format",enum:["JPEG","PNG","BMP","TIFF"]},resolution:{type:"string",description:"Image resolution (width x height)",pattern:"^\\d+x\\d+$"},fileSize:{type:"integer",description:"Image file size in bytes",minimum:1}}},trafficViolations:{type:"array",description:"Traffic violations associated with this vehicle",items:{type:"object",required:["type","timestamp","location"],properties:{type:{type:"string",description:"Violation type",enum:["speeding","red_light","parking","toll_evasion","other"]},timestamp:{type:"string",description:"Violation timestamp",format:"date-time"},location:{type:"string",description:"Violation location description"},fine:{type:"number",description:"Fine amount in local currency",minimum:0},status:{type:"string",description:"Violation status",enum:["pending","paid","disputed","dismissed"]}}}},registration:{type:"object",description:"Vehicle registration and ownership information",properties:{ownerName:{type:"string",description:"Registered owner name",minLength:1},registrationDate:{type:"string",description:"Registration date",format:"date"},expiryDate:{type:"string",description:"Registration expiry date",format:"date"},insurance:{type:"object",description:"Insurance policy details",properties:{provider:{type:"string",description:"Insurance company name"},policyNumber:{type:"string",description:"Insurance policy number"},expiryDate:{type:"string",description:"Insurance expiry date",format:"date"}}}}}}}},product:{title:"Product",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"Product",type:"object",required:["name","price","category"],properties:{name:{type:"string",description:"Product name",minLength:1},price:{type:"number",minimum:0,description:"Product price"},category:{type:"string",description:"Product category"},description:{type:"string",description:"Product description"},inStock:{type:"boolean",description:"Product availability"},tags:{type:"array",items:{type:"string"}}}}},order:{title:"Order",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"Order",type:"object",required:["orderId","customer","items"],properties:{orderId:{type:"string",description:"Unique order identifier"},customer:{type:"object",properties:{name:{type:"string"},email:{type:"string",format:"email"}}},items:{type:"array",items:{type:"object",properties:{productId:{type:"string"},quantity:{type:"integer",minimum:1},price:{type:"number",minimum:0}}}}}}},optional_hierarchy_demo:{title:"Optional hierarchy demo",schema:{$schema:"https://json-schema.org/draft/2020-12/schema",title:"OptionalHierarchyDemo",type:"object",required:["userId"],properties:{userId:{type:"string",description:"Unique user identifier",minLength:1},profile:{type:"object",description:"Optional profile. If present, name and email are mandatory",required:["name","email"],properties:{name:{type:"string",description:"Full name",minLength:1},email:{type:"string",description:"Email",format:"email"},bio:{type:"string",description:"Short biography",maxLength:200},address:{type:"object",description:"Optional address. If present, street and city are mandatory",required:["street","city"],properties:{street:{type:"string",minLength:1},city:{type:"string",minLength:1},country:{type:"string"},zip:{type:"string",pattern:"^[0-9]{5}(?:-[0-9]{4})?$"}}}}},attachments:{type:"array",description:"Optional attachments. If used, fileName is mandatory",items:{type:"object",required:["fileName"],properties:{fileName:{type:"string",minLength:1},mimeType:{type:"string",pattern:"^[-w.]+/[-w.]+$"},sizeKb:{type:"integer",minimum:1}}}}}}}};oe.useEffect(()=>{const G=we=>{we.ctrlKey&&we.key==="f"&&(we.preventDefault(),D(!0),setTimeout(()=>{const xe=document.getElementById("tree-search");xe==null||xe.focus()},50)),we.key==="Escape"&&(D(!1),E(""),z(!1),N(null),he(!1),Je(!1),Ce(!1))},ie=we=>{const{targetNode:xe,field:je}=we.detail;if(se.find(Ne=>{var lt,Pt,It,Ft;const Qe=((lt=Ne==null?void 0:Ne.targetNode)==null?void 0:lt.name)===(xe==null?void 0:xe.name)&&((Pt=Ne==null?void 0:Ne.targetNode)==null?void 0:Pt.type)===(xe==null?void 0:xe.type),mt=((It=Ne==null?void 0:Ne.field)==null?void 0:It.name)!==(je==null?void 0:je.name)||((Ft=Ne==null?void 0:Ne.field)==null?void 0:Ft.fieldType)!==(je==null?void 0:je.fieldType);return Qe&&mt})){ht({targetNode:xe,field:je}),_e("drop"),rt(!0);return}N({targetNode:xe,field:je}),$(je.name||""),ee(""),Z(xe.name||""),ae(!1),ne("")},ce=we=>{var je;console.log("Sending saved mappings to ExcelExtractor:",ye.current);const xe=(je=we.detail)==null?void 0:je.callback;xe&&typeof xe=="function"&&xe(ye.current)},pe=we=>{var je;const xe=(je=we.detail)==null?void 0:je.callback;xe&&typeof xe=="function"&&xe(de)},Te=we=>{var je;const xe=(je=we.detail)==null?void 0:je.key;if(xe&&typeof xe=="string"){ge(xe);const qe=it[xe];if(qe){C(JSON.stringify(qe.schema,null,2)),j(null);const Ne=vp(qe.schema),Qe=ue.current&&ue.current.length>0?ue.current:se,mt=ft(Ne,Qe);P(mt),ue.current=null,window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`נטענה סכמה: ${qe.title}`,type:"ok",durationMs:2500}}))}else window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"סכמה שהוטענה מהאקסל לא נמצאה",type:"error",durationMs:4e3}}))}},ke=we=>{var je;const xe=((je=we.detail)==null?void 0:je.mappings)||[];xe.length&&(ue.current=xe,me(qe=>{const Ne=lt=>{var Pt,It,Ft,gr;return`${(Pt=lt==null?void 0:lt.targetNode)==null?void 0:Pt.name}__${(It=lt==null?void 0:lt.targetNode)==null?void 0:It.type}__${(Ft=lt==null?void 0:lt.field)==null?void 0:Ft.name}__${(gr=lt==null?void 0:lt.field)==null?void 0:gr.fieldType}`},Qe=new Map;qe.forEach(lt=>Qe.set(Ne(lt),lt)),xe.forEach(lt=>Qe.set(Ne(lt),lt));const mt=Array.from(Qe.values());return ye.current=mt,mt}),I&&P(ft(I,xe)))};return window.addEventListener("keydown",G),window.addEventListener("excel:drop-on-node",ie),window.addEventListener("excel:request-mappings",ce),window.addEventListener("excel:request-selected-schema",pe),window.addEventListener("excel:apply-selected-schema",Te),window.addEventListener("excel:mappings-imported",ke),()=>{window.removeEventListener("keydown",G),window.removeEventListener("excel:drop-on-node",ie),window.removeEventListener("excel:request-mappings",ce),window.removeEventListener("excel:request-selected-schema",pe),window.removeEventListener("excel:apply-selected-schema",Te),window.removeEventListener("excel:mappings-imported",ke)}},[se,de,I]),oe.useEffect(()=>{const G=ie=>{var ke;const ce=ie.target;at.current&&!at.current.contains(ce)&&Je(!1),wt.current&&!wt.current.contains(ce)&&Ce(!1);const pe=ct.current&&ct.current.contains(ce),Te=(ke=ce==null?void 0:ce.closest)==null?void 0:ke.call(ce,'.schema-dropdown[role="menu"]');!pe&&!Te&&Xe(!1)};return document.addEventListener("mousedown",G,!0),()=>document.removeEventListener("mousedown",G,!0)},[]),oe.useEffect(()=>{const G=()=>Ee(!0);return window.addEventListener("excel:uploaded",G),()=>window.removeEventListener("excel:uploaded",G)},[]),oe.useEffect(()=>{if(!B)return;const G=ie=>{var ke,we;const ce=ie.target,pe=(ke=Ve.current)==null?void 0:ke.contains(ce),Te=(we=Pe.current)==null?void 0:we.contains(ce);!pe&&!Te&&z(!1)};return document.addEventListener("mousedown",G,!0),()=>document.removeEventListener("mousedown",G,!0)},[B]),oe.useEffect(()=>{if(!ve)return;const G=ie=>{var Te;const ce=ie.target;((Te=document.querySelector(".schema-selector"))==null?void 0:Te.contains(ce))||he(!1)};return document.addEventListener("mousedown",G,!0),()=>document.removeEventListener("mousedown",G,!0)},[ve]),oe.useEffect(()=>{(()=>{if(document.querySelectorAll(".search-highlight").forEach(ke=>{const we=ke.parentNode;we.replaceChild(document.createTextNode(ke.textContent||""),ke),we.normalize()}),!_.trim())return;const ie=document.createTreeWalker(document.querySelector(".tree-view")||document.body,NodeFilter.SHOW_TEXT,{acceptNode:ke=>{const we=ke.parentElement;return we&&!we.classList.contains("search-highlight")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),ce=[];let pe;for(;pe=ie.nextNode();)ce.push(pe);const Te=new RegExp(`(${_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");ce.forEach(ke=>{const we=ke.textContent||"";if(Te.test(we)){const xe=ke.parentElement,je=we.replace(Te,'<span class="search-highlight">$1</span>'),qe=document.createElement("div");for(qe.innerHTML=je,xe.replaceChild(qe,ke);qe.firstChild;)xe.insertBefore(qe.firstChild,qe);xe.removeChild(qe)}})})()},[_,I]);const st=(G,ie=[],ce=[])=>{var we;const pe=Array.isArray(G.rules)&&G.rules.length?G.rules.join(" "):void 0,ke=[...ce,G.name].slice(1).join(" -> ");return ie.push({id:G.id,path:ke,name:G.name,description:G.description,rulesText:pe}),(we=G.children)==null||we.forEach(xe=>st(xe,ie,[...ce,G.name])),ie},ft=(G,ie)=>{var xe,je,qe;if(!ie||ie.length===0)return G;const ce=Ne=>(Ne.id||"").split(":")[0],pe=Ne=>{var Qe,mt,lt;return{fieldEssence:((Qe=Ne==null?void 0:Ne.field)==null?void 0:Qe.fieldEssence)||"",dgh:((mt=Ne==null?void 0:Ne.field)==null?void 0:mt.dgh)||"",always:((lt=Ne==null?void 0:Ne.field)==null?void 0:lt.always)||"",mappingDetails:(Ne==null?void 0:Ne.mappingDetails)||"",outputs:(Ne==null?void 0:Ne.outputs)||""}},Te=new Map,ke=new Map;for(const Ne of ie){const Qe=(((xe=Ne==null?void 0:Ne.targetNode)==null?void 0:xe.path)||"").trim();Qe&&Te.set(Qe,Ne);const mt=`${((je=Ne==null?void 0:Ne.targetNode)==null?void 0:je.name)||""}__${((qe=Ne==null?void 0:Ne.targetNode)==null?void 0:qe.type)||""}`;ke.set(mt,Ne)}const we=Ne=>{const Qe=ce(Ne),mt=Te.get(Qe),lt=ke.get(`${Ne.name}__${Ne.type}`),Pt=mt||lt,It=Pt?{...Ne,excelMeta:pe(Pt)}:Ne;return It.children&&It.children.length>0?{...It,children:It.children.map(Ft=>we(Ft))}:It};return we(G)};oe.useEffect(()=>{if(!_.trim()){O([]),V(!1),document.querySelectorAll(".search-highlight").forEach(pe=>{pe.classList.remove("search-highlight")});return}const G=I?st(I):[],ie=_.trim().toLowerCase(),ce=G.reduce((pe,Te)=>{const ke=Te.path.toLowerCase().includes(ie),we=Te.description||"",je=we.toLowerCase().indexOf(ie),qe=Te.rulesText||"",Qe=qe.toLowerCase().indexOf(ie);if(ke||je!==-1||Qe!==-1){let mt;if(je!==-1){const It=Math.max(0,je-40),Ft=Math.min(we.length,je+ie.length+60),gr=It>0?"…":"",un=Ft<we.length?"…":"";mt=`${gr}${we.slice(It,Ft)}${un}`}else if(Qe!==-1){const It=Math.max(0,Qe-40),Ft=Math.min(qe.length,Qe+ie.length+60),gr=It>0?"…":"",un=Ft<qe.length?"…":"";mt=`${gr}${qe.slice(It,Ft)}${un}`}pe.push({...Te,snippet:mt})}return pe},[]).slice(0,20);O(ce),V(ce.length>0)},[I,_]);const pt=G=>{document.querySelectorAll(".search-highlight").forEach(Te=>{Te.classList.remove("search-highlight")});const ie=G.split(":")[0].split(".");(()=>{const Te=document.querySelector(".tree-root .node-tile"),ke=Te==null?void 0:Te.getBoundingClientRect(),we=ke?ke.left+ke.width/2:window.innerWidth/2;for(let xe=1;xe<=ie.length;xe++){const je=ie.slice(0,xe).join("."),qe=document.querySelector(`[data-node-id^="${je}:"]`);if(qe){const Ne=qe.closest(".tree-li"),Qe=Ne==null?void 0:Ne.querySelector(".node-tile"),mt=Ne==null?void 0:Ne.querySelector(".binary-children");if(Qe&&mt&&!(mt.classList.contains("open")&&(mt.style.overflow!=="hidden"||mt.offsetHeight>0))){const Pt=Qe.getBoundingClientRect(),Ft=Pt.left+Pt.width/2<we?"left":"right";Ne&&(Ne.dataset.forceSide=Ft),Qe.click(),requestAnimationFrame(()=>{const gr=new CustomEvent("search:layout-update",{detail:{forceSide:Ft}});Qe.dispatchEvent(gr)})}}}})();const pe=document.querySelector(`[data-node-id="${G}"]`);pe&&setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{pe.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),pe.classList.add("search-highlight"),setTimeout(()=>pe.classList.remove("search-highlight"),3e3)})})},100)},vt=G=>Math.min(2.5,Math.max(.5,Math.round(G*100)/100)),Dt=G=>{if(window.__excelDragging)return;G.preventDefault();const ie=G.deltaY>0?-.08:.08,ce=vt(U+ie);if(ce!==U){const pe=(Ae.current??G.currentTarget).getBoundingClientRect(),Te=G.clientX-pe.left,ke=G.clientY-pe.top,we=T.x,xe=T.y,je=ce/U,qe=Te-(Te-we)*je,Ne=ke-(ke-xe)*je;H(ce),A({x:qe,y:Ne})}};oe.useEffect(()=>{const G=ce=>{if(!window.__excelDragging)return;const pe=Ae.current;if(!pe)return;const Te=pe.getBoundingClientRect();ce.preventDefault();const ke=ce.deltaY>0?-.08:.08,we=Oe.current,xe=vt(we+ke);if(xe===we)return;const je=ce.clientX-Te.left,qe=ce.clientY-Te.top,Ne=xe/we,Qe=Ye.current,mt=je-(je-Qe.x)*Ne,lt=qe-(qe-Qe.y)*Ne;H(xe),A({x:mt,y:lt})},ie={passive:!1};return window.addEventListener("wheel",G,ie),document.addEventListener("wheel",G,ie),document.body.addEventListener("wheel",G,ie),window.addEventListener("mousewheel",G,ie),document.addEventListener("mousewheel",G,ie),document.addEventListener("DOMMouseScroll",G,ie),()=>{window.removeEventListener("wheel",G),document.removeEventListener("wheel",G),document.body.removeEventListener("wheel",G),window.removeEventListener("mousewheel",G),document.removeEventListener("mousewheel",G),document.removeEventListener("DOMMouseScroll",G)}},[]),oe.useEffect(()=>{ye.current=se},[se]),oe.useEffect(()=>{Oe.current=U},[U]),oe.useEffect(()=>{Ye.current=T},[T]);const Tt=G=>{try{me(ce=>{const pe=we=>{var xe,je;return`${(xe=we==null?void 0:we.field)==null?void 0:xe.name}__${(je=we==null?void 0:we.field)==null?void 0:je.fieldType}`},Te=new Map;ce.forEach(we=>Te.set(pe(we),we)),Te.set(pe(G),G);const ke=Array.from(Te.values());return ye.current=ke,ke});const ie=ce=>ce.id===G.targetNode.id?{...ce,excelMeta:{fieldEssence:G.field.fieldEssence||"",dgh:G.field.dgh||"",always:G.field.always||"",mappingDetails:G.mappingDetails||"",outputs:G.outputs||""}}:ce.children?{...ce,children:ce.children.map(pe=>ie(pe))}:ce;if(I){const ce=ie(I);P(ce)}window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`Mapping saved for ${G.targetNode.name}`,type:"ok",durationMs:3e3}})),window.dispatchEvent(new CustomEvent("excel:mapping-saved",{detail:{field:G.field,targetNode:G.targetNode}})),N(null)}catch(ie){console.error("Failed to save mapping:",ie),alert("Failed to save mapping. Check console for details.")}},$t=G=>{G.button===0&&(v(!0),w({x:G.clientX-T.x,y:G.clientY-T.y}))},Wt=G=>{k&&A({x:G.clientX-x.x,y:G.clientY-x.y})},Gt=()=>v(!1),te=()=>v(!1),be=(G,ie)=>{G.style.transform=ie?"translateY(-1px)":"translateY(0px)",G.style.boxShadow=ie?"0 6px 20px rgba(0,0,0,0.35)":"none"},q=(G,ie,ce)=>{if(G.dataset.baseBg||(G.dataset.baseBg=G.style.background||""),G.classList.contains("opt-orange")){if(ie){G.style.background="rgba(228, 184, 27, 0.55)";return}}else if(G.classList.contains("opt-green")&&ie){G.style.background="rgba(38, 216, 56, 0.55)";return}const pe=G.dataset.baseBg;typeof pe=="string"?G.style.background=pe:G.style.removeProperty("background")};return oe.useEffect(()=>{const G=()=>{b.current&&(window.clearTimeout(b.current),b.current=null),m.current&&(window.clearTimeout(m.current),m.current=null)},ie=ce=>{const{message:pe,type:Te,durationMs:ke}=ce.detail||{};G(),g(!1),p(!1),u(pe||""),d(Te||"ok"),requestAnimationFrame(()=>p(!0));const we=typeof ke=="number"?ke:5e3;b.current=window.setTimeout(()=>{g(!0),m.current=window.setTimeout(()=>{u(null),g(!1),p(!1)},420)},we)};return window.addEventListener("excel:status",ie),()=>{G(),window.removeEventListener("excel:status",ie)}},[]),oe.useEffect(()=>{const G=()=>{try{if(me([]),ye.current=[],I){const ie=ce=>({...ce,excelMeta:void 0,children:ce.children?ce.children.map(ie):ce.children});P(ie(I))}window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"נוקו כל המיפויים מהעץ",type:"ok",durationMs:2500}}))}catch(ie){console.error("Failed to clear mappings:",ie),window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:`ניקוי מיפויים נכשל: ${ie}`,type:"error",durationMs:4e3}}))}};return window.addEventListener("excel:clear-all-mappings",G),()=>window.removeEventListener("excel:clear-all-mappings",G)},[I]),F.jsxs("div",{className:"page-root",children:[F.jsxs("div",{className:"app-shell",children:[F.jsxs("header",{className:"app-header floating",children:[F.jsxs("div",{className:"brand",children:[F.jsx("img",{src:"./images/logo.png",alt:"העץ הירוק",style:{height:"80px",width:"80px",objectFit:"contain",marginRight:"8px",marginTop:"-12px",marginBottom:"-12px"}}),c==="viz"&&(r==null?void 0:r.role)==="admin"&&F.jsxs("div",{className:"excel-header-actions",style:{display:"flex",alignItems:"center",gap:8},children:[F.jsxs("div",{className:"action-dropdown",ref:at,style:{position:"relative",width:240},children:[F.jsxs("button",{className:"btn glow-orange",style:{width:"100%",padding:"12px 14px",minHeight:"35px",maxHeight:"35px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",direction:"rtl"},onClick:()=>{Je(!Ze),Ce(!1)},onMouseEnter:G=>be(G.currentTarget,!0),onMouseLeave:G=>be(G.currentTarget,!1),children:[F.jsx("span",{style:{marginLeft:5,marginTop:"2px",fontSize:"10px"},children:"▲"}),F.jsx("span",{style:{display:"flex",alignItems:"center",gap:6},children:F.jsx("span",{children:"העלאה"})})]}),Ze&&F.jsxs("div",{className:"schema-dropdown",style:{right:0,left:"auto",width:"100%",minWidth:"100%",border:"1px solid rgba(201, 168, 25, 0.17)",borderRadius:"12px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",background:"rgba(182, 130, 32, 0.93)",boxShadow:"0 18px 44px rgba(0,0,0,0.7)",backdropFilter:"blur(48px)",overflow:"hidden"},children:[F.jsx("div",{className:"schema-option opt-orange",onClick:()=>{window.dispatchEvent(new Event("excel:upload-mapping-request")),Je(!1)},dir:"rtl",style:{padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,0.08)",textAlign:"center",background:"rgba(10,24,45,0.98)",color:"#ffffff"},onMouseEnter:G=>q(G.currentTarget,!0),onMouseLeave:G=>q(G.currentTarget,!1),children:"העלה Mapping"}),F.jsx("div",{className:"schema-option opt-orange",onClick:()=>{window.dispatchEvent(new Event("excel:upload-request")),Je(!1)},style:{padding:"10px 12px",borderBottom:"none",textAlign:"center",background:"rgba(10,24,45,0.98)",color:"#ffffff"},onMouseEnter:G=>q(G.currentTarget,!0),onMouseLeave:G=>q(G.currentTarget,!1),children:'העלה קובץ דג"ח'})]})]}),F.jsxs("div",{className:"action-dropdown",ref:wt,style:{position:"relative",width:240},children:[F.jsxs("button",{className:"btn glow-green",style:{width:"100%",padding:"12px 14px",minHeight:"35px",maxHeight:"35px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",direction:"rtl"},onClick:()=>{Ce(!We),Je(!1)},onMouseEnter:G=>be(G.currentTarget,!0),onMouseLeave:G=>be(G.currentTarget,!1),children:[F.jsx("span",{style:{marginLeft:5,marginTop:"2px",fontSize:"10px"},children:"▼"}),F.jsx("span",{style:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",gap:6},children:F.jsx("span",{children:"הורדה"})})]}),We&&F.jsxs("div",{className:"schema-dropdown",style:{right:0,left:"auto",width:"100%",minWidth:"100%",border:"1px solid rgba(39, 228, 22, 0.76)",borderRadius:"12px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",background:"rgba(10,24,45,0.98)",boxShadow:"0 12px 32px rgba(0,0,0,0.6)",backdropFilter:"blur(40px)",overflow:"hidden"},children:[F.jsx("div",{className:"schema-option opt-green",onClick:()=>{if(se.length===0){window.dispatchEvent(new CustomEvent("excel:status",{detail:{message:"No mappings to download yet",type:"warn",durationMs:2500}})),Ce(!1);return}if(ot.length>0){window.dispatchEvent(new Event("excel:download-mapping-request")),Ce(!1);return}window.dispatchEvent(new Event("excel:download-mapping-request")),Ce(!1)},dir:"rtl",style:{padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,0.08)",textAlign:"center",background:"rgba(10,24,45,0.98)",color:"#ffffff"},onMouseEnter:G=>q(G.currentTarget,!0),onMouseLeave:G=>q(G.currentTarget,!1),children:"הורד Mapping"}),F.jsx("div",{className:"schema-option opt-green",onClick:()=>{window.dispatchEvent(new Event("excel:download-template-request")),Ce(!1)},style:{padding:"10px 12px",borderBottom:"none",textAlign:"center",background:"rgba(10,24,45,0.98)",color:"#ffffff"},onMouseEnter:G=>q(G.currentTarget,!0),onMouseLeave:G=>q(G.currentTarget,!1),children:'הורד פורמט דג"ח'})]})]})]})]}),F.jsxs("div",{className:"header-actions",children:[F.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:r?F.jsxs(F.Fragment,{children:[F.jsx(k4,{}),e()&&F.jsxs("button",{onClick:()=>s(!0),style:{padding:"8px 16px",backgroundColor:"rgba(255, 165, 0, 0.2)",color:"#ffa500",border:"1px solid rgba(255, 165, 0, 0.4)",borderRadius:"8px",fontSize:"12px",maxHeight:"35px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:"pointer",transition:"all 0.2s",direction:"rtl",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:G=>{G.currentTarget.style.backgroundColor="rgba(255, 165, 0, 0.3)",G.currentTarget.style.borderColor="rgba(255, 165, 0, 0.6)"},onMouseOut:G=>{G.currentTarget.style.backgroundColor="rgba(255, 165, 0, 0.2)",G.currentTarget.style.borderColor="rgba(255, 165, 0, 0.4)"},children:[F.jsx("span",{children:"⚙️"}),"ניהול הרשאות"]})]}):F.jsx("button",{onClick:()=>l(!0),style:{padding:"8px 16px",backgroundColor:"var(--accent)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontFamily:"Segoe UI, Arial, sans-serif",cursor:"pointer",transition:"background-color 0.2s",direction:"rtl"},onMouseOver:G=>G.currentTarget.style.backgroundColor="var(--accent-hover)",onMouseOut:G=>G.currentTarget.style.backgroundColor="var(--accent)",children:"התחבר"})}),c==="viz"&&(r==null?void 0:r.role)==="admin"&&F.jsx("div",{className:"schema-group",style:{display:"flex",alignItems:"center",gap:6},children:F.jsxs("div",{className:"schema-selector",children:[F.jsxs("button",{className:`btn ghost ${de?"":"is-placeholder"}`,onClick:()=>he(!ve),children:[de&&it[de]?it[de].title:F.jsx("span",{className:"schema-placeholder",dir:"rtl",children:"בחר תקן"}),F.jsx("span",{style:{marginLeft:"8px"},children:"▼"})]}),ve&&F.jsx("div",{className:"schema-dropdown",children:Object.entries(it).map(([G,ie])=>F.jsx("div",{className:"schema-option",onClick:()=>{ge(G),he(!1)},children:ie.title},G))})]})}),c==="viz"&&(r==null?void 0:r.role)==="admin"&&F.jsxs(F.Fragment,{children:[F.jsx("button",{className:"btn ghost",onClick:ut,style:{display:"flex",padding:"12px 14px",maxHeight:"35px",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:"נקה"}),F.jsx("button",{className:"btn primary",onClick:Ge,style:{display:"flex",padding:"12px 14px",maxHeight:"35px",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:"ויזואליזציה"}),F.jsx("div",{className:"zoom-controls",children:F.jsxs("div",{className:"zoom-readout",children:[Math.round(U*100),"%"]})})]}),(r==null?void 0:r.role)==="admin"&&F.jsx("div",{ref:Ve,className:`input-dropdown anchored ${B?"open":""}`,children:F.jsxs("div",{className:"panel input dropdown",children:[F.jsx("div",{className:"panel-title",children:"קלט JSON"}),F.jsx("textarea",{className:"json-input",spellCheck:!1,placeholder:"הדבק JSON כאן...",value:S,onChange:G=>C(G.target.value)}),F.jsxs("div",{className:"panel-footer",children:[L?F.jsx("div",{className:"notice error",children:L}):F.jsx("div",{className:"notice ok",children:Se?`זוהה: ${Se}`:"ממתין ל-JSON תקין..."}),F.jsx("div",{style:{display:"flex",gap:8},children:F.jsx("button",{className:"btn primary",onClick:Ge,style:{padding:"12px 14px",minHeight:"48px"},children:"ויזואליזציה"})})]})]})}),c==="common"&&(r==null?void 0:r.role)==="admin"&&F.jsx("div",{className:"notification-container",children:F.jsxs("button",{className:"notification-btn",onClick:()=>console.log("Notifications clicked"),children:[F.jsx("svg",{className:"notification-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:F.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})}),F.jsx("span",{className:"notification-count",children:"3"})]})}),F.jsxs("div",{className:"action-dropdown",ref:ct,style:{position:"relative"},children:[F.jsx("button",{className:"btn ghost","aria-haspopup":"menu","aria-expanded":Be?"true":"false",onClick:()=>{console.log("Hamburger clicked, current isNavOpen:",Be,"activeScreen:",c),Xe(!Be)},title:"ניווט",children:F.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[F.jsx("rect",{x:"3",y:"6",width:"18",height:"2",rx:"1"}),F.jsx("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1"}),F.jsx("rect",{x:"3",y:"16",width:"18",height:"2",rx:"1"})]})}),Be&&F.jsxs("div",{className:"schema-dropdown",style:{right:0,left:"auto",minWidth:220,position:"absolute"},role:"menu",dir:"rtl",children:[(r==null?void 0:r.role)==="admin"&&F.jsxs("div",{className:"schema-option",role:"menuitem",onClick:()=>{console.log("Clicking viz option"),a("viz"),Xe(!1),Je(!1),Ce(!1),he(!1)},onMouseEnter:()=>console.log("Hovering over viz option"),onMouseLeave:()=>console.log("Leaving viz option"),style:{position:"relative",padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",pointerEvents:"auto",zIndex:9999999},children:["ויואליזציה + Mapping",F.jsx("span",{style:{position:"absolute",right:"8px",fontSize:"10px",color:"var(--muted)"},children:"→"})]}),(r==null?void 0:r.role)==="admin"&&F.jsxs("div",{className:"schema-option",role:"menuitem",onClick:()=>{console.log("Clicking dictionary option"),a("dictionary"),Xe(!1),Je(!1),Ce(!1),he(!1)},onMouseEnter:()=>console.log("Hovering over dictionary option"),onMouseLeave:()=>console.log("Leaving dictionary option"),style:{position:"relative",padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",pointerEvents:"auto",zIndex:9999999},children:["מילון התקן",F.jsx("span",{style:{position:"absolute",right:"8px",fontSize:"10px",color:"var(--muted)"},children:"→"})]}),(r==null?void 0:r.role)==="admin"&&F.jsxs("div",{className:"schema-option",role:"menuitem",onClick:()=>{console.log("Clicking common option"),a("common"),Xe(!1),Je(!1),Ce(!1),he(!1)},onMouseEnter:()=>console.log("Hovering over common option"),onMouseLeave:()=>console.log("Leaving common option"),style:{position:"relative",padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",pointerEvents:"auto",zIndex:9999999},children:["המרחב המשותף",F.jsx("span",{style:{position:"absolute",right:"8px",fontSize:"10px",color:"var(--muted)"},children:"→"})]}),F.jsxs("div",{className:"schema-option",role:"menuitem",onClick:()=>{console.log("Clicking status option"),a("status"),Xe(!1),Je(!1),Ce(!1),he(!1)},onMouseEnter:()=>console.log("Hovering over status option"),onMouseLeave:()=>console.log("Leaving status option"),style:{position:"relative",padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.06)",transition:"background 0.2s ease",fontSize:"14px",color:"#ffffff",textAlign:"center",pointerEvents:"auto",zIndex:9999999},children:['סטטוס סג"חים',F.jsx("span",{style:{position:"absolute",right:"8px",fontSize:"10px",color:"var(--muted)"},children:"→"})]})]})]})]})]}),c==="viz"&&(r==null?void 0:r.role)==="admin"?F.jsxs("main",{className:"app-main full-screen has-extractor",children:[F.jsx(mv,{}),X&&F.jsxs("div",{className:"search-overlay",children:[F.jsxs("div",{className:"search-box",children:[F.jsx("input",{id:"tree-search",type:"text",placeholder:"Search cubes and descriptions...",value:_,onChange:G=>E(G.target.value),className:"search-input"}),F.jsx("button",{onClick:()=>{D(!1),E("")},className:"search-close",children:"×"})]}),W&&F.jsx("div",{className:"search-results",children:R.map(G=>{const ie=Te=>Te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ce=Te=>Te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),pe=Te=>{const ke=ie(Te),we=new RegExp(`(${ce(_)})`,"gi");return ke.replace(we,'<span class="search-snippet-highlight">$1</span>')};return F.jsxs("div",{className:"search-result-item",onClick:()=>{pt(G.id),V(!1)},children:[F.jsx("div",{className:"search-result-path",children:G.path}),G.snippet&&F.jsx("div",{className:"search-snippet",dangerouslySetInnerHTML:{__html:pe(G.snippet)}})]},G.id)})})]}),F.jsx("section",{className:"viz-section",onWheel:Dt,children:F.jsx("div",{className:"full-viz",onMouseDown:$t,onMouseMove:Wt,onMouseUp:Gt,onMouseLeave:te,children:F.jsxs("div",{className:"viz-wrapper",ref:Ae,style:{transform:`translate(${T.x}px, ${T.y}px) scale(${U})`},children:[I?F.jsx(fv,{root:I}):F.jsx("div",{className:"placeholder",children:"בחר סכמה ולחץ על ויזואליזציה"}),I&&F.jsx(pv,{containerRef:Ae})]})})})]}):c==="dictionary"&&(r==null?void 0:r.role)==="admin"?F.jsx(yv,{schemas:it}):c==="common"&&(r==null?void 0:r.role)==="admin"?F.jsx(v4,{}):c==="status"?F.jsx(_4,{}):r&&r.role!=="admin"?F.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"40px",textAlign:"center",direction:"rtl"},children:F.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(255,165,0,0.1), rgba(255,165,0,0.05))",border:"1px solid rgba(255,165,0,0.3)",borderRadius:"16px",padding:"40px",maxWidth:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:[F.jsx("div",{style:{fontSize:"48px",marginBottom:"20px",color:"var(--accent)"},children:"🔒"}),F.jsx("h2",{style:{color:"var(--text)",fontSize:"24px",fontWeight:"600",marginBottom:"16px"},children:"גישה מוגבלת"}),F.jsxs("p",{style:{color:"var(--muted)",fontSize:"16px",lineHeight:"1.6",marginBottom:"24px"},children:["רק מנהלים יכולים לגשת למסכי העץ, הבנק והמרחב המשותף.",F.jsx("br",{}),'אתה יכול לגשת למסך סטטוס הסג"חים בלבד.']}),F.jsx("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:F.jsxs("div",{style:{background:"rgba(124,192,255,0.1)",border:"1px solid rgba(124,192,255,0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",color:"var(--accent)"},children:[F.jsx("strong",{children:"תפקיד נוכחי:"})," ",r.role==="viewer"?"צופה":r.role==="editor"?"עורך":"מנהל"]})})]})}):null,c==="viz"&&I&&(r==null?void 0:r.role)==="admin"&&F.jsxs("div",{className:`required-panel ${Fe?"open":"collapsed"}`,children:[F.jsxs("div",{className:"required-header",dir:"rtl",onClick:()=>De(G=>!G),children:[F.jsx("div",{className:"required-title",children:"שדות חובה בתקן:"}),F.jsx("button",{className:"required-toggle","aria-label":Fe?"סגור":"פתח",children:Fe?"▲":"▼"})]}),Fe&&F.jsx("div",{className:"required-body",dir:"rtl",children:ot.length===0?F.jsx("div",{className:"required-empty",children:"אין שדות חובה חסרים"}):F.jsx("ul",{className:"required-list",children:ot.map(G=>F.jsxs("li",{className:"req-item","data-state":"required",title:G.path,children:[F.jsx("span",{className:"req-dot","aria-hidden":"true"}),F.jsx("span",{className:"req-text",children:G.path})]},G.id))})})]}),i&&F.jsx("div",{className:`toast-bottom ${f} ${h?"leaving":""} ${y?"show":""}`,dir:"rtl",children:i}),K&&F.jsx("div",{className:"modal-overlay",onClick:()=>N(null),children:F.jsx("div",{className:"modal",onClick:G=>G.stopPropagation(),children:F.jsxs("div",{style:{padding:"24px"},children:[F.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"600"},children:"Field Mapping"}),F.jsxs("div",{className:"mapping-grid",style:{gridTemplateColumns:le?"1fr auto 1fr auto 1fr auto 1fr":"1fr auto 1fr auto 1fr",alignItems:"center"},children:[F.jsxs("div",{className:"map-col",children:[F.jsx("div",{className:"small-h",dir:"rtl",style:{textAlign:"center"},children:"שדה בתקן"}),F.jsxs("div",{className:"map-card",style:{textAlign:"center"},children:[F.jsx("div",{className:"map-main",children:K.targetNode.name}),F.jsx("div",{className:"map-sub",children:K.targetNode.type}),F.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"8px"},children:[F.jsxs("div",{children:[F.jsx("strong",{children:"Description:"})," ",K.targetNode.description||"No description"]}),K.targetNode.rules&&K.targetNode.rules.length>0&&F.jsxs("div",{children:[F.jsx("strong",{children:"Rules:"})," ",K.targetNode.rules.join(", ")]}),K.targetNode.valuePreview&&F.jsxs("div",{children:[F.jsx("strong",{children:"Preview:"})," ",K.targetNode.valuePreview]})]})]})]}),F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:F.jsx("span",{style:{fontSize:"24px",color:"var(--muted)"},children:"←"})}),le&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"map-col",children:[F.jsx("div",{className:"small-h",dir:"rtl",style:{textAlign:"center"},children:"רק בOUTPUTS"}),F.jsx("div",{className:"map-card",children:F.jsx("textarea",{className:"map-notes",placeholder:"Specify outputs...",value:J,onChange:G=>ne(G.target.value),style:{minHeight:"120px",textAlign:"center"}})})]}),F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:F.jsx("span",{style:{fontSize:"24px",color:"var(--muted)"},children:"←"})})]}),F.jsxs("div",{className:"map-col",children:[F.jsx("div",{className:"small-h",dir:"rtl",style:{textAlign:"center"},children:"פירוט הפרסר"}),F.jsx("div",{className:"map-card",children:F.jsx("textarea",{className:"map-notes",placeholder:"Define mapping logic...",value:Y,onChange:G=>ee(G.target.value),style:{minHeight:"120px",textAlign:"center"}})})]}),F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:F.jsx("span",{style:{fontSize:"24px",color:"var(--muted)"},children:"←"})}),F.jsxs("div",{className:"map-col",children:[F.jsx("div",{className:"small-h",dir:"rtl",style:{textAlign:"center"},children:'שדה מהדג"ח'}),F.jsxs("div",{className:"map-card",style:{textAlign:"center"},children:[F.jsx("div",{className:"map-main",children:K.field.name}),F.jsx("div",{className:"map-sub",children:K.field.fieldType}),F.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"8px"},children:[F.jsxs("div",{children:[F.jsx("strong",{children:"מהות השדה:"})," ",K.field.fieldEssence||"-"]}),F.jsxs("div",{children:[F.jsx("strong",{children:'דג"ח:'})," ",K.field.dgh||"-"]}),F.jsxs("div",{children:[F.jsx("strong",{children:"האם יחזור תמיד:"})," ",K.field.always||"-"]})]})]})]})]}),F.jsx("div",{style:{marginTop:"20px",display:"flex",alignItems:"center",gap:"12px"},children:F.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"14px"},children:[F.jsx("input",{type:"checkbox",checked:le,onChange:G=>ae(G.target.checked),style:{width:"16px",height:"16px",accentColor:"var(--accent)",cursor:"pointer"}}),F.jsx("span",{dir:"rtl",children:"הפרסור יתבצע רק בoutputs ספציפיים"})]})}),F.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[F.jsx("button",{className:"btn ghost",onClick:()=>N(null),children:"Cancel"}),F.jsx("button",{className:"btn primary",onClick:()=>{try{const G={targetNode:K.targetNode,field:K.field,mappingDetails:Y,outputs:J,timestamp:Date.now()};Tt(G)}catch(G){console.error("Failed to prepare mapping:",G),alert("Failed to save mapping. Check console for details.")}},children:"Save Mapping"})]})]})})}),Ke&&F.jsx("div",{className:"modal-overlay",onClick:()=>{rt(!1),Le(null)},children:F.jsx("div",{className:"modal",onClick:G=>G.stopPropagation(),children:F.jsxs("div",{style:{padding:"20px"},dir:"rtl",children:[F.jsx("h3",{style:{margin:"0 0 12px 0",textAlign:"center"},children:"זהירות!"}),F.jsx("p",{style:{margin:"0 0 16px 0",textAlign:"center"},children:'אתם משתמשים בשדה בתקן שכבר נמצא בשימוש עם שדה אחר בדג"ח! אתם בטוחים שאתם רוצים להמשיך?'}),F.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[F.jsx("button",{className:"btn ghost",onClick:()=>{rt(!1),Le(null),ht(null),_e(null)},children:"בטל"}),F.jsx("button",{className:"btn primary",onClick:()=>{if(re==="drop"&&yt){const{targetNode:G,field:ie}=yt;N({targetNode:G,field:ie}),$(ie.name||""),ee(""),Z(G.name||""),ae(!1),ne("")}else re==="save"&&dt&&Tt(dt);rt(!1),Le(null),ht(null),_e(null)},children:"המשך"})]})]})})}),et&&F.jsx("div",{className:"modal-overlay",onClick:()=>He(!1),children:F.jsx("div",{className:"modal",onClick:G=>G.stopPropagation(),children:F.jsxs("div",{style:{padding:"20px"},dir:"rtl",children:[F.jsx("h3",{style:{margin:"0 0 12px 0",textAlign:"center"},children:"חסרים שדות חובה"}),F.jsxs("p",{style:{margin:"0 0 16px 0",textAlign:"center"},children:["ישנם ",ot.length," שדות חובה שעדיין לא מולאו."]}),F.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[F.jsx("button",{className:"btn ghost",onClick:()=>He(!1),children:"בטל"}),F.jsx("button",{className:"btn primary",onClick:()=>{window.dispatchEvent(new Event("excel:download-mapping-request")),He(!1)},children:"הורד בכל זאת"})]})]})})})]}),F.jsx(S4,{isOpen:n,onClose:()=>l(!1)}),F.jsx(C4,{isOpen:o,onClose:()=>s(!1)})]})}function I4(){return F.jsx(T4,{children:F.jsx(y4,{children:F.jsx(b4,{children:F.jsx(A4,{})})})})}Wc.createRoot(document.getElementById("root")).render(F.jsx(Xy.StrictMode,{children:F.jsx(I4,{})}));
